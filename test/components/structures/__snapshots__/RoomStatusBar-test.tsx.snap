// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`RoomStatusBar connectivity lost bar connectivity lost bar has priority over the timeline refresh bar 1`] = `
<RoomStatusBar
  room={
    Room {
      "_events": Object {
        "Room.historyImportedWithinTimeline": [Function],
      },
      "_eventsCount": 1,
      "_maxListeners": 100,
      "accountData": Object {},
      "applyRedaction": [Function],
      "blacklistUnverifiedDevices": undefined,
      "client": Object {
        "canSupport": Map {
          "Thread" => 0,
          "ThreadUnreadNotifications" => 0,
          "LoginTokenRequest" => 0,
        },
        "cancelPendingEvent": [MockFunction],
        "createRoom": [MockFunction],
        "credentials": Object {
          "userId": "@userId:matrix.org",
        },
        "crypto": Object {
          "deviceList": Object {
            "downloadKeys": [MockFunction],
          },
        },
        "decryptEventIfNeeded": [Function],
        "doesServerSupportUnstableFeature": [MockFunction],
        "downloadKeys": [MockFunction],
        "emit": [Function],
        "encryptAndSendToDevices": [MockFunction],
        "fetchRoomEvent": [MockFunction],
        "generateClientSecret": [Function],
        "getAccountData": [Function],
        "getCapabilities": [MockFunction],
        "getClientWellKnown": [MockFunction],
        "getDeviceId": [MockFunction],
        "getDevices": [MockFunction],
        "getDomain": [MockFunction],
        "getEventMapper": [Function],
        "getHomeserverUrl": [MockFunction],
        "getIdentityAccount": [MockFunction],
        "getIdentityServerUrl": [MockFunction],
        "getMediaHandler": [MockFunction],
        "getOpenIdToken": [MockFunction],
        "getProfileInfo": [MockFunction],
        "getPushActionsForEvent": [MockFunction],
        "getPushRules": [MockFunction],
        "getPushers": [MockFunction],
        "getRoom": [MockFunction],
        "getRoomDirectoryVisibility": [MockFunction],
        "getRoomHierarchy": [MockFunction],
        "getRoomIdForAlias": [MockFunction],
        "getRoomUpgradeHistory": [MockFunction],
        "getRooms": [MockFunction],
        "getSyncState": [Function],
        "getSyncStateData": [Function],
        "getTerms": [MockFunction],
        "getThirdpartyProtocols": [MockFunction],
        "getThirdpartyUser": [MockFunction],
        "getThreePids": [MockFunction],
        "getTurnServers": [MockFunction],
        "getTurnServersExpiry": [MockFunction],
        "getUser": [MockFunction],
        "getUserId": [MockFunction],
        "getVisibleRooms": [MockFunction],
        "hasLazyLoadMembersEnabled": [MockFunction],
        "isCryptoEnabled": [MockFunction],
        "isGuest": [MockFunction],
        "isInitialSyncComplete": [MockFunction],
        "isRoomEncrypted": [MockFunction],
        "isUserIgnored": [MockFunction],
        "isVersionSupported": [MockFunction],
        "loginFlows": [MockFunction],
        "makeTxnId": [MockFunction],
        "mxcUrlToHttp": [Function],
        "off": [Function],
        "on": [Function],
        "paginateEventTimeline": [MockFunction],
        "peekInRoom": [MockFunction],
        "pushRules": Object {},
        "queueToDevice": [MockFunction],
        "reEmitter": ReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "registerWithIdentityServer": [MockFunction],
        "relations": [MockFunction],
        "removeListener": [Function],
        "sendMessage": [MockFunction],
        "sendReadReceipt": [MockFunction],
        "sendStateEvent": [MockFunction],
        "sendToDevice": [MockFunction],
        "sendTyping": [MockFunction],
        "setAccountData": [MockFunction],
        "setPowerLevel": [MockFunction],
        "setPushRuleActions": [MockFunction],
        "setPushRuleEnabled": [MockFunction],
        "setPusher": [MockFunction],
        "setRoomAccountData": [MockFunction],
        "setRoomReadMarkers": [MockFunction],
        "setRoomTopic": [MockFunction],
        "stopPeeking": [MockFunction],
        "store": Object {
          "getPendingEvents": [MockFunction] {
            "calls": Array [
              Array [
                "r1",
              ],
            ],
            "results": Array [
              Object {
                "type": "return",
                "value": Promise {},
              },
            ],
          },
          "removeRoom": [MockFunction],
          "setPendingEvents": [MockFunction],
          "storeRoom": [MockFunction],
        },
        "supportsExperimentalThreads": [Function],
        "supportsVoip": [MockFunction],
        "uploadContent": [MockFunction],
      },
      "currentState": RoomState {
        "_events": Object {
          "Beacon.Destroy": [Function],
          "Beacon.LivenessChange": [Function],
          "Beacon.new": [Function],
          "Beacon.update": [Function],
          "RoomState.Marker": [Function],
          "RoomState.events": [Function],
          "RoomState.members": [Function],
          "RoomState.newMember": [Function],
          "RoomState.update": [Function],
        },
        "_eventsCount": 9,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "filteredTimelineSets": Object {},
      "getTypeWarning": false,
      "getVersionWarning": false,
      "lastThread": undefined,
      "membersPromise": Promise {},
      "myUserId": "@name:example.com",
      "name": "r1",
      "normalizedName": "r1",
      "notificationCounts": Object {},
      "oldState": RoomState {
        "_events": Object {},
        "_eventsCount": 0,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "opts": Object {
        "pendingEventOrdering": "detached",
      },
      "pendingEventList": Array [],
      "reEmitter": TypedReEmitter {
        "reEmitters": Map {
          EventTimelineSet {
            "_eventIdToTimeline": Map {},
            "_events": Object {
              "Room.timeline": [Function],
              "Room.timelineReset": [Function],
            },
            "_eventsCount": 2,
            "_maxListeners": undefined,
            "displayPendingEvents": true,
            "filter": undefined,
            "liveTimeline": EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
            "relations": RelationsContainer {
              "client": Object {
                "canSupport": Map {
                  "Thread" => 0,
                  "ThreadUnreadNotifications" => 0,
                  "LoginTokenRequest" => 0,
                },
                "cancelPendingEvent": [MockFunction],
                "createRoom": [MockFunction],
                "credentials": Object {
                  "userId": "@userId:matrix.org",
                },
                "crypto": Object {
                  "deviceList": Object {
                    "downloadKeys": [MockFunction],
                  },
                },
                "decryptEventIfNeeded": [Function],
                "doesServerSupportUnstableFeature": [MockFunction],
                "downloadKeys": [MockFunction],
                "emit": [Function],
                "encryptAndSendToDevices": [MockFunction],
                "fetchRoomEvent": [MockFunction],
                "generateClientSecret": [Function],
                "getAccountData": [Function],
                "getCapabilities": [MockFunction],
                "getClientWellKnown": [MockFunction],
                "getDeviceId": [MockFunction],
                "getDevices": [MockFunction],
                "getDomain": [MockFunction],
                "getEventMapper": [Function],
                "getHomeserverUrl": [MockFunction],
                "getIdentityAccount": [MockFunction],
                "getIdentityServerUrl": [MockFunction],
                "getMediaHandler": [MockFunction],
                "getOpenIdToken": [MockFunction],
                "getProfileInfo": [MockFunction],
                "getPushActionsForEvent": [MockFunction],
                "getPushRules": [MockFunction],
                "getPushers": [MockFunction],
                "getRoom": [MockFunction],
                "getRoomDirectoryVisibility": [MockFunction],
                "getRoomHierarchy": [MockFunction],
                "getRoomIdForAlias": [MockFunction],
                "getRoomUpgradeHistory": [MockFunction],
                "getRooms": [MockFunction],
                "getSyncState": [Function],
                "getSyncStateData": [Function],
                "getTerms": [MockFunction],
                "getThirdpartyProtocols": [MockFunction],
                "getThirdpartyUser": [MockFunction],
                "getThreePids": [MockFunction],
                "getTurnServers": [MockFunction],
                "getTurnServersExpiry": [MockFunction],
                "getUser": [MockFunction],
                "getUserId": [MockFunction],
                "getVisibleRooms": [MockFunction],
                "hasLazyLoadMembersEnabled": [MockFunction],
                "isCryptoEnabled": [MockFunction],
                "isGuest": [MockFunction],
                "isInitialSyncComplete": [MockFunction],
                "isRoomEncrypted": [MockFunction],
                "isUserIgnored": [MockFunction],
                "isVersionSupported": [MockFunction],
                "loginFlows": [MockFunction],
                "makeTxnId": [MockFunction],
                "mxcUrlToHttp": [Function],
                "off": [Function],
                "on": [Function],
                "paginateEventTimeline": [MockFunction],
                "peekInRoom": [MockFunction],
                "pushRules": Object {},
                "queueToDevice": [MockFunction],
                "reEmitter": ReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "registerWithIdentityServer": [MockFunction],
                "relations": [MockFunction],
                "removeListener": [Function],
                "sendMessage": [MockFunction],
                "sendReadReceipt": [MockFunction],
                "sendStateEvent": [MockFunction],
                "sendToDevice": [MockFunction],
                "sendTyping": [MockFunction],
                "setAccountData": [MockFunction],
                "setPowerLevel": [MockFunction],
                "setPushRuleActions": [MockFunction],
                "setPushRuleEnabled": [MockFunction],
                "setPusher": [MockFunction],
                "setRoomAccountData": [MockFunction],
                "setRoomReadMarkers": [MockFunction],
                "setRoomTopic": [MockFunction],
                "stopPeeking": [MockFunction],
                "store": Object {
                  "getPendingEvents": [MockFunction] {
                    "calls": Array [
                      Array [
                        "r1",
                      ],
                    ],
                    "results": Array [
                      Object {
                        "type": "return",
                        "value": Promise {},
                      },
                    ],
                  },
                  "removeRoom": [MockFunction],
                  "setPendingEvents": [MockFunction],
                  "storeRoom": [MockFunction],
                },
                "supportsExperimentalThreads": [Function],
                "supportsVoip": [MockFunction],
                "uploadContent": [MockFunction],
              },
              "relations": Map {},
              "room": [Circular],
            },
            "room": [Circular],
            "thread": undefined,
            "threadListType": null,
            "timelineSupport": false,
            "timelines": Array [
              EventTimeline {
                "baseIndex": 0,
                "endState": RoomState {
                  "_events": Object {
                    "Beacon.Destroy": [Function],
                    "Beacon.LivenessChange": [Function],
                    "Beacon.new": [Function],
                    "Beacon.update": [Function],
                    "RoomState.Marker": [Function],
                    "RoomState.events": [Function],
                    "RoomState.members": [Function],
                    "RoomState.newMember": [Function],
                    "RoomState.update": [Function],
                  },
                  "_eventsCount": 9,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
                "eventTimelineSet": [Circular],
                "events": Array [],
                "name": "r1:2021-11-23T14:35:14.240Z",
                "nextTimeline": null,
                "paginationRequests": Object {
                  "b": null,
                  "f": null,
                },
                "prevTimeline": null,
                "roomId": "r1",
                "startState": RoomState {
                  "_events": Object {},
                  "_eventsCount": 0,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
              },
            ],
            Symbol(kCapture): false,
          } => Map {
            "Room.timeline" => [Function],
            "Room.timelineReset" => [Function],
          },
          RoomState {
            "_events": Object {
              "Beacon.Destroy": [Function],
              "Beacon.LivenessChange": [Function],
              "Beacon.new": [Function],
              "Beacon.update": [Function],
              "RoomState.Marker": [Function],
              "RoomState.events": [Function],
              "RoomState.members": [Function],
              "RoomState.newMember": [Function],
              "RoomState.update": [Function],
            },
            "_eventsCount": 9,
            "_liveBeaconIds": Array [],
            "_maxListeners": undefined,
            "beacons": Map {},
            "displayNameToUserIds": Map {},
            "events": Map {},
            "invitedMemberCount": null,
            "joinedMemberCount": null,
            "members": Object {},
            "modified": 2345678901234,
            "oobMemberFlags": Object {
              "status": 0,
            },
            "paginationToken": null,
            "reEmitter": TypedReEmitter {
              "reEmitters": Map {},
              "target": [Circular],
            },
            "roomId": "r1",
            "sentinels": Object {},
            "summaryInvitedMemberCount": null,
            "summaryJoinedMemberCount": null,
            "tokenToInvite": Object {},
            "userIdsToDisplayNames": Object {},
            Symbol(kCapture): false,
          } => Map {
            "RoomState.events" => [Function],
            "RoomState.members" => [Function],
            "RoomState.newMember" => [Function],
            "RoomState.update" => [Function],
            "RoomState.Marker" => [Function],
            "Beacon.new" => [Function],
            "Beacon.update" => [Function],
            "Beacon.Destroy" => [Function],
            "Beacon.LivenessChange" => [Function],
          },
        },
        "target": [Circular],
      },
      "receiptCacheByEventId": Object {},
      "receipts": Object {},
      "relations": RelationsContainer {
        "client": Object {
          "canSupport": Map {
            "Thread" => 0,
            "ThreadUnreadNotifications" => 0,
            "LoginTokenRequest" => 0,
          },
          "cancelPendingEvent": [MockFunction],
          "createRoom": [MockFunction],
          "credentials": Object {
            "userId": "@userId:matrix.org",
          },
          "crypto": Object {
            "deviceList": Object {
              "downloadKeys": [MockFunction],
            },
          },
          "decryptEventIfNeeded": [Function],
          "doesServerSupportUnstableFeature": [MockFunction],
          "downloadKeys": [MockFunction],
          "emit": [Function],
          "encryptAndSendToDevices": [MockFunction],
          "fetchRoomEvent": [MockFunction],
          "generateClientSecret": [Function],
          "getAccountData": [Function],
          "getCapabilities": [MockFunction],
          "getClientWellKnown": [MockFunction],
          "getDeviceId": [MockFunction],
          "getDevices": [MockFunction],
          "getDomain": [MockFunction],
          "getEventMapper": [Function],
          "getHomeserverUrl": [MockFunction],
          "getIdentityAccount": [MockFunction],
          "getIdentityServerUrl": [MockFunction],
          "getMediaHandler": [MockFunction],
          "getOpenIdToken": [MockFunction],
          "getProfileInfo": [MockFunction],
          "getPushActionsForEvent": [MockFunction],
          "getPushRules": [MockFunction],
          "getPushers": [MockFunction],
          "getRoom": [MockFunction],
          "getRoomDirectoryVisibility": [MockFunction],
          "getRoomHierarchy": [MockFunction],
          "getRoomIdForAlias": [MockFunction],
          "getRoomUpgradeHistory": [MockFunction],
          "getRooms": [MockFunction],
          "getSyncState": [Function],
          "getSyncStateData": [Function],
          "getTerms": [MockFunction],
          "getThirdpartyProtocols": [MockFunction],
          "getThirdpartyUser": [MockFunction],
          "getThreePids": [MockFunction],
          "getTurnServers": [MockFunction],
          "getTurnServersExpiry": [MockFunction],
          "getUser": [MockFunction],
          "getUserId": [MockFunction],
          "getVisibleRooms": [MockFunction],
          "hasLazyLoadMembersEnabled": [MockFunction],
          "isCryptoEnabled": [MockFunction],
          "isGuest": [MockFunction],
          "isInitialSyncComplete": [MockFunction],
          "isRoomEncrypted": [MockFunction],
          "isUserIgnored": [MockFunction],
          "isVersionSupported": [MockFunction],
          "loginFlows": [MockFunction],
          "makeTxnId": [MockFunction],
          "mxcUrlToHttp": [Function],
          "off": [Function],
          "on": [Function],
          "paginateEventTimeline": [MockFunction],
          "peekInRoom": [MockFunction],
          "pushRules": Object {},
          "queueToDevice": [MockFunction],
          "reEmitter": ReEmitter {
            "reEmitters": Map {},
            "target": [Circular],
          },
          "registerWithIdentityServer": [MockFunction],
          "relations": [MockFunction],
          "removeListener": [Function],
          "sendMessage": [MockFunction],
          "sendReadReceipt": [MockFunction],
          "sendStateEvent": [MockFunction],
          "sendToDevice": [MockFunction],
          "sendTyping": [MockFunction],
          "setAccountData": [MockFunction],
          "setPowerLevel": [MockFunction],
          "setPushRuleActions": [MockFunction],
          "setPushRuleEnabled": [MockFunction],
          "setPusher": [MockFunction],
          "setRoomAccountData": [MockFunction],
          "setRoomReadMarkers": [MockFunction],
          "setRoomTopic": [MockFunction],
          "stopPeeking": [MockFunction],
          "store": Object {
            "getPendingEvents": [MockFunction] {
              "calls": Array [
                Array [
                  "r1",
                ],
              ],
              "results": Array [
                Object {
                  "type": "return",
                  "value": Promise {},
                },
              ],
            },
            "removeRoom": [MockFunction],
            "setPendingEvents": [MockFunction],
            "storeRoom": [MockFunction],
          },
          "supportsExperimentalThreads": [Function],
          "supportsVoip": [MockFunction],
          "uploadContent": [MockFunction],
        },
        "relations": Map {},
        "room": [Circular],
      },
      "roomId": "r1",
      "selfMembership": undefined,
      "summary": null,
      "summaryHeroes": null,
      "tags": Object {},
      "threadNotifications": Map {},
      "threadTimelineSetsPromise": null,
      "threads": Map {},
      "threadsReady": false,
      "threadsTimelineSets": Array [],
      "timeline": Array [],
      "timelineNeedsRefresh": true,
      "timelineSets": Array [
        EventTimelineSet {
          "_eventIdToTimeline": Map {},
          "_events": Object {
            "Room.timeline": [Function],
            "Room.timelineReset": [Function],
          },
          "_eventsCount": 2,
          "_maxListeners": undefined,
          "displayPendingEvents": true,
          "filter": undefined,
          "liveTimeline": EventTimeline {
            "baseIndex": 0,
            "endState": RoomState {
              "_events": Object {
                "Beacon.Destroy": [Function],
                "Beacon.LivenessChange": [Function],
                "Beacon.new": [Function],
                "Beacon.update": [Function],
                "RoomState.Marker": [Function],
                "RoomState.events": [Function],
                "RoomState.members": [Function],
                "RoomState.newMember": [Function],
                "RoomState.update": [Function],
              },
              "_eventsCount": 9,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
            "eventTimelineSet": [Circular],
            "events": Array [],
            "name": "r1:2021-11-23T14:35:14.240Z",
            "nextTimeline": null,
            "paginationRequests": Object {
              "b": null,
              "f": null,
            },
            "prevTimeline": null,
            "roomId": "r1",
            "startState": RoomState {
              "_events": Object {},
              "_eventsCount": 0,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
          },
          "relations": RelationsContainer {
            "client": Object {
              "canSupport": Map {
                "Thread" => 0,
                "ThreadUnreadNotifications" => 0,
                "LoginTokenRequest" => 0,
              },
              "cancelPendingEvent": [MockFunction],
              "createRoom": [MockFunction],
              "credentials": Object {
                "userId": "@userId:matrix.org",
              },
              "crypto": Object {
                "deviceList": Object {
                  "downloadKeys": [MockFunction],
                },
              },
              "decryptEventIfNeeded": [Function],
              "doesServerSupportUnstableFeature": [MockFunction],
              "downloadKeys": [MockFunction],
              "emit": [Function],
              "encryptAndSendToDevices": [MockFunction],
              "fetchRoomEvent": [MockFunction],
              "generateClientSecret": [Function],
              "getAccountData": [Function],
              "getCapabilities": [MockFunction],
              "getClientWellKnown": [MockFunction],
              "getDeviceId": [MockFunction],
              "getDevices": [MockFunction],
              "getDomain": [MockFunction],
              "getEventMapper": [Function],
              "getHomeserverUrl": [MockFunction],
              "getIdentityAccount": [MockFunction],
              "getIdentityServerUrl": [MockFunction],
              "getMediaHandler": [MockFunction],
              "getOpenIdToken": [MockFunction],
              "getProfileInfo": [MockFunction],
              "getPushActionsForEvent": [MockFunction],
              "getPushRules": [MockFunction],
              "getPushers": [MockFunction],
              "getRoom": [MockFunction],
              "getRoomDirectoryVisibility": [MockFunction],
              "getRoomHierarchy": [MockFunction],
              "getRoomIdForAlias": [MockFunction],
              "getRoomUpgradeHistory": [MockFunction],
              "getRooms": [MockFunction],
              "getSyncState": [Function],
              "getSyncStateData": [Function],
              "getTerms": [MockFunction],
              "getThirdpartyProtocols": [MockFunction],
              "getThirdpartyUser": [MockFunction],
              "getThreePids": [MockFunction],
              "getTurnServers": [MockFunction],
              "getTurnServersExpiry": [MockFunction],
              "getUser": [MockFunction],
              "getUserId": [MockFunction],
              "getVisibleRooms": [MockFunction],
              "hasLazyLoadMembersEnabled": [MockFunction],
              "isCryptoEnabled": [MockFunction],
              "isGuest": [MockFunction],
              "isInitialSyncComplete": [MockFunction],
              "isRoomEncrypted": [MockFunction],
              "isUserIgnored": [MockFunction],
              "isVersionSupported": [MockFunction],
              "loginFlows": [MockFunction],
              "makeTxnId": [MockFunction],
              "mxcUrlToHttp": [Function],
              "off": [Function],
              "on": [Function],
              "paginateEventTimeline": [MockFunction],
              "peekInRoom": [MockFunction],
              "pushRules": Object {},
              "queueToDevice": [MockFunction],
              "reEmitter": ReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "registerWithIdentityServer": [MockFunction],
              "relations": [MockFunction],
              "removeListener": [Function],
              "sendMessage": [MockFunction],
              "sendReadReceipt": [MockFunction],
              "sendStateEvent": [MockFunction],
              "sendToDevice": [MockFunction],
              "sendTyping": [MockFunction],
              "setAccountData": [MockFunction],
              "setPowerLevel": [MockFunction],
              "setPushRuleActions": [MockFunction],
              "setPushRuleEnabled": [MockFunction],
              "setPusher": [MockFunction],
              "setRoomAccountData": [MockFunction],
              "setRoomReadMarkers": [MockFunction],
              "setRoomTopic": [MockFunction],
              "stopPeeking": [MockFunction],
              "store": Object {
                "getPendingEvents": [MockFunction] {
                  "calls": Array [
                    Array [
                      "r1",
                    ],
                  ],
                  "results": Array [
                    Object {
                      "type": "return",
                      "value": Promise {},
                    },
                  ],
                },
                "removeRoom": [MockFunction],
                "setPendingEvents": [MockFunction],
                "storeRoom": [MockFunction],
              },
              "supportsExperimentalThreads": [Function],
              "supportsVoip": [MockFunction],
              "uploadContent": [MockFunction],
            },
            "relations": Map {},
            "room": [Circular],
          },
          "room": [Circular],
          "thread": undefined,
          "threadListType": null,
          "timelineSupport": false,
          "timelines": Array [
            EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
          ],
          Symbol(kCapture): false,
        },
      ],
      "txnToEvent": Object {},
      "updateThreadRootEvent": [Function],
      "updateThreadRootEvents": [Function],
      "visibilityEvents": Map {},
      Symbol(kCapture): false,
    }
  }
>
  <div
    className="mx_RoomStatusBar"
  >
    <div
      role="alert"
    >
      <div
        className="mx_RoomStatusBar_connectionLostBar"
      >
        <img
          alt=""
          height="24"
          src="image-file-stub"
          width="24"
        />
        <div>
          <div
            className="mx_RoomStatusBar_connectionLostBar_title"
          >
            Connectivity to the server has been lost.
          </div>
          <div
            className="mx_RoomStatusBar_connectionLostBar_desc"
          >
            Sent messages will be stored until your connection has returned.
          </div>
        </div>
      </div>
    </div>
  </div>
</RoomStatusBar>
`;

exports[`RoomStatusBar connectivity lost bar should show connection lost bar when sync has an error 1`] = `
<RoomStatusBar
  room={
    Room {
      "_events": Object {
        "Room.historyImportedWithinTimeline": [Function],
      },
      "_eventsCount": 1,
      "_maxListeners": 100,
      "accountData": Object {},
      "applyRedaction": [Function],
      "blacklistUnverifiedDevices": undefined,
      "client": Object {
        "canSupport": Map {
          "Thread" => 0,
          "ThreadUnreadNotifications" => 0,
          "LoginTokenRequest" => 0,
        },
        "cancelPendingEvent": [MockFunction],
        "createRoom": [MockFunction],
        "credentials": Object {
          "userId": "@userId:matrix.org",
        },
        "crypto": Object {
          "deviceList": Object {
            "downloadKeys": [MockFunction],
          },
        },
        "decryptEventIfNeeded": [Function],
        "doesServerSupportUnstableFeature": [MockFunction],
        "downloadKeys": [MockFunction],
        "emit": [Function],
        "encryptAndSendToDevices": [MockFunction],
        "fetchRoomEvent": [MockFunction],
        "generateClientSecret": [Function],
        "getAccountData": [Function],
        "getCapabilities": [MockFunction],
        "getClientWellKnown": [MockFunction],
        "getDeviceId": [MockFunction],
        "getDevices": [MockFunction],
        "getDomain": [MockFunction],
        "getEventMapper": [Function],
        "getHomeserverUrl": [MockFunction],
        "getIdentityAccount": [MockFunction],
        "getIdentityServerUrl": [MockFunction],
        "getMediaHandler": [MockFunction],
        "getOpenIdToken": [MockFunction],
        "getProfileInfo": [MockFunction],
        "getPushActionsForEvent": [MockFunction],
        "getPushRules": [MockFunction],
        "getPushers": [MockFunction],
        "getRoom": [MockFunction],
        "getRoomDirectoryVisibility": [MockFunction],
        "getRoomHierarchy": [MockFunction],
        "getRoomIdForAlias": [MockFunction],
        "getRoomUpgradeHistory": [MockFunction],
        "getRooms": [MockFunction],
        "getSyncState": [Function],
        "getSyncStateData": [Function],
        "getTerms": [MockFunction],
        "getThirdpartyProtocols": [MockFunction],
        "getThirdpartyUser": [MockFunction],
        "getThreePids": [MockFunction],
        "getTurnServers": [MockFunction],
        "getTurnServersExpiry": [MockFunction],
        "getUser": [MockFunction],
        "getUserId": [MockFunction],
        "getVisibleRooms": [MockFunction],
        "hasLazyLoadMembersEnabled": [MockFunction],
        "isCryptoEnabled": [MockFunction],
        "isGuest": [MockFunction],
        "isInitialSyncComplete": [MockFunction],
        "isRoomEncrypted": [MockFunction],
        "isUserIgnored": [MockFunction],
        "isVersionSupported": [MockFunction],
        "loginFlows": [MockFunction],
        "makeTxnId": [MockFunction],
        "mxcUrlToHttp": [Function],
        "off": [Function],
        "on": [Function],
        "paginateEventTimeline": [MockFunction],
        "peekInRoom": [MockFunction],
        "pushRules": Object {},
        "queueToDevice": [MockFunction],
        "reEmitter": ReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "registerWithIdentityServer": [MockFunction],
        "relations": [MockFunction],
        "removeListener": [Function],
        "sendMessage": [MockFunction],
        "sendReadReceipt": [MockFunction],
        "sendStateEvent": [MockFunction],
        "sendToDevice": [MockFunction],
        "sendTyping": [MockFunction],
        "setAccountData": [MockFunction],
        "setPowerLevel": [MockFunction],
        "setPushRuleActions": [MockFunction],
        "setPushRuleEnabled": [MockFunction],
        "setPusher": [MockFunction],
        "setRoomAccountData": [MockFunction],
        "setRoomReadMarkers": [MockFunction],
        "setRoomTopic": [MockFunction],
        "stopPeeking": [MockFunction],
        "store": Object {
          "getPendingEvents": [MockFunction] {
            "calls": Array [
              Array [
                "r1",
              ],
            ],
            "results": Array [
              Object {
                "type": "return",
                "value": Promise {},
              },
            ],
          },
          "removeRoom": [MockFunction],
          "setPendingEvents": [MockFunction],
          "storeRoom": [MockFunction],
        },
        "supportsExperimentalThreads": [Function],
        "supportsVoip": [MockFunction],
        "uploadContent": [MockFunction],
      },
      "currentState": RoomState {
        "_events": Object {
          "Beacon.Destroy": [Function],
          "Beacon.LivenessChange": [Function],
          "Beacon.new": [Function],
          "Beacon.update": [Function],
          "RoomState.Marker": [Function],
          "RoomState.events": [Function],
          "RoomState.members": [Function],
          "RoomState.newMember": [Function],
          "RoomState.update": [Function],
        },
        "_eventsCount": 9,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "filteredTimelineSets": Object {},
      "getTypeWarning": false,
      "getVersionWarning": false,
      "lastThread": undefined,
      "membersPromise": Promise {},
      "myUserId": "@name:example.com",
      "name": "r1",
      "normalizedName": "r1",
      "notificationCounts": Object {},
      "oldState": RoomState {
        "_events": Object {},
        "_eventsCount": 0,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "opts": Object {
        "pendingEventOrdering": "detached",
      },
      "pendingEventList": Array [],
      "reEmitter": TypedReEmitter {
        "reEmitters": Map {
          EventTimelineSet {
            "_eventIdToTimeline": Map {},
            "_events": Object {
              "Room.timeline": [Function],
              "Room.timelineReset": [Function],
            },
            "_eventsCount": 2,
            "_maxListeners": undefined,
            "displayPendingEvents": true,
            "filter": undefined,
            "liveTimeline": EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
            "relations": RelationsContainer {
              "client": Object {
                "canSupport": Map {
                  "Thread" => 0,
                  "ThreadUnreadNotifications" => 0,
                  "LoginTokenRequest" => 0,
                },
                "cancelPendingEvent": [MockFunction],
                "createRoom": [MockFunction],
                "credentials": Object {
                  "userId": "@userId:matrix.org",
                },
                "crypto": Object {
                  "deviceList": Object {
                    "downloadKeys": [MockFunction],
                  },
                },
                "decryptEventIfNeeded": [Function],
                "doesServerSupportUnstableFeature": [MockFunction],
                "downloadKeys": [MockFunction],
                "emit": [Function],
                "encryptAndSendToDevices": [MockFunction],
                "fetchRoomEvent": [MockFunction],
                "generateClientSecret": [Function],
                "getAccountData": [Function],
                "getCapabilities": [MockFunction],
                "getClientWellKnown": [MockFunction],
                "getDeviceId": [MockFunction],
                "getDevices": [MockFunction],
                "getDomain": [MockFunction],
                "getEventMapper": [Function],
                "getHomeserverUrl": [MockFunction],
                "getIdentityAccount": [MockFunction],
                "getIdentityServerUrl": [MockFunction],
                "getMediaHandler": [MockFunction],
                "getOpenIdToken": [MockFunction],
                "getProfileInfo": [MockFunction],
                "getPushActionsForEvent": [MockFunction],
                "getPushRules": [MockFunction],
                "getPushers": [MockFunction],
                "getRoom": [MockFunction],
                "getRoomDirectoryVisibility": [MockFunction],
                "getRoomHierarchy": [MockFunction],
                "getRoomIdForAlias": [MockFunction],
                "getRoomUpgradeHistory": [MockFunction],
                "getRooms": [MockFunction],
                "getSyncState": [Function],
                "getSyncStateData": [Function],
                "getTerms": [MockFunction],
                "getThirdpartyProtocols": [MockFunction],
                "getThirdpartyUser": [MockFunction],
                "getThreePids": [MockFunction],
                "getTurnServers": [MockFunction],
                "getTurnServersExpiry": [MockFunction],
                "getUser": [MockFunction],
                "getUserId": [MockFunction],
                "getVisibleRooms": [MockFunction],
                "hasLazyLoadMembersEnabled": [MockFunction],
                "isCryptoEnabled": [MockFunction],
                "isGuest": [MockFunction],
                "isInitialSyncComplete": [MockFunction],
                "isRoomEncrypted": [MockFunction],
                "isUserIgnored": [MockFunction],
                "isVersionSupported": [MockFunction],
                "loginFlows": [MockFunction],
                "makeTxnId": [MockFunction],
                "mxcUrlToHttp": [Function],
                "off": [Function],
                "on": [Function],
                "paginateEventTimeline": [MockFunction],
                "peekInRoom": [MockFunction],
                "pushRules": Object {},
                "queueToDevice": [MockFunction],
                "reEmitter": ReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "registerWithIdentityServer": [MockFunction],
                "relations": [MockFunction],
                "removeListener": [Function],
                "sendMessage": [MockFunction],
                "sendReadReceipt": [MockFunction],
                "sendStateEvent": [MockFunction],
                "sendToDevice": [MockFunction],
                "sendTyping": [MockFunction],
                "setAccountData": [MockFunction],
                "setPowerLevel": [MockFunction],
                "setPushRuleActions": [MockFunction],
                "setPushRuleEnabled": [MockFunction],
                "setPusher": [MockFunction],
                "setRoomAccountData": [MockFunction],
                "setRoomReadMarkers": [MockFunction],
                "setRoomTopic": [MockFunction],
                "stopPeeking": [MockFunction],
                "store": Object {
                  "getPendingEvents": [MockFunction] {
                    "calls": Array [
                      Array [
                        "r1",
                      ],
                    ],
                    "results": Array [
                      Object {
                        "type": "return",
                        "value": Promise {},
                      },
                    ],
                  },
                  "removeRoom": [MockFunction],
                  "setPendingEvents": [MockFunction],
                  "storeRoom": [MockFunction],
                },
                "supportsExperimentalThreads": [Function],
                "supportsVoip": [MockFunction],
                "uploadContent": [MockFunction],
              },
              "relations": Map {},
              "room": [Circular],
            },
            "room": [Circular],
            "thread": undefined,
            "threadListType": null,
            "timelineSupport": false,
            "timelines": Array [
              EventTimeline {
                "baseIndex": 0,
                "endState": RoomState {
                  "_events": Object {
                    "Beacon.Destroy": [Function],
                    "Beacon.LivenessChange": [Function],
                    "Beacon.new": [Function],
                    "Beacon.update": [Function],
                    "RoomState.Marker": [Function],
                    "RoomState.events": [Function],
                    "RoomState.members": [Function],
                    "RoomState.newMember": [Function],
                    "RoomState.update": [Function],
                  },
                  "_eventsCount": 9,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
                "eventTimelineSet": [Circular],
                "events": Array [],
                "name": "r1:2021-11-23T14:35:14.240Z",
                "nextTimeline": null,
                "paginationRequests": Object {
                  "b": null,
                  "f": null,
                },
                "prevTimeline": null,
                "roomId": "r1",
                "startState": RoomState {
                  "_events": Object {},
                  "_eventsCount": 0,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
              },
            ],
            Symbol(kCapture): false,
          } => Map {
            "Room.timeline" => [Function],
            "Room.timelineReset" => [Function],
          },
          RoomState {
            "_events": Object {
              "Beacon.Destroy": [Function],
              "Beacon.LivenessChange": [Function],
              "Beacon.new": [Function],
              "Beacon.update": [Function],
              "RoomState.Marker": [Function],
              "RoomState.events": [Function],
              "RoomState.members": [Function],
              "RoomState.newMember": [Function],
              "RoomState.update": [Function],
            },
            "_eventsCount": 9,
            "_liveBeaconIds": Array [],
            "_maxListeners": undefined,
            "beacons": Map {},
            "displayNameToUserIds": Map {},
            "events": Map {},
            "invitedMemberCount": null,
            "joinedMemberCount": null,
            "members": Object {},
            "modified": 2345678901234,
            "oobMemberFlags": Object {
              "status": 0,
            },
            "paginationToken": null,
            "reEmitter": TypedReEmitter {
              "reEmitters": Map {},
              "target": [Circular],
            },
            "roomId": "r1",
            "sentinels": Object {},
            "summaryInvitedMemberCount": null,
            "summaryJoinedMemberCount": null,
            "tokenToInvite": Object {},
            "userIdsToDisplayNames": Object {},
            Symbol(kCapture): false,
          } => Map {
            "RoomState.events" => [Function],
            "RoomState.members" => [Function],
            "RoomState.newMember" => [Function],
            "RoomState.update" => [Function],
            "RoomState.Marker" => [Function],
            "Beacon.new" => [Function],
            "Beacon.update" => [Function],
            "Beacon.Destroy" => [Function],
            "Beacon.LivenessChange" => [Function],
          },
        },
        "target": [Circular],
      },
      "receiptCacheByEventId": Object {},
      "receipts": Object {},
      "relations": RelationsContainer {
        "client": Object {
          "canSupport": Map {
            "Thread" => 0,
            "ThreadUnreadNotifications" => 0,
            "LoginTokenRequest" => 0,
          },
          "cancelPendingEvent": [MockFunction],
          "createRoom": [MockFunction],
          "credentials": Object {
            "userId": "@userId:matrix.org",
          },
          "crypto": Object {
            "deviceList": Object {
              "downloadKeys": [MockFunction],
            },
          },
          "decryptEventIfNeeded": [Function],
          "doesServerSupportUnstableFeature": [MockFunction],
          "downloadKeys": [MockFunction],
          "emit": [Function],
          "encryptAndSendToDevices": [MockFunction],
          "fetchRoomEvent": [MockFunction],
          "generateClientSecret": [Function],
          "getAccountData": [Function],
          "getCapabilities": [MockFunction],
          "getClientWellKnown": [MockFunction],
          "getDeviceId": [MockFunction],
          "getDevices": [MockFunction],
          "getDomain": [MockFunction],
          "getEventMapper": [Function],
          "getHomeserverUrl": [MockFunction],
          "getIdentityAccount": [MockFunction],
          "getIdentityServerUrl": [MockFunction],
          "getMediaHandler": [MockFunction],
          "getOpenIdToken": [MockFunction],
          "getProfileInfo": [MockFunction],
          "getPushActionsForEvent": [MockFunction],
          "getPushRules": [MockFunction],
          "getPushers": [MockFunction],
          "getRoom": [MockFunction],
          "getRoomDirectoryVisibility": [MockFunction],
          "getRoomHierarchy": [MockFunction],
          "getRoomIdForAlias": [MockFunction],
          "getRoomUpgradeHistory": [MockFunction],
          "getRooms": [MockFunction],
          "getSyncState": [Function],
          "getSyncStateData": [Function],
          "getTerms": [MockFunction],
          "getThirdpartyProtocols": [MockFunction],
          "getThirdpartyUser": [MockFunction],
          "getThreePids": [MockFunction],
          "getTurnServers": [MockFunction],
          "getTurnServersExpiry": [MockFunction],
          "getUser": [MockFunction],
          "getUserId": [MockFunction],
          "getVisibleRooms": [MockFunction],
          "hasLazyLoadMembersEnabled": [MockFunction],
          "isCryptoEnabled": [MockFunction],
          "isGuest": [MockFunction],
          "isInitialSyncComplete": [MockFunction],
          "isRoomEncrypted": [MockFunction],
          "isUserIgnored": [MockFunction],
          "isVersionSupported": [MockFunction],
          "loginFlows": [MockFunction],
          "makeTxnId": [MockFunction],
          "mxcUrlToHttp": [Function],
          "off": [Function],
          "on": [Function],
          "paginateEventTimeline": [MockFunction],
          "peekInRoom": [MockFunction],
          "pushRules": Object {},
          "queueToDevice": [MockFunction],
          "reEmitter": ReEmitter {
            "reEmitters": Map {},
            "target": [Circular],
          },
          "registerWithIdentityServer": [MockFunction],
          "relations": [MockFunction],
          "removeListener": [Function],
          "sendMessage": [MockFunction],
          "sendReadReceipt": [MockFunction],
          "sendStateEvent": [MockFunction],
          "sendToDevice": [MockFunction],
          "sendTyping": [MockFunction],
          "setAccountData": [MockFunction],
          "setPowerLevel": [MockFunction],
          "setPushRuleActions": [MockFunction],
          "setPushRuleEnabled": [MockFunction],
          "setPusher": [MockFunction],
          "setRoomAccountData": [MockFunction],
          "setRoomReadMarkers": [MockFunction],
          "setRoomTopic": [MockFunction],
          "stopPeeking": [MockFunction],
          "store": Object {
            "getPendingEvents": [MockFunction] {
              "calls": Array [
                Array [
                  "r1",
                ],
              ],
              "results": Array [
                Object {
                  "type": "return",
                  "value": Promise {},
                },
              ],
            },
            "removeRoom": [MockFunction],
            "setPendingEvents": [MockFunction],
            "storeRoom": [MockFunction],
          },
          "supportsExperimentalThreads": [Function],
          "supportsVoip": [MockFunction],
          "uploadContent": [MockFunction],
        },
        "relations": Map {},
        "room": [Circular],
      },
      "roomId": "r1",
      "selfMembership": undefined,
      "summary": null,
      "summaryHeroes": null,
      "tags": Object {},
      "threadNotifications": Map {},
      "threadTimelineSetsPromise": null,
      "threads": Map {},
      "threadsReady": false,
      "threadsTimelineSets": Array [],
      "timeline": Array [],
      "timelineNeedsRefresh": false,
      "timelineSets": Array [
        EventTimelineSet {
          "_eventIdToTimeline": Map {},
          "_events": Object {
            "Room.timeline": [Function],
            "Room.timelineReset": [Function],
          },
          "_eventsCount": 2,
          "_maxListeners": undefined,
          "displayPendingEvents": true,
          "filter": undefined,
          "liveTimeline": EventTimeline {
            "baseIndex": 0,
            "endState": RoomState {
              "_events": Object {
                "Beacon.Destroy": [Function],
                "Beacon.LivenessChange": [Function],
                "Beacon.new": [Function],
                "Beacon.update": [Function],
                "RoomState.Marker": [Function],
                "RoomState.events": [Function],
                "RoomState.members": [Function],
                "RoomState.newMember": [Function],
                "RoomState.update": [Function],
              },
              "_eventsCount": 9,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
            "eventTimelineSet": [Circular],
            "events": Array [],
            "name": "r1:2021-11-23T14:35:14.240Z",
            "nextTimeline": null,
            "paginationRequests": Object {
              "b": null,
              "f": null,
            },
            "prevTimeline": null,
            "roomId": "r1",
            "startState": RoomState {
              "_events": Object {},
              "_eventsCount": 0,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
          },
          "relations": RelationsContainer {
            "client": Object {
              "canSupport": Map {
                "Thread" => 0,
                "ThreadUnreadNotifications" => 0,
                "LoginTokenRequest" => 0,
              },
              "cancelPendingEvent": [MockFunction],
              "createRoom": [MockFunction],
              "credentials": Object {
                "userId": "@userId:matrix.org",
              },
              "crypto": Object {
                "deviceList": Object {
                  "downloadKeys": [MockFunction],
                },
              },
              "decryptEventIfNeeded": [Function],
              "doesServerSupportUnstableFeature": [MockFunction],
              "downloadKeys": [MockFunction],
              "emit": [Function],
              "encryptAndSendToDevices": [MockFunction],
              "fetchRoomEvent": [MockFunction],
              "generateClientSecret": [Function],
              "getAccountData": [Function],
              "getCapabilities": [MockFunction],
              "getClientWellKnown": [MockFunction],
              "getDeviceId": [MockFunction],
              "getDevices": [MockFunction],
              "getDomain": [MockFunction],
              "getEventMapper": [Function],
              "getHomeserverUrl": [MockFunction],
              "getIdentityAccount": [MockFunction],
              "getIdentityServerUrl": [MockFunction],
              "getMediaHandler": [MockFunction],
              "getOpenIdToken": [MockFunction],
              "getProfileInfo": [MockFunction],
              "getPushActionsForEvent": [MockFunction],
              "getPushRules": [MockFunction],
              "getPushers": [MockFunction],
              "getRoom": [MockFunction],
              "getRoomDirectoryVisibility": [MockFunction],
              "getRoomHierarchy": [MockFunction],
              "getRoomIdForAlias": [MockFunction],
              "getRoomUpgradeHistory": [MockFunction],
              "getRooms": [MockFunction],
              "getSyncState": [Function],
              "getSyncStateData": [Function],
              "getTerms": [MockFunction],
              "getThirdpartyProtocols": [MockFunction],
              "getThirdpartyUser": [MockFunction],
              "getThreePids": [MockFunction],
              "getTurnServers": [MockFunction],
              "getTurnServersExpiry": [MockFunction],
              "getUser": [MockFunction],
              "getUserId": [MockFunction],
              "getVisibleRooms": [MockFunction],
              "hasLazyLoadMembersEnabled": [MockFunction],
              "isCryptoEnabled": [MockFunction],
              "isGuest": [MockFunction],
              "isInitialSyncComplete": [MockFunction],
              "isRoomEncrypted": [MockFunction],
              "isUserIgnored": [MockFunction],
              "isVersionSupported": [MockFunction],
              "loginFlows": [MockFunction],
              "makeTxnId": [MockFunction],
              "mxcUrlToHttp": [Function],
              "off": [Function],
              "on": [Function],
              "paginateEventTimeline": [MockFunction],
              "peekInRoom": [MockFunction],
              "pushRules": Object {},
              "queueToDevice": [MockFunction],
              "reEmitter": ReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "registerWithIdentityServer": [MockFunction],
              "relations": [MockFunction],
              "removeListener": [Function],
              "sendMessage": [MockFunction],
              "sendReadReceipt": [MockFunction],
              "sendStateEvent": [MockFunction],
              "sendToDevice": [MockFunction],
              "sendTyping": [MockFunction],
              "setAccountData": [MockFunction],
              "setPowerLevel": [MockFunction],
              "setPushRuleActions": [MockFunction],
              "setPushRuleEnabled": [MockFunction],
              "setPusher": [MockFunction],
              "setRoomAccountData": [MockFunction],
              "setRoomReadMarkers": [MockFunction],
              "setRoomTopic": [MockFunction],
              "stopPeeking": [MockFunction],
              "store": Object {
                "getPendingEvents": [MockFunction] {
                  "calls": Array [
                    Array [
                      "r1",
                    ],
                  ],
                  "results": Array [
                    Object {
                      "type": "return",
                      "value": Promise {},
                    },
                  ],
                },
                "removeRoom": [MockFunction],
                "setPendingEvents": [MockFunction],
                "storeRoom": [MockFunction],
              },
              "supportsExperimentalThreads": [Function],
              "supportsVoip": [MockFunction],
              "uploadContent": [MockFunction],
            },
            "relations": Map {},
            "room": [Circular],
          },
          "room": [Circular],
          "thread": undefined,
          "threadListType": null,
          "timelineSupport": false,
          "timelines": Array [
            EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
          ],
          Symbol(kCapture): false,
        },
      ],
      "txnToEvent": Object {},
      "updateThreadRootEvent": [Function],
      "updateThreadRootEvents": [Function],
      "visibilityEvents": Map {},
      Symbol(kCapture): false,
    }
  }
>
  <div
    className="mx_RoomStatusBar"
  >
    <div
      role="alert"
    >
      <div
        className="mx_RoomStatusBar_connectionLostBar"
      >
        <img
          alt=""
          height="24"
          src="image-file-stub"
          width="24"
        />
        <div>
          <div
            className="mx_RoomStatusBar_connectionLostBar_title"
          >
            Connectivity to the server has been lost.
          </div>
          <div
            className="mx_RoomStatusBar_connectionLostBar_desc"
          >
            Sent messages will be stored until your connection has returned.
          </div>
        </div>
      </div>
    </div>
  </div>
</RoomStatusBar>
`;

exports[`RoomStatusBar does not show anything when no sync error or other status 1`] = `
<RoomStatusBar
  room={
    Room {
      "_events": Object {
        "Room.historyImportedWithinTimeline": [Function],
      },
      "_eventsCount": 1,
      "_maxListeners": 100,
      "accountData": Object {},
      "applyRedaction": [Function],
      "blacklistUnverifiedDevices": undefined,
      "client": Object {
        "canSupport": Map {
          "Thread" => 0,
          "ThreadUnreadNotifications" => 0,
          "LoginTokenRequest" => 0,
        },
        "cancelPendingEvent": [MockFunction],
        "createRoom": [MockFunction],
        "credentials": Object {
          "userId": "@userId:matrix.org",
        },
        "crypto": Object {
          "deviceList": Object {
            "downloadKeys": [MockFunction],
          },
        },
        "decryptEventIfNeeded": [Function],
        "doesServerSupportUnstableFeature": [MockFunction],
        "downloadKeys": [MockFunction],
        "emit": [Function],
        "encryptAndSendToDevices": [MockFunction],
        "fetchRoomEvent": [MockFunction],
        "generateClientSecret": [Function],
        "getAccountData": [Function],
        "getCapabilities": [MockFunction],
        "getClientWellKnown": [MockFunction],
        "getDeviceId": [MockFunction],
        "getDevices": [MockFunction],
        "getDomain": [MockFunction],
        "getEventMapper": [Function],
        "getHomeserverUrl": [MockFunction],
        "getIdentityAccount": [MockFunction],
        "getIdentityServerUrl": [MockFunction],
        "getMediaHandler": [MockFunction],
        "getOpenIdToken": [MockFunction],
        "getProfileInfo": [MockFunction],
        "getPushActionsForEvent": [MockFunction],
        "getPushRules": [MockFunction],
        "getPushers": [MockFunction],
        "getRoom": [MockFunction],
        "getRoomDirectoryVisibility": [MockFunction],
        "getRoomHierarchy": [MockFunction],
        "getRoomIdForAlias": [MockFunction],
        "getRoomUpgradeHistory": [MockFunction],
        "getRooms": [MockFunction],
        "getSyncState": [Function],
        "getSyncStateData": [Function],
        "getTerms": [MockFunction],
        "getThirdpartyProtocols": [MockFunction],
        "getThirdpartyUser": [MockFunction],
        "getThreePids": [MockFunction],
        "getTurnServers": [MockFunction],
        "getTurnServersExpiry": [MockFunction],
        "getUser": [MockFunction],
        "getUserId": [MockFunction],
        "getVisibleRooms": [MockFunction],
        "hasLazyLoadMembersEnabled": [MockFunction],
        "isCryptoEnabled": [MockFunction],
        "isGuest": [MockFunction],
        "isInitialSyncComplete": [MockFunction],
        "isRoomEncrypted": [MockFunction],
        "isUserIgnored": [MockFunction],
        "isVersionSupported": [MockFunction],
        "loginFlows": [MockFunction],
        "makeTxnId": [MockFunction],
        "mxcUrlToHttp": [Function],
        "off": [Function],
        "on": [Function],
        "paginateEventTimeline": [MockFunction],
        "peekInRoom": [MockFunction],
        "pushRules": Object {},
        "queueToDevice": [MockFunction],
        "reEmitter": ReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "registerWithIdentityServer": [MockFunction],
        "relations": [MockFunction],
        "removeListener": [Function],
        "sendMessage": [MockFunction],
        "sendReadReceipt": [MockFunction],
        "sendStateEvent": [MockFunction],
        "sendToDevice": [MockFunction],
        "sendTyping": [MockFunction],
        "setAccountData": [MockFunction],
        "setPowerLevel": [MockFunction],
        "setPushRuleActions": [MockFunction],
        "setPushRuleEnabled": [MockFunction],
        "setPusher": [MockFunction],
        "setRoomAccountData": [MockFunction],
        "setRoomReadMarkers": [MockFunction],
        "setRoomTopic": [MockFunction],
        "stopPeeking": [MockFunction],
        "store": Object {
          "getPendingEvents": [MockFunction] {
            "calls": Array [
              Array [
                "r1",
              ],
            ],
            "results": Array [
              Object {
                "type": "return",
                "value": Promise {},
              },
            ],
          },
          "removeRoom": [MockFunction],
          "setPendingEvents": [MockFunction],
          "storeRoom": [MockFunction],
        },
        "supportsExperimentalThreads": [Function],
        "supportsVoip": [MockFunction],
        "uploadContent": [MockFunction],
      },
      "currentState": RoomState {
        "_events": Object {
          "Beacon.Destroy": [Function],
          "Beacon.LivenessChange": [Function],
          "Beacon.new": [Function],
          "Beacon.update": [Function],
          "RoomState.Marker": [Function],
          "RoomState.events": [Function],
          "RoomState.members": [Function],
          "RoomState.newMember": [Function],
          "RoomState.update": [Function],
        },
        "_eventsCount": 9,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "filteredTimelineSets": Object {},
      "getTypeWarning": false,
      "getVersionWarning": false,
      "lastThread": undefined,
      "membersPromise": Promise {},
      "myUserId": "@name:example.com",
      "name": "r1",
      "normalizedName": "r1",
      "notificationCounts": Object {},
      "oldState": RoomState {
        "_events": Object {},
        "_eventsCount": 0,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "opts": Object {
        "pendingEventOrdering": "detached",
      },
      "pendingEventList": Array [],
      "reEmitter": TypedReEmitter {
        "reEmitters": Map {
          EventTimelineSet {
            "_eventIdToTimeline": Map {},
            "_events": Object {
              "Room.timeline": [Function],
              "Room.timelineReset": [Function],
            },
            "_eventsCount": 2,
            "_maxListeners": undefined,
            "displayPendingEvents": true,
            "filter": undefined,
            "liveTimeline": EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
            "relations": RelationsContainer {
              "client": Object {
                "canSupport": Map {
                  "Thread" => 0,
                  "ThreadUnreadNotifications" => 0,
                  "LoginTokenRequest" => 0,
                },
                "cancelPendingEvent": [MockFunction],
                "createRoom": [MockFunction],
                "credentials": Object {
                  "userId": "@userId:matrix.org",
                },
                "crypto": Object {
                  "deviceList": Object {
                    "downloadKeys": [MockFunction],
                  },
                },
                "decryptEventIfNeeded": [Function],
                "doesServerSupportUnstableFeature": [MockFunction],
                "downloadKeys": [MockFunction],
                "emit": [Function],
                "encryptAndSendToDevices": [MockFunction],
                "fetchRoomEvent": [MockFunction],
                "generateClientSecret": [Function],
                "getAccountData": [Function],
                "getCapabilities": [MockFunction],
                "getClientWellKnown": [MockFunction],
                "getDeviceId": [MockFunction],
                "getDevices": [MockFunction],
                "getDomain": [MockFunction],
                "getEventMapper": [Function],
                "getHomeserverUrl": [MockFunction],
                "getIdentityAccount": [MockFunction],
                "getIdentityServerUrl": [MockFunction],
                "getMediaHandler": [MockFunction],
                "getOpenIdToken": [MockFunction],
                "getProfileInfo": [MockFunction],
                "getPushActionsForEvent": [MockFunction],
                "getPushRules": [MockFunction],
                "getPushers": [MockFunction],
                "getRoom": [MockFunction],
                "getRoomDirectoryVisibility": [MockFunction],
                "getRoomHierarchy": [MockFunction],
                "getRoomIdForAlias": [MockFunction],
                "getRoomUpgradeHistory": [MockFunction],
                "getRooms": [MockFunction],
                "getSyncState": [Function],
                "getSyncStateData": [Function],
                "getTerms": [MockFunction],
                "getThirdpartyProtocols": [MockFunction],
                "getThirdpartyUser": [MockFunction],
                "getThreePids": [MockFunction],
                "getTurnServers": [MockFunction],
                "getTurnServersExpiry": [MockFunction],
                "getUser": [MockFunction],
                "getUserId": [MockFunction],
                "getVisibleRooms": [MockFunction],
                "hasLazyLoadMembersEnabled": [MockFunction],
                "isCryptoEnabled": [MockFunction],
                "isGuest": [MockFunction],
                "isInitialSyncComplete": [MockFunction],
                "isRoomEncrypted": [MockFunction],
                "isUserIgnored": [MockFunction],
                "isVersionSupported": [MockFunction],
                "loginFlows": [MockFunction],
                "makeTxnId": [MockFunction],
                "mxcUrlToHttp": [Function],
                "off": [Function],
                "on": [Function],
                "paginateEventTimeline": [MockFunction],
                "peekInRoom": [MockFunction],
                "pushRules": Object {},
                "queueToDevice": [MockFunction],
                "reEmitter": ReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "registerWithIdentityServer": [MockFunction],
                "relations": [MockFunction],
                "removeListener": [Function],
                "sendMessage": [MockFunction],
                "sendReadReceipt": [MockFunction],
                "sendStateEvent": [MockFunction],
                "sendToDevice": [MockFunction],
                "sendTyping": [MockFunction],
                "setAccountData": [MockFunction],
                "setPowerLevel": [MockFunction],
                "setPushRuleActions": [MockFunction],
                "setPushRuleEnabled": [MockFunction],
                "setPusher": [MockFunction],
                "setRoomAccountData": [MockFunction],
                "setRoomReadMarkers": [MockFunction],
                "setRoomTopic": [MockFunction],
                "stopPeeking": [MockFunction],
                "store": Object {
                  "getPendingEvents": [MockFunction] {
                    "calls": Array [
                      Array [
                        "r1",
                      ],
                    ],
                    "results": Array [
                      Object {
                        "type": "return",
                        "value": Promise {},
                      },
                    ],
                  },
                  "removeRoom": [MockFunction],
                  "setPendingEvents": [MockFunction],
                  "storeRoom": [MockFunction],
                },
                "supportsExperimentalThreads": [Function],
                "supportsVoip": [MockFunction],
                "uploadContent": [MockFunction],
              },
              "relations": Map {},
              "room": [Circular],
            },
            "room": [Circular],
            "thread": undefined,
            "threadListType": null,
            "timelineSupport": false,
            "timelines": Array [
              EventTimeline {
                "baseIndex": 0,
                "endState": RoomState {
                  "_events": Object {
                    "Beacon.Destroy": [Function],
                    "Beacon.LivenessChange": [Function],
                    "Beacon.new": [Function],
                    "Beacon.update": [Function],
                    "RoomState.Marker": [Function],
                    "RoomState.events": [Function],
                    "RoomState.members": [Function],
                    "RoomState.newMember": [Function],
                    "RoomState.update": [Function],
                  },
                  "_eventsCount": 9,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
                "eventTimelineSet": [Circular],
                "events": Array [],
                "name": "r1:2021-11-23T14:35:14.240Z",
                "nextTimeline": null,
                "paginationRequests": Object {
                  "b": null,
                  "f": null,
                },
                "prevTimeline": null,
                "roomId": "r1",
                "startState": RoomState {
                  "_events": Object {},
                  "_eventsCount": 0,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
              },
            ],
            Symbol(kCapture): false,
          } => Map {
            "Room.timeline" => [Function],
            "Room.timelineReset" => [Function],
          },
          RoomState {
            "_events": Object {
              "Beacon.Destroy": [Function],
              "Beacon.LivenessChange": [Function],
              "Beacon.new": [Function],
              "Beacon.update": [Function],
              "RoomState.Marker": [Function],
              "RoomState.events": [Function],
              "RoomState.members": [Function],
              "RoomState.newMember": [Function],
              "RoomState.update": [Function],
            },
            "_eventsCount": 9,
            "_liveBeaconIds": Array [],
            "_maxListeners": undefined,
            "beacons": Map {},
            "displayNameToUserIds": Map {},
            "events": Map {},
            "invitedMemberCount": null,
            "joinedMemberCount": null,
            "members": Object {},
            "modified": 2345678901234,
            "oobMemberFlags": Object {
              "status": 0,
            },
            "paginationToken": null,
            "reEmitter": TypedReEmitter {
              "reEmitters": Map {},
              "target": [Circular],
            },
            "roomId": "r1",
            "sentinels": Object {},
            "summaryInvitedMemberCount": null,
            "summaryJoinedMemberCount": null,
            "tokenToInvite": Object {},
            "userIdsToDisplayNames": Object {},
            Symbol(kCapture): false,
          } => Map {
            "RoomState.events" => [Function],
            "RoomState.members" => [Function],
            "RoomState.newMember" => [Function],
            "RoomState.update" => [Function],
            "RoomState.Marker" => [Function],
            "Beacon.new" => [Function],
            "Beacon.update" => [Function],
            "Beacon.Destroy" => [Function],
            "Beacon.LivenessChange" => [Function],
          },
        },
        "target": [Circular],
      },
      "receiptCacheByEventId": Object {},
      "receipts": Object {},
      "relations": RelationsContainer {
        "client": Object {
          "canSupport": Map {
            "Thread" => 0,
            "ThreadUnreadNotifications" => 0,
            "LoginTokenRequest" => 0,
          },
          "cancelPendingEvent": [MockFunction],
          "createRoom": [MockFunction],
          "credentials": Object {
            "userId": "@userId:matrix.org",
          },
          "crypto": Object {
            "deviceList": Object {
              "downloadKeys": [MockFunction],
            },
          },
          "decryptEventIfNeeded": [Function],
          "doesServerSupportUnstableFeature": [MockFunction],
          "downloadKeys": [MockFunction],
          "emit": [Function],
          "encryptAndSendToDevices": [MockFunction],
          "fetchRoomEvent": [MockFunction],
          "generateClientSecret": [Function],
          "getAccountData": [Function],
          "getCapabilities": [MockFunction],
          "getClientWellKnown": [MockFunction],
          "getDeviceId": [MockFunction],
          "getDevices": [MockFunction],
          "getDomain": [MockFunction],
          "getEventMapper": [Function],
          "getHomeserverUrl": [MockFunction],
          "getIdentityAccount": [MockFunction],
          "getIdentityServerUrl": [MockFunction],
          "getMediaHandler": [MockFunction],
          "getOpenIdToken": [MockFunction],
          "getProfileInfo": [MockFunction],
          "getPushActionsForEvent": [MockFunction],
          "getPushRules": [MockFunction],
          "getPushers": [MockFunction],
          "getRoom": [MockFunction],
          "getRoomDirectoryVisibility": [MockFunction],
          "getRoomHierarchy": [MockFunction],
          "getRoomIdForAlias": [MockFunction],
          "getRoomUpgradeHistory": [MockFunction],
          "getRooms": [MockFunction],
          "getSyncState": [Function],
          "getSyncStateData": [Function],
          "getTerms": [MockFunction],
          "getThirdpartyProtocols": [MockFunction],
          "getThirdpartyUser": [MockFunction],
          "getThreePids": [MockFunction],
          "getTurnServers": [MockFunction],
          "getTurnServersExpiry": [MockFunction],
          "getUser": [MockFunction],
          "getUserId": [MockFunction],
          "getVisibleRooms": [MockFunction],
          "hasLazyLoadMembersEnabled": [MockFunction],
          "isCryptoEnabled": [MockFunction],
          "isGuest": [MockFunction],
          "isInitialSyncComplete": [MockFunction],
          "isRoomEncrypted": [MockFunction],
          "isUserIgnored": [MockFunction],
          "isVersionSupported": [MockFunction],
          "loginFlows": [MockFunction],
          "makeTxnId": [MockFunction],
          "mxcUrlToHttp": [Function],
          "off": [Function],
          "on": [Function],
          "paginateEventTimeline": [MockFunction],
          "peekInRoom": [MockFunction],
          "pushRules": Object {},
          "queueToDevice": [MockFunction],
          "reEmitter": ReEmitter {
            "reEmitters": Map {},
            "target": [Circular],
          },
          "registerWithIdentityServer": [MockFunction],
          "relations": [MockFunction],
          "removeListener": [Function],
          "sendMessage": [MockFunction],
          "sendReadReceipt": [MockFunction],
          "sendStateEvent": [MockFunction],
          "sendToDevice": [MockFunction],
          "sendTyping": [MockFunction],
          "setAccountData": [MockFunction],
          "setPowerLevel": [MockFunction],
          "setPushRuleActions": [MockFunction],
          "setPushRuleEnabled": [MockFunction],
          "setPusher": [MockFunction],
          "setRoomAccountData": [MockFunction],
          "setRoomReadMarkers": [MockFunction],
          "setRoomTopic": [MockFunction],
          "stopPeeking": [MockFunction],
          "store": Object {
            "getPendingEvents": [MockFunction] {
              "calls": Array [
                Array [
                  "r1",
                ],
              ],
              "results": Array [
                Object {
                  "type": "return",
                  "value": Promise {},
                },
              ],
            },
            "removeRoom": [MockFunction],
            "setPendingEvents": [MockFunction],
            "storeRoom": [MockFunction],
          },
          "supportsExperimentalThreads": [Function],
          "supportsVoip": [MockFunction],
          "uploadContent": [MockFunction],
        },
        "relations": Map {},
        "room": [Circular],
      },
      "roomId": "r1",
      "selfMembership": undefined,
      "summary": null,
      "summaryHeroes": null,
      "tags": Object {},
      "threadNotifications": Map {},
      "threadTimelineSetsPromise": null,
      "threads": Map {},
      "threadsReady": false,
      "threadsTimelineSets": Array [],
      "timeline": Array [],
      "timelineNeedsRefresh": false,
      "timelineSets": Array [
        EventTimelineSet {
          "_eventIdToTimeline": Map {},
          "_events": Object {
            "Room.timeline": [Function],
            "Room.timelineReset": [Function],
          },
          "_eventsCount": 2,
          "_maxListeners": undefined,
          "displayPendingEvents": true,
          "filter": undefined,
          "liveTimeline": EventTimeline {
            "baseIndex": 0,
            "endState": RoomState {
              "_events": Object {
                "Beacon.Destroy": [Function],
                "Beacon.LivenessChange": [Function],
                "Beacon.new": [Function],
                "Beacon.update": [Function],
                "RoomState.Marker": [Function],
                "RoomState.events": [Function],
                "RoomState.members": [Function],
                "RoomState.newMember": [Function],
                "RoomState.update": [Function],
              },
              "_eventsCount": 9,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
            "eventTimelineSet": [Circular],
            "events": Array [],
            "name": "r1:2021-11-23T14:35:14.240Z",
            "nextTimeline": null,
            "paginationRequests": Object {
              "b": null,
              "f": null,
            },
            "prevTimeline": null,
            "roomId": "r1",
            "startState": RoomState {
              "_events": Object {},
              "_eventsCount": 0,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
          },
          "relations": RelationsContainer {
            "client": Object {
              "canSupport": Map {
                "Thread" => 0,
                "ThreadUnreadNotifications" => 0,
                "LoginTokenRequest" => 0,
              },
              "cancelPendingEvent": [MockFunction],
              "createRoom": [MockFunction],
              "credentials": Object {
                "userId": "@userId:matrix.org",
              },
              "crypto": Object {
                "deviceList": Object {
                  "downloadKeys": [MockFunction],
                },
              },
              "decryptEventIfNeeded": [Function],
              "doesServerSupportUnstableFeature": [MockFunction],
              "downloadKeys": [MockFunction],
              "emit": [Function],
              "encryptAndSendToDevices": [MockFunction],
              "fetchRoomEvent": [MockFunction],
              "generateClientSecret": [Function],
              "getAccountData": [Function],
              "getCapabilities": [MockFunction],
              "getClientWellKnown": [MockFunction],
              "getDeviceId": [MockFunction],
              "getDevices": [MockFunction],
              "getDomain": [MockFunction],
              "getEventMapper": [Function],
              "getHomeserverUrl": [MockFunction],
              "getIdentityAccount": [MockFunction],
              "getIdentityServerUrl": [MockFunction],
              "getMediaHandler": [MockFunction],
              "getOpenIdToken": [MockFunction],
              "getProfileInfo": [MockFunction],
              "getPushActionsForEvent": [MockFunction],
              "getPushRules": [MockFunction],
              "getPushers": [MockFunction],
              "getRoom": [MockFunction],
              "getRoomDirectoryVisibility": [MockFunction],
              "getRoomHierarchy": [MockFunction],
              "getRoomIdForAlias": [MockFunction],
              "getRoomUpgradeHistory": [MockFunction],
              "getRooms": [MockFunction],
              "getSyncState": [Function],
              "getSyncStateData": [Function],
              "getTerms": [MockFunction],
              "getThirdpartyProtocols": [MockFunction],
              "getThirdpartyUser": [MockFunction],
              "getThreePids": [MockFunction],
              "getTurnServers": [MockFunction],
              "getTurnServersExpiry": [MockFunction],
              "getUser": [MockFunction],
              "getUserId": [MockFunction],
              "getVisibleRooms": [MockFunction],
              "hasLazyLoadMembersEnabled": [MockFunction],
              "isCryptoEnabled": [MockFunction],
              "isGuest": [MockFunction],
              "isInitialSyncComplete": [MockFunction],
              "isRoomEncrypted": [MockFunction],
              "isUserIgnored": [MockFunction],
              "isVersionSupported": [MockFunction],
              "loginFlows": [MockFunction],
              "makeTxnId": [MockFunction],
              "mxcUrlToHttp": [Function],
              "off": [Function],
              "on": [Function],
              "paginateEventTimeline": [MockFunction],
              "peekInRoom": [MockFunction],
              "pushRules": Object {},
              "queueToDevice": [MockFunction],
              "reEmitter": ReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "registerWithIdentityServer": [MockFunction],
              "relations": [MockFunction],
              "removeListener": [Function],
              "sendMessage": [MockFunction],
              "sendReadReceipt": [MockFunction],
              "sendStateEvent": [MockFunction],
              "sendToDevice": [MockFunction],
              "sendTyping": [MockFunction],
              "setAccountData": [MockFunction],
              "setPowerLevel": [MockFunction],
              "setPushRuleActions": [MockFunction],
              "setPushRuleEnabled": [MockFunction],
              "setPusher": [MockFunction],
              "setRoomAccountData": [MockFunction],
              "setRoomReadMarkers": [MockFunction],
              "setRoomTopic": [MockFunction],
              "stopPeeking": [MockFunction],
              "store": Object {
                "getPendingEvents": [MockFunction] {
                  "calls": Array [
                    Array [
                      "r1",
                    ],
                  ],
                  "results": Array [
                    Object {
                      "type": "return",
                      "value": Promise {},
                    },
                  ],
                },
                "removeRoom": [MockFunction],
                "setPendingEvents": [MockFunction],
                "storeRoom": [MockFunction],
              },
              "supportsExperimentalThreads": [Function],
              "supportsVoip": [MockFunction],
              "uploadContent": [MockFunction],
            },
            "relations": Map {},
            "room": [Circular],
          },
          "room": [Circular],
          "thread": undefined,
          "threadListType": null,
          "timelineSupport": false,
          "timelines": Array [
            EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
          ],
          Symbol(kCapture): false,
        },
      ],
      "txnToEvent": Object {},
      "updateThreadRootEvent": [Function],
      "updateThreadRootEvents": [Function],
      "visibilityEvents": Map {},
      Symbol(kCapture): false,
    }
  }
/>
`;

exports[`RoomStatusBar timeline needs refresh bar (history import) should refresh timeline for room when button clicked 1`] = `
<RoomStatusBar
  room={
    Room {
      "_events": Object {
        "Room.historyImportedWithinTimeline": [Function],
      },
      "_eventsCount": 1,
      "_maxListeners": 100,
      "accountData": Object {},
      "applyRedaction": [Function],
      "blacklistUnverifiedDevices": undefined,
      "client": Object {
        "canSupport": Map {
          "Thread" => 0,
          "ThreadUnreadNotifications" => 0,
          "LoginTokenRequest" => 0,
        },
        "cancelPendingEvent": [MockFunction],
        "createRoom": [MockFunction],
        "credentials": Object {
          "userId": "@userId:matrix.org",
        },
        "crypto": Object {
          "deviceList": Object {
            "downloadKeys": [MockFunction],
          },
        },
        "decryptEventIfNeeded": [Function],
        "doesServerSupportUnstableFeature": [MockFunction],
        "downloadKeys": [MockFunction],
        "emit": [Function],
        "encryptAndSendToDevices": [MockFunction],
        "fetchRoomEvent": [MockFunction],
        "generateClientSecret": [Function],
        "getAccountData": [Function],
        "getCapabilities": [MockFunction],
        "getClientWellKnown": [MockFunction],
        "getDeviceId": [MockFunction],
        "getDevices": [MockFunction],
        "getDomain": [MockFunction],
        "getEventMapper": [Function],
        "getHomeserverUrl": [MockFunction],
        "getIdentityAccount": [MockFunction],
        "getIdentityServerUrl": [MockFunction],
        "getMediaHandler": [MockFunction],
        "getOpenIdToken": [MockFunction],
        "getProfileInfo": [MockFunction],
        "getPushActionsForEvent": [MockFunction],
        "getPushRules": [MockFunction],
        "getPushers": [MockFunction],
        "getRoom": [MockFunction],
        "getRoomDirectoryVisibility": [MockFunction],
        "getRoomHierarchy": [MockFunction],
        "getRoomIdForAlias": [MockFunction],
        "getRoomUpgradeHistory": [MockFunction],
        "getRooms": [MockFunction],
        "getSyncState": [Function],
        "getSyncStateData": [Function],
        "getTerms": [MockFunction],
        "getThirdpartyProtocols": [MockFunction],
        "getThirdpartyUser": [MockFunction],
        "getThreePids": [MockFunction],
        "getTurnServers": [MockFunction],
        "getTurnServersExpiry": [MockFunction],
        "getUser": [MockFunction],
        "getUserId": [MockFunction],
        "getVisibleRooms": [MockFunction],
        "hasLazyLoadMembersEnabled": [MockFunction],
        "isCryptoEnabled": [MockFunction],
        "isGuest": [MockFunction],
        "isInitialSyncComplete": [MockFunction],
        "isRoomEncrypted": [MockFunction],
        "isUserIgnored": [MockFunction],
        "isVersionSupported": [MockFunction],
        "loginFlows": [MockFunction],
        "makeTxnId": [MockFunction],
        "mxcUrlToHttp": [Function],
        "off": [Function],
        "on": [Function],
        "paginateEventTimeline": [MockFunction],
        "peekInRoom": [MockFunction],
        "pushRules": Object {},
        "queueToDevice": [MockFunction],
        "reEmitter": ReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "registerWithIdentityServer": [MockFunction],
        "relations": [MockFunction],
        "removeListener": [Function],
        "sendMessage": [MockFunction],
        "sendReadReceipt": [MockFunction],
        "sendStateEvent": [MockFunction],
        "sendToDevice": [MockFunction],
        "sendTyping": [MockFunction],
        "setAccountData": [MockFunction],
        "setPowerLevel": [MockFunction],
        "setPushRuleActions": [MockFunction],
        "setPushRuleEnabled": [MockFunction],
        "setPusher": [MockFunction],
        "setRoomAccountData": [MockFunction],
        "setRoomReadMarkers": [MockFunction],
        "setRoomTopic": [MockFunction],
        "stopPeeking": [MockFunction],
        "store": Object {
          "getPendingEvents": [MockFunction] {
            "calls": Array [
              Array [
                "r1",
              ],
            ],
            "results": Array [
              Object {
                "type": "return",
                "value": Promise {},
              },
            ],
          },
          "removeRoom": [MockFunction],
          "setPendingEvents": [MockFunction],
          "storeRoom": [MockFunction],
        },
        "supportsExperimentalThreads": [Function],
        "supportsVoip": [MockFunction],
        "uploadContent": [MockFunction],
      },
      "currentState": RoomState {
        "_events": Object {
          "Beacon.Destroy": [Function],
          "Beacon.LivenessChange": [Function],
          "Beacon.new": [Function],
          "Beacon.update": [Function],
          "RoomState.Marker": [Function],
          "RoomState.events": [Function],
          "RoomState.members": [Function],
          "RoomState.newMember": [Function],
          "RoomState.update": [Function],
        },
        "_eventsCount": 9,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "filteredTimelineSets": Object {},
      "getTypeWarning": false,
      "getVersionWarning": false,
      "lastThread": undefined,
      "membersPromise": Promise {},
      "myUserId": "@name:example.com",
      "name": "r1",
      "normalizedName": "r1",
      "notificationCounts": Object {},
      "oldState": RoomState {
        "_events": Object {},
        "_eventsCount": 0,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "opts": Object {
        "pendingEventOrdering": "detached",
      },
      "pendingEventList": Array [],
      "reEmitter": TypedReEmitter {
        "reEmitters": Map {
          EventTimelineSet {
            "_eventIdToTimeline": Map {},
            "_events": Object {
              "Room.timeline": [Function],
              "Room.timelineReset": [Function],
            },
            "_eventsCount": 2,
            "_maxListeners": undefined,
            "displayPendingEvents": true,
            "filter": undefined,
            "liveTimeline": EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
            "relations": RelationsContainer {
              "client": Object {
                "canSupport": Map {
                  "Thread" => 0,
                  "ThreadUnreadNotifications" => 0,
                  "LoginTokenRequest" => 0,
                },
                "cancelPendingEvent": [MockFunction],
                "createRoom": [MockFunction],
                "credentials": Object {
                  "userId": "@userId:matrix.org",
                },
                "crypto": Object {
                  "deviceList": Object {
                    "downloadKeys": [MockFunction],
                  },
                },
                "decryptEventIfNeeded": [Function],
                "doesServerSupportUnstableFeature": [MockFunction],
                "downloadKeys": [MockFunction],
                "emit": [Function],
                "encryptAndSendToDevices": [MockFunction],
                "fetchRoomEvent": [MockFunction],
                "generateClientSecret": [Function],
                "getAccountData": [Function],
                "getCapabilities": [MockFunction],
                "getClientWellKnown": [MockFunction],
                "getDeviceId": [MockFunction],
                "getDevices": [MockFunction],
                "getDomain": [MockFunction],
                "getEventMapper": [Function],
                "getHomeserverUrl": [MockFunction],
                "getIdentityAccount": [MockFunction],
                "getIdentityServerUrl": [MockFunction],
                "getMediaHandler": [MockFunction],
                "getOpenIdToken": [MockFunction],
                "getProfileInfo": [MockFunction],
                "getPushActionsForEvent": [MockFunction],
                "getPushRules": [MockFunction],
                "getPushers": [MockFunction],
                "getRoom": [MockFunction],
                "getRoomDirectoryVisibility": [MockFunction],
                "getRoomHierarchy": [MockFunction],
                "getRoomIdForAlias": [MockFunction],
                "getRoomUpgradeHistory": [MockFunction],
                "getRooms": [MockFunction],
                "getSyncState": [Function],
                "getSyncStateData": [Function],
                "getTerms": [MockFunction],
                "getThirdpartyProtocols": [MockFunction],
                "getThirdpartyUser": [MockFunction],
                "getThreePids": [MockFunction],
                "getTurnServers": [MockFunction],
                "getTurnServersExpiry": [MockFunction],
                "getUser": [MockFunction],
                "getUserId": [MockFunction],
                "getVisibleRooms": [MockFunction],
                "hasLazyLoadMembersEnabled": [MockFunction],
                "isCryptoEnabled": [MockFunction],
                "isGuest": [MockFunction],
                "isInitialSyncComplete": [MockFunction],
                "isRoomEncrypted": [MockFunction],
                "isUserIgnored": [MockFunction],
                "isVersionSupported": [MockFunction],
                "loginFlows": [MockFunction],
                "makeTxnId": [MockFunction],
                "mxcUrlToHttp": [Function],
                "off": [Function],
                "on": [Function],
                "paginateEventTimeline": [MockFunction],
                "peekInRoom": [MockFunction],
                "pushRules": Object {},
                "queueToDevice": [MockFunction],
                "reEmitter": ReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "registerWithIdentityServer": [MockFunction],
                "relations": [MockFunction],
                "removeListener": [Function],
                "sendMessage": [MockFunction],
                "sendReadReceipt": [MockFunction],
                "sendStateEvent": [MockFunction],
                "sendToDevice": [MockFunction],
                "sendTyping": [MockFunction],
                "setAccountData": [MockFunction],
                "setPowerLevel": [MockFunction],
                "setPushRuleActions": [MockFunction],
                "setPushRuleEnabled": [MockFunction],
                "setPusher": [MockFunction],
                "setRoomAccountData": [MockFunction],
                "setRoomReadMarkers": [MockFunction],
                "setRoomTopic": [MockFunction],
                "stopPeeking": [MockFunction],
                "store": Object {
                  "getPendingEvents": [MockFunction] {
                    "calls": Array [
                      Array [
                        "r1",
                      ],
                    ],
                    "results": Array [
                      Object {
                        "type": "return",
                        "value": Promise {},
                      },
                    ],
                  },
                  "removeRoom": [MockFunction],
                  "setPendingEvents": [MockFunction],
                  "storeRoom": [MockFunction],
                },
                "supportsExperimentalThreads": [Function],
                "supportsVoip": [MockFunction],
                "uploadContent": [MockFunction],
              },
              "relations": Map {},
              "room": [Circular],
            },
            "room": [Circular],
            "thread": undefined,
            "threadListType": null,
            "timelineSupport": false,
            "timelines": Array [
              EventTimeline {
                "baseIndex": 0,
                "endState": RoomState {
                  "_events": Object {
                    "Beacon.Destroy": [Function],
                    "Beacon.LivenessChange": [Function],
                    "Beacon.new": [Function],
                    "Beacon.update": [Function],
                    "RoomState.Marker": [Function],
                    "RoomState.events": [Function],
                    "RoomState.members": [Function],
                    "RoomState.newMember": [Function],
                    "RoomState.update": [Function],
                  },
                  "_eventsCount": 9,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
                "eventTimelineSet": [Circular],
                "events": Array [],
                "name": "r1:2021-11-23T14:35:14.240Z",
                "nextTimeline": null,
                "paginationRequests": Object {
                  "b": null,
                  "f": null,
                },
                "prevTimeline": null,
                "roomId": "r1",
                "startState": RoomState {
                  "_events": Object {},
                  "_eventsCount": 0,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
              },
            ],
            Symbol(kCapture): false,
          } => Map {
            "Room.timeline" => [Function],
            "Room.timelineReset" => [Function],
          },
          RoomState {
            "_events": Object {
              "Beacon.Destroy": [Function],
              "Beacon.LivenessChange": [Function],
              "Beacon.new": [Function],
              "Beacon.update": [Function],
              "RoomState.Marker": [Function],
              "RoomState.events": [Function],
              "RoomState.members": [Function],
              "RoomState.newMember": [Function],
              "RoomState.update": [Function],
            },
            "_eventsCount": 9,
            "_liveBeaconIds": Array [],
            "_maxListeners": undefined,
            "beacons": Map {},
            "displayNameToUserIds": Map {},
            "events": Map {},
            "invitedMemberCount": null,
            "joinedMemberCount": null,
            "members": Object {},
            "modified": 2345678901234,
            "oobMemberFlags": Object {
              "status": 0,
            },
            "paginationToken": null,
            "reEmitter": TypedReEmitter {
              "reEmitters": Map {},
              "target": [Circular],
            },
            "roomId": "r1",
            "sentinels": Object {},
            "summaryInvitedMemberCount": null,
            "summaryJoinedMemberCount": null,
            "tokenToInvite": Object {},
            "userIdsToDisplayNames": Object {},
            Symbol(kCapture): false,
          } => Map {
            "RoomState.events" => [Function],
            "RoomState.members" => [Function],
            "RoomState.newMember" => [Function],
            "RoomState.update" => [Function],
            "RoomState.Marker" => [Function],
            "Beacon.new" => [Function],
            "Beacon.update" => [Function],
            "Beacon.Destroy" => [Function],
            "Beacon.LivenessChange" => [Function],
          },
        },
        "target": [Circular],
      },
      "receiptCacheByEventId": Object {},
      "receipts": Object {},
      "refreshLiveTimeline": [MockFunction] {
        "calls": Array [
          Array [],
        ],
        "results": Array [
          Object {
            "type": "return",
            "value": undefined,
          },
        ],
      },
      "relations": RelationsContainer {
        "client": Object {
          "canSupport": Map {
            "Thread" => 0,
            "ThreadUnreadNotifications" => 0,
            "LoginTokenRequest" => 0,
          },
          "cancelPendingEvent": [MockFunction],
          "createRoom": [MockFunction],
          "credentials": Object {
            "userId": "@userId:matrix.org",
          },
          "crypto": Object {
            "deviceList": Object {
              "downloadKeys": [MockFunction],
            },
          },
          "decryptEventIfNeeded": [Function],
          "doesServerSupportUnstableFeature": [MockFunction],
          "downloadKeys": [MockFunction],
          "emit": [Function],
          "encryptAndSendToDevices": [MockFunction],
          "fetchRoomEvent": [MockFunction],
          "generateClientSecret": [Function],
          "getAccountData": [Function],
          "getCapabilities": [MockFunction],
          "getClientWellKnown": [MockFunction],
          "getDeviceId": [MockFunction],
          "getDevices": [MockFunction],
          "getDomain": [MockFunction],
          "getEventMapper": [Function],
          "getHomeserverUrl": [MockFunction],
          "getIdentityAccount": [MockFunction],
          "getIdentityServerUrl": [MockFunction],
          "getMediaHandler": [MockFunction],
          "getOpenIdToken": [MockFunction],
          "getProfileInfo": [MockFunction],
          "getPushActionsForEvent": [MockFunction],
          "getPushRules": [MockFunction],
          "getPushers": [MockFunction],
          "getRoom": [MockFunction],
          "getRoomDirectoryVisibility": [MockFunction],
          "getRoomHierarchy": [MockFunction],
          "getRoomIdForAlias": [MockFunction],
          "getRoomUpgradeHistory": [MockFunction],
          "getRooms": [MockFunction],
          "getSyncState": [Function],
          "getSyncStateData": [Function],
          "getTerms": [MockFunction],
          "getThirdpartyProtocols": [MockFunction],
          "getThirdpartyUser": [MockFunction],
          "getThreePids": [MockFunction],
          "getTurnServers": [MockFunction],
          "getTurnServersExpiry": [MockFunction],
          "getUser": [MockFunction],
          "getUserId": [MockFunction],
          "getVisibleRooms": [MockFunction],
          "hasLazyLoadMembersEnabled": [MockFunction],
          "isCryptoEnabled": [MockFunction],
          "isGuest": [MockFunction],
          "isInitialSyncComplete": [MockFunction],
          "isRoomEncrypted": [MockFunction],
          "isUserIgnored": [MockFunction],
          "isVersionSupported": [MockFunction],
          "loginFlows": [MockFunction],
          "makeTxnId": [MockFunction],
          "mxcUrlToHttp": [Function],
          "off": [Function],
          "on": [Function],
          "paginateEventTimeline": [MockFunction],
          "peekInRoom": [MockFunction],
          "pushRules": Object {},
          "queueToDevice": [MockFunction],
          "reEmitter": ReEmitter {
            "reEmitters": Map {},
            "target": [Circular],
          },
          "registerWithIdentityServer": [MockFunction],
          "relations": [MockFunction],
          "removeListener": [Function],
          "sendMessage": [MockFunction],
          "sendReadReceipt": [MockFunction],
          "sendStateEvent": [MockFunction],
          "sendToDevice": [MockFunction],
          "sendTyping": [MockFunction],
          "setAccountData": [MockFunction],
          "setPowerLevel": [MockFunction],
          "setPushRuleActions": [MockFunction],
          "setPushRuleEnabled": [MockFunction],
          "setPusher": [MockFunction],
          "setRoomAccountData": [MockFunction],
          "setRoomReadMarkers": [MockFunction],
          "setRoomTopic": [MockFunction],
          "stopPeeking": [MockFunction],
          "store": Object {
            "getPendingEvents": [MockFunction] {
              "calls": Array [
                Array [
                  "r1",
                ],
              ],
              "results": Array [
                Object {
                  "type": "return",
                  "value": Promise {},
                },
              ],
            },
            "removeRoom": [MockFunction],
            "setPendingEvents": [MockFunction],
            "storeRoom": [MockFunction],
          },
          "supportsExperimentalThreads": [Function],
          "supportsVoip": [MockFunction],
          "uploadContent": [MockFunction],
        },
        "relations": Map {},
        "room": [Circular],
      },
      "roomId": "r1",
      "selfMembership": undefined,
      "summary": null,
      "summaryHeroes": null,
      "tags": Object {},
      "threadNotifications": Map {},
      "threadTimelineSetsPromise": null,
      "threads": Map {},
      "threadsReady": false,
      "threadsTimelineSets": Array [],
      "timeline": Array [],
      "timelineNeedsRefresh": true,
      "timelineSets": Array [
        EventTimelineSet {
          "_eventIdToTimeline": Map {},
          "_events": Object {
            "Room.timeline": [Function],
            "Room.timelineReset": [Function],
          },
          "_eventsCount": 2,
          "_maxListeners": undefined,
          "displayPendingEvents": true,
          "filter": undefined,
          "liveTimeline": EventTimeline {
            "baseIndex": 0,
            "endState": RoomState {
              "_events": Object {
                "Beacon.Destroy": [Function],
                "Beacon.LivenessChange": [Function],
                "Beacon.new": [Function],
                "Beacon.update": [Function],
                "RoomState.Marker": [Function],
                "RoomState.events": [Function],
                "RoomState.members": [Function],
                "RoomState.newMember": [Function],
                "RoomState.update": [Function],
              },
              "_eventsCount": 9,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
            "eventTimelineSet": [Circular],
            "events": Array [],
            "name": "r1:2021-11-23T14:35:14.240Z",
            "nextTimeline": null,
            "paginationRequests": Object {
              "b": null,
              "f": null,
            },
            "prevTimeline": null,
            "roomId": "r1",
            "startState": RoomState {
              "_events": Object {},
              "_eventsCount": 0,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
          },
          "relations": RelationsContainer {
            "client": Object {
              "canSupport": Map {
                "Thread" => 0,
                "ThreadUnreadNotifications" => 0,
                "LoginTokenRequest" => 0,
              },
              "cancelPendingEvent": [MockFunction],
              "createRoom": [MockFunction],
              "credentials": Object {
                "userId": "@userId:matrix.org",
              },
              "crypto": Object {
                "deviceList": Object {
                  "downloadKeys": [MockFunction],
                },
              },
              "decryptEventIfNeeded": [Function],
              "doesServerSupportUnstableFeature": [MockFunction],
              "downloadKeys": [MockFunction],
              "emit": [Function],
              "encryptAndSendToDevices": [MockFunction],
              "fetchRoomEvent": [MockFunction],
              "generateClientSecret": [Function],
              "getAccountData": [Function],
              "getCapabilities": [MockFunction],
              "getClientWellKnown": [MockFunction],
              "getDeviceId": [MockFunction],
              "getDevices": [MockFunction],
              "getDomain": [MockFunction],
              "getEventMapper": [Function],
              "getHomeserverUrl": [MockFunction],
              "getIdentityAccount": [MockFunction],
              "getIdentityServerUrl": [MockFunction],
              "getMediaHandler": [MockFunction],
              "getOpenIdToken": [MockFunction],
              "getProfileInfo": [MockFunction],
              "getPushActionsForEvent": [MockFunction],
              "getPushRules": [MockFunction],
              "getPushers": [MockFunction],
              "getRoom": [MockFunction],
              "getRoomDirectoryVisibility": [MockFunction],
              "getRoomHierarchy": [MockFunction],
              "getRoomIdForAlias": [MockFunction],
              "getRoomUpgradeHistory": [MockFunction],
              "getRooms": [MockFunction],
              "getSyncState": [Function],
              "getSyncStateData": [Function],
              "getTerms": [MockFunction],
              "getThirdpartyProtocols": [MockFunction],
              "getThirdpartyUser": [MockFunction],
              "getThreePids": [MockFunction],
              "getTurnServers": [MockFunction],
              "getTurnServersExpiry": [MockFunction],
              "getUser": [MockFunction],
              "getUserId": [MockFunction],
              "getVisibleRooms": [MockFunction],
              "hasLazyLoadMembersEnabled": [MockFunction],
              "isCryptoEnabled": [MockFunction],
              "isGuest": [MockFunction],
              "isInitialSyncComplete": [MockFunction],
              "isRoomEncrypted": [MockFunction],
              "isUserIgnored": [MockFunction],
              "isVersionSupported": [MockFunction],
              "loginFlows": [MockFunction],
              "makeTxnId": [MockFunction],
              "mxcUrlToHttp": [Function],
              "off": [Function],
              "on": [Function],
              "paginateEventTimeline": [MockFunction],
              "peekInRoom": [MockFunction],
              "pushRules": Object {},
              "queueToDevice": [MockFunction],
              "reEmitter": ReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "registerWithIdentityServer": [MockFunction],
              "relations": [MockFunction],
              "removeListener": [Function],
              "sendMessage": [MockFunction],
              "sendReadReceipt": [MockFunction],
              "sendStateEvent": [MockFunction],
              "sendToDevice": [MockFunction],
              "sendTyping": [MockFunction],
              "setAccountData": [MockFunction],
              "setPowerLevel": [MockFunction],
              "setPushRuleActions": [MockFunction],
              "setPushRuleEnabled": [MockFunction],
              "setPusher": [MockFunction],
              "setRoomAccountData": [MockFunction],
              "setRoomReadMarkers": [MockFunction],
              "setRoomTopic": [MockFunction],
              "stopPeeking": [MockFunction],
              "store": Object {
                "getPendingEvents": [MockFunction] {
                  "calls": Array [
                    Array [
                      "r1",
                    ],
                  ],
                  "results": Array [
                    Object {
                      "type": "return",
                      "value": Promise {},
                    },
                  ],
                },
                "removeRoom": [MockFunction],
                "setPendingEvents": [MockFunction],
                "storeRoom": [MockFunction],
              },
              "supportsExperimentalThreads": [Function],
              "supportsVoip": [MockFunction],
              "uploadContent": [MockFunction],
            },
            "relations": Map {},
            "room": [Circular],
          },
          "room": [Circular],
          "thread": undefined,
          "threadListType": null,
          "timelineSupport": false,
          "timelines": Array [
            EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
          ],
          Symbol(kCapture): false,
        },
      ],
      "txnToEvent": Object {},
      "updateThreadRootEvent": [Function],
      "updateThreadRootEvents": [Function],
      "visibilityEvents": Map {},
      Symbol(kCapture): false,
    }
  }
>
  <div
    className="mx_RoomStatusBar mx_RoomStatusBar_unsentMessages"
    data-test-id="historical-import-detected-status-bar"
  >
    <div
      role="alert"
    >
      <div
        className="mx_RoomStatusBar_unsentBadge"
      >
        <img
          alt=""
          height="24"
          src="image-file-stub"
          width="24"
        />
      </div>
      <div>
        <div
          className="mx_RoomStatusBar_unsentTitle"
        >
          History import detected.
        </div>
        <div
          className="mx_RoomStatusBar_unsentDescription"
        >
          History was just imported somewhere in the room. In order to see the historical messages, refresh your timeline.
        </div>
      </div>
      <div
        className="mx_RoomStatusBar_unsentButtonBar"
      >
        <InlineSpinner
          h={20}
          w={20}
        >
          <div
            className="mx_InlineSpinner"
          >
            <div
              aria-label="Loading..."
              className="mx_InlineSpinner_icon mx_Spinner_icon"
              style={
                Object {
                  "height": 20,
                  "width": 20,
                }
              }
            />
          </div>
        </InlineSpinner>
        <span>
          Refreshing
        </span>
      </div>
    </div>
  </div>
</RoomStatusBar>
`;

exports[`RoomStatusBar timeline needs refresh bar (history import) should show error state with option to submit debug logs in timeline refresh bar when something went wrong while refreshing 1`] = `
<RoomStatusBar
  room={
    Room {
      "_events": Object {
        "Room.historyImportedWithinTimeline": [Function],
      },
      "_eventsCount": 1,
      "_maxListeners": 100,
      "accountData": Object {},
      "applyRedaction": [Function],
      "blacklistUnverifiedDevices": undefined,
      "client": Object {
        "canSupport": Map {
          "Thread" => 0,
          "ThreadUnreadNotifications" => 0,
          "LoginTokenRequest" => 0,
        },
        "cancelPendingEvent": [MockFunction],
        "createRoom": [MockFunction],
        "credentials": Object {
          "userId": "@userId:matrix.org",
        },
        "crypto": Object {
          "deviceList": Object {
            "downloadKeys": [MockFunction],
          },
        },
        "decryptEventIfNeeded": [Function],
        "doesServerSupportUnstableFeature": [MockFunction],
        "downloadKeys": [MockFunction],
        "emit": [Function],
        "encryptAndSendToDevices": [MockFunction],
        "fetchRoomEvent": [MockFunction],
        "generateClientSecret": [Function],
        "getAccountData": [Function],
        "getCapabilities": [MockFunction],
        "getClientWellKnown": [MockFunction],
        "getDeviceId": [MockFunction],
        "getDevices": [MockFunction],
        "getDomain": [MockFunction],
        "getEventMapper": [Function],
        "getHomeserverUrl": [MockFunction],
        "getIdentityAccount": [MockFunction],
        "getIdentityServerUrl": [MockFunction],
        "getMediaHandler": [MockFunction],
        "getOpenIdToken": [MockFunction],
        "getProfileInfo": [MockFunction],
        "getPushActionsForEvent": [MockFunction],
        "getPushRules": [MockFunction],
        "getPushers": [MockFunction],
        "getRoom": [MockFunction],
        "getRoomDirectoryVisibility": [MockFunction],
        "getRoomHierarchy": [MockFunction],
        "getRoomIdForAlias": [MockFunction],
        "getRoomUpgradeHistory": [MockFunction],
        "getRooms": [MockFunction],
        "getSyncState": [Function],
        "getSyncStateData": [Function],
        "getTerms": [MockFunction],
        "getThirdpartyProtocols": [MockFunction],
        "getThirdpartyUser": [MockFunction],
        "getThreePids": [MockFunction],
        "getTurnServers": [MockFunction],
        "getTurnServersExpiry": [MockFunction],
        "getUser": [MockFunction],
        "getUserId": [MockFunction],
        "getVisibleRooms": [MockFunction],
        "hasLazyLoadMembersEnabled": [MockFunction],
        "isCryptoEnabled": [MockFunction],
        "isGuest": [MockFunction],
        "isInitialSyncComplete": [MockFunction],
        "isRoomEncrypted": [MockFunction],
        "isUserIgnored": [MockFunction],
        "isVersionSupported": [MockFunction],
        "loginFlows": [MockFunction],
        "makeTxnId": [MockFunction],
        "mxcUrlToHttp": [Function],
        "off": [Function],
        "on": [Function],
        "paginateEventTimeline": [MockFunction],
        "peekInRoom": [MockFunction],
        "pushRules": Object {},
        "queueToDevice": [MockFunction],
        "reEmitter": ReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "registerWithIdentityServer": [MockFunction],
        "relations": [MockFunction],
        "removeListener": [Function],
        "sendMessage": [MockFunction],
        "sendReadReceipt": [MockFunction],
        "sendStateEvent": [MockFunction],
        "sendToDevice": [MockFunction],
        "sendTyping": [MockFunction],
        "setAccountData": [MockFunction],
        "setPowerLevel": [MockFunction],
        "setPushRuleActions": [MockFunction],
        "setPushRuleEnabled": [MockFunction],
        "setPusher": [MockFunction],
        "setRoomAccountData": [MockFunction],
        "setRoomReadMarkers": [MockFunction],
        "setRoomTopic": [MockFunction],
        "stopPeeking": [MockFunction],
        "store": Object {
          "getPendingEvents": [MockFunction] {
            "calls": Array [
              Array [
                "r1",
              ],
            ],
            "results": Array [
              Object {
                "type": "return",
                "value": Promise {},
              },
            ],
          },
          "removeRoom": [MockFunction],
          "setPendingEvents": [MockFunction],
          "storeRoom": [MockFunction],
        },
        "supportsExperimentalThreads": [Function],
        "supportsVoip": [MockFunction],
        "uploadContent": [MockFunction],
      },
      "currentState": RoomState {
        "_events": Object {
          "Beacon.Destroy": [Function],
          "Beacon.LivenessChange": [Function],
          "Beacon.new": [Function],
          "Beacon.update": [Function],
          "RoomState.Marker": [Function],
          "RoomState.events": [Function],
          "RoomState.members": [Function],
          "RoomState.newMember": [Function],
          "RoomState.update": [Function],
        },
        "_eventsCount": 9,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "filteredTimelineSets": Object {},
      "getTypeWarning": false,
      "getVersionWarning": false,
      "lastThread": undefined,
      "membersPromise": Promise {},
      "myUserId": "@name:example.com",
      "name": "r1",
      "normalizedName": "r1",
      "notificationCounts": Object {},
      "oldState": RoomState {
        "_events": Object {},
        "_eventsCount": 0,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "opts": Object {
        "pendingEventOrdering": "detached",
      },
      "pendingEventList": Array [],
      "reEmitter": TypedReEmitter {
        "reEmitters": Map {
          EventTimelineSet {
            "_eventIdToTimeline": Map {},
            "_events": Object {
              "Room.timeline": [Function],
              "Room.timelineReset": [Function],
            },
            "_eventsCount": 2,
            "_maxListeners": undefined,
            "displayPendingEvents": true,
            "filter": undefined,
            "liveTimeline": EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
            "relations": RelationsContainer {
              "client": Object {
                "canSupport": Map {
                  "Thread" => 0,
                  "ThreadUnreadNotifications" => 0,
                  "LoginTokenRequest" => 0,
                },
                "cancelPendingEvent": [MockFunction],
                "createRoom": [MockFunction],
                "credentials": Object {
                  "userId": "@userId:matrix.org",
                },
                "crypto": Object {
                  "deviceList": Object {
                    "downloadKeys": [MockFunction],
                  },
                },
                "decryptEventIfNeeded": [Function],
                "doesServerSupportUnstableFeature": [MockFunction],
                "downloadKeys": [MockFunction],
                "emit": [Function],
                "encryptAndSendToDevices": [MockFunction],
                "fetchRoomEvent": [MockFunction],
                "generateClientSecret": [Function],
                "getAccountData": [Function],
                "getCapabilities": [MockFunction],
                "getClientWellKnown": [MockFunction],
                "getDeviceId": [MockFunction],
                "getDevices": [MockFunction],
                "getDomain": [MockFunction],
                "getEventMapper": [Function],
                "getHomeserverUrl": [MockFunction],
                "getIdentityAccount": [MockFunction],
                "getIdentityServerUrl": [MockFunction],
                "getMediaHandler": [MockFunction],
                "getOpenIdToken": [MockFunction],
                "getProfileInfo": [MockFunction],
                "getPushActionsForEvent": [MockFunction],
                "getPushRules": [MockFunction],
                "getPushers": [MockFunction],
                "getRoom": [MockFunction],
                "getRoomDirectoryVisibility": [MockFunction],
                "getRoomHierarchy": [MockFunction],
                "getRoomIdForAlias": [MockFunction],
                "getRoomUpgradeHistory": [MockFunction],
                "getRooms": [MockFunction],
                "getSyncState": [Function],
                "getSyncStateData": [Function],
                "getTerms": [MockFunction],
                "getThirdpartyProtocols": [MockFunction],
                "getThirdpartyUser": [MockFunction],
                "getThreePids": [MockFunction],
                "getTurnServers": [MockFunction],
                "getTurnServersExpiry": [MockFunction],
                "getUser": [MockFunction],
                "getUserId": [MockFunction],
                "getVisibleRooms": [MockFunction],
                "hasLazyLoadMembersEnabled": [MockFunction],
                "isCryptoEnabled": [MockFunction],
                "isGuest": [MockFunction],
                "isInitialSyncComplete": [MockFunction],
                "isRoomEncrypted": [MockFunction],
                "isUserIgnored": [MockFunction],
                "isVersionSupported": [MockFunction],
                "loginFlows": [MockFunction],
                "makeTxnId": [MockFunction],
                "mxcUrlToHttp": [Function],
                "off": [Function],
                "on": [Function],
                "paginateEventTimeline": [MockFunction],
                "peekInRoom": [MockFunction],
                "pushRules": Object {},
                "queueToDevice": [MockFunction],
                "reEmitter": ReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "registerWithIdentityServer": [MockFunction],
                "relations": [MockFunction],
                "removeListener": [Function],
                "sendMessage": [MockFunction],
                "sendReadReceipt": [MockFunction],
                "sendStateEvent": [MockFunction],
                "sendToDevice": [MockFunction],
                "sendTyping": [MockFunction],
                "setAccountData": [MockFunction],
                "setPowerLevel": [MockFunction],
                "setPushRuleActions": [MockFunction],
                "setPushRuleEnabled": [MockFunction],
                "setPusher": [MockFunction],
                "setRoomAccountData": [MockFunction],
                "setRoomReadMarkers": [MockFunction],
                "setRoomTopic": [MockFunction],
                "stopPeeking": [MockFunction],
                "store": Object {
                  "getPendingEvents": [MockFunction] {
                    "calls": Array [
                      Array [
                        "r1",
                      ],
                    ],
                    "results": Array [
                      Object {
                        "type": "return",
                        "value": Promise {},
                      },
                    ],
                  },
                  "removeRoom": [MockFunction],
                  "setPendingEvents": [MockFunction],
                  "storeRoom": [MockFunction],
                },
                "supportsExperimentalThreads": [Function],
                "supportsVoip": [MockFunction],
                "uploadContent": [MockFunction],
              },
              "relations": Map {},
              "room": [Circular],
            },
            "room": [Circular],
            "thread": undefined,
            "threadListType": null,
            "timelineSupport": false,
            "timelines": Array [
              EventTimeline {
                "baseIndex": 0,
                "endState": RoomState {
                  "_events": Object {
                    "Beacon.Destroy": [Function],
                    "Beacon.LivenessChange": [Function],
                    "Beacon.new": [Function],
                    "Beacon.update": [Function],
                    "RoomState.Marker": [Function],
                    "RoomState.events": [Function],
                    "RoomState.members": [Function],
                    "RoomState.newMember": [Function],
                    "RoomState.update": [Function],
                  },
                  "_eventsCount": 9,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
                "eventTimelineSet": [Circular],
                "events": Array [],
                "name": "r1:2021-11-23T14:35:14.240Z",
                "nextTimeline": null,
                "paginationRequests": Object {
                  "b": null,
                  "f": null,
                },
                "prevTimeline": null,
                "roomId": "r1",
                "startState": RoomState {
                  "_events": Object {},
                  "_eventsCount": 0,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
              },
            ],
            Symbol(kCapture): false,
          } => Map {
            "Room.timeline" => [Function],
            "Room.timelineReset" => [Function],
          },
          RoomState {
            "_events": Object {
              "Beacon.Destroy": [Function],
              "Beacon.LivenessChange": [Function],
              "Beacon.new": [Function],
              "Beacon.update": [Function],
              "RoomState.Marker": [Function],
              "RoomState.events": [Function],
              "RoomState.members": [Function],
              "RoomState.newMember": [Function],
              "RoomState.update": [Function],
            },
            "_eventsCount": 9,
            "_liveBeaconIds": Array [],
            "_maxListeners": undefined,
            "beacons": Map {},
            "displayNameToUserIds": Map {},
            "events": Map {},
            "invitedMemberCount": null,
            "joinedMemberCount": null,
            "members": Object {},
            "modified": 2345678901234,
            "oobMemberFlags": Object {
              "status": 0,
            },
            "paginationToken": null,
            "reEmitter": TypedReEmitter {
              "reEmitters": Map {},
              "target": [Circular],
            },
            "roomId": "r1",
            "sentinels": Object {},
            "summaryInvitedMemberCount": null,
            "summaryJoinedMemberCount": null,
            "tokenToInvite": Object {},
            "userIdsToDisplayNames": Object {},
            Symbol(kCapture): false,
          } => Map {
            "RoomState.events" => [Function],
            "RoomState.members" => [Function],
            "RoomState.newMember" => [Function],
            "RoomState.update" => [Function],
            "RoomState.Marker" => [Function],
            "Beacon.new" => [Function],
            "Beacon.update" => [Function],
            "Beacon.Destroy" => [Function],
            "Beacon.LivenessChange" => [Function],
          },
        },
        "target": [Circular],
      },
      "receiptCacheByEventId": Object {},
      "receipts": Object {},
      "relations": RelationsContainer {
        "client": Object {
          "canSupport": Map {
            "Thread" => 0,
            "ThreadUnreadNotifications" => 0,
            "LoginTokenRequest" => 0,
          },
          "cancelPendingEvent": [MockFunction],
          "createRoom": [MockFunction],
          "credentials": Object {
            "userId": "@userId:matrix.org",
          },
          "crypto": Object {
            "deviceList": Object {
              "downloadKeys": [MockFunction],
            },
          },
          "decryptEventIfNeeded": [Function],
          "doesServerSupportUnstableFeature": [MockFunction],
          "downloadKeys": [MockFunction],
          "emit": [Function],
          "encryptAndSendToDevices": [MockFunction],
          "fetchRoomEvent": [MockFunction],
          "generateClientSecret": [Function],
          "getAccountData": [Function],
          "getCapabilities": [MockFunction],
          "getClientWellKnown": [MockFunction],
          "getDeviceId": [MockFunction],
          "getDevices": [MockFunction],
          "getDomain": [MockFunction],
          "getEventMapper": [Function],
          "getHomeserverUrl": [MockFunction],
          "getIdentityAccount": [MockFunction],
          "getIdentityServerUrl": [MockFunction],
          "getMediaHandler": [MockFunction],
          "getOpenIdToken": [MockFunction],
          "getProfileInfo": [MockFunction],
          "getPushActionsForEvent": [MockFunction],
          "getPushRules": [MockFunction],
          "getPushers": [MockFunction],
          "getRoom": [MockFunction],
          "getRoomDirectoryVisibility": [MockFunction],
          "getRoomHierarchy": [MockFunction],
          "getRoomIdForAlias": [MockFunction],
          "getRoomUpgradeHistory": [MockFunction],
          "getRooms": [MockFunction],
          "getSyncState": [Function],
          "getSyncStateData": [Function],
          "getTerms": [MockFunction],
          "getThirdpartyProtocols": [MockFunction],
          "getThirdpartyUser": [MockFunction],
          "getThreePids": [MockFunction],
          "getTurnServers": [MockFunction],
          "getTurnServersExpiry": [MockFunction],
          "getUser": [MockFunction],
          "getUserId": [MockFunction],
          "getVisibleRooms": [MockFunction],
          "hasLazyLoadMembersEnabled": [MockFunction],
          "isCryptoEnabled": [MockFunction],
          "isGuest": [MockFunction],
          "isInitialSyncComplete": [MockFunction],
          "isRoomEncrypted": [MockFunction],
          "isUserIgnored": [MockFunction],
          "isVersionSupported": [MockFunction],
          "loginFlows": [MockFunction],
          "makeTxnId": [MockFunction],
          "mxcUrlToHttp": [Function],
          "off": [Function],
          "on": [Function],
          "paginateEventTimeline": [MockFunction],
          "peekInRoom": [MockFunction],
          "pushRules": Object {},
          "queueToDevice": [MockFunction],
          "reEmitter": ReEmitter {
            "reEmitters": Map {},
            "target": [Circular],
          },
          "registerWithIdentityServer": [MockFunction],
          "relations": [MockFunction],
          "removeListener": [Function],
          "sendMessage": [MockFunction],
          "sendReadReceipt": [MockFunction],
          "sendStateEvent": [MockFunction],
          "sendToDevice": [MockFunction],
          "sendTyping": [MockFunction],
          "setAccountData": [MockFunction],
          "setPowerLevel": [MockFunction],
          "setPushRuleActions": [MockFunction],
          "setPushRuleEnabled": [MockFunction],
          "setPusher": [MockFunction],
          "setRoomAccountData": [MockFunction],
          "setRoomReadMarkers": [MockFunction],
          "setRoomTopic": [MockFunction],
          "stopPeeking": [MockFunction],
          "store": Object {
            "getPendingEvents": [MockFunction] {
              "calls": Array [
                Array [
                  "r1",
                ],
              ],
              "results": Array [
                Object {
                  "type": "return",
                  "value": Promise {},
                },
              ],
            },
            "removeRoom": [MockFunction],
            "setPendingEvents": [MockFunction],
            "storeRoom": [MockFunction],
          },
          "supportsExperimentalThreads": [Function],
          "supportsVoip": [MockFunction],
          "uploadContent": [MockFunction],
        },
        "relations": Map {},
        "room": [Circular],
      },
      "roomId": "r1",
      "selfMembership": undefined,
      "summary": null,
      "summaryHeroes": null,
      "tags": Object {},
      "threadNotifications": Map {},
      "threadTimelineSetsPromise": null,
      "threads": Map {},
      "threadsReady": false,
      "threadsTimelineSets": Array [],
      "timeline": Array [],
      "timelineNeedsRefresh": true,
      "timelineSets": Array [
        EventTimelineSet {
          "_eventIdToTimeline": Map {},
          "_events": Object {
            "Room.timeline": [Function],
            "Room.timelineReset": [Function],
          },
          "_eventsCount": 2,
          "_maxListeners": undefined,
          "displayPendingEvents": true,
          "filter": undefined,
          "liveTimeline": EventTimeline {
            "baseIndex": 0,
            "endState": RoomState {
              "_events": Object {
                "Beacon.Destroy": [Function],
                "Beacon.LivenessChange": [Function],
                "Beacon.new": [Function],
                "Beacon.update": [Function],
                "RoomState.Marker": [Function],
                "RoomState.events": [Function],
                "RoomState.members": [Function],
                "RoomState.newMember": [Function],
                "RoomState.update": [Function],
              },
              "_eventsCount": 9,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
            "eventTimelineSet": [Circular],
            "events": Array [],
            "name": "r1:2021-11-23T14:35:14.240Z",
            "nextTimeline": null,
            "paginationRequests": Object {
              "b": null,
              "f": null,
            },
            "prevTimeline": null,
            "roomId": "r1",
            "startState": RoomState {
              "_events": Object {},
              "_eventsCount": 0,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
          },
          "relations": RelationsContainer {
            "client": Object {
              "canSupport": Map {
                "Thread" => 0,
                "ThreadUnreadNotifications" => 0,
                "LoginTokenRequest" => 0,
              },
              "cancelPendingEvent": [MockFunction],
              "createRoom": [MockFunction],
              "credentials": Object {
                "userId": "@userId:matrix.org",
              },
              "crypto": Object {
                "deviceList": Object {
                  "downloadKeys": [MockFunction],
                },
              },
              "decryptEventIfNeeded": [Function],
              "doesServerSupportUnstableFeature": [MockFunction],
              "downloadKeys": [MockFunction],
              "emit": [Function],
              "encryptAndSendToDevices": [MockFunction],
              "fetchRoomEvent": [MockFunction],
              "generateClientSecret": [Function],
              "getAccountData": [Function],
              "getCapabilities": [MockFunction],
              "getClientWellKnown": [MockFunction],
              "getDeviceId": [MockFunction],
              "getDevices": [MockFunction],
              "getDomain": [MockFunction],
              "getEventMapper": [Function],
              "getHomeserverUrl": [MockFunction],
              "getIdentityAccount": [MockFunction],
              "getIdentityServerUrl": [MockFunction],
              "getMediaHandler": [MockFunction],
              "getOpenIdToken": [MockFunction],
              "getProfileInfo": [MockFunction],
              "getPushActionsForEvent": [MockFunction],
              "getPushRules": [MockFunction],
              "getPushers": [MockFunction],
              "getRoom": [MockFunction],
              "getRoomDirectoryVisibility": [MockFunction],
              "getRoomHierarchy": [MockFunction],
              "getRoomIdForAlias": [MockFunction],
              "getRoomUpgradeHistory": [MockFunction],
              "getRooms": [MockFunction],
              "getSyncState": [Function],
              "getSyncStateData": [Function],
              "getTerms": [MockFunction],
              "getThirdpartyProtocols": [MockFunction],
              "getThirdpartyUser": [MockFunction],
              "getThreePids": [MockFunction],
              "getTurnServers": [MockFunction],
              "getTurnServersExpiry": [MockFunction],
              "getUser": [MockFunction],
              "getUserId": [MockFunction],
              "getVisibleRooms": [MockFunction],
              "hasLazyLoadMembersEnabled": [MockFunction],
              "isCryptoEnabled": [MockFunction],
              "isGuest": [MockFunction],
              "isInitialSyncComplete": [MockFunction],
              "isRoomEncrypted": [MockFunction],
              "isUserIgnored": [MockFunction],
              "isVersionSupported": [MockFunction],
              "loginFlows": [MockFunction],
              "makeTxnId": [MockFunction],
              "mxcUrlToHttp": [Function],
              "off": [Function],
              "on": [Function],
              "paginateEventTimeline": [MockFunction],
              "peekInRoom": [MockFunction],
              "pushRules": Object {},
              "queueToDevice": [MockFunction],
              "reEmitter": ReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "registerWithIdentityServer": [MockFunction],
              "relations": [MockFunction],
              "removeListener": [Function],
              "sendMessage": [MockFunction],
              "sendReadReceipt": [MockFunction],
              "sendStateEvent": [MockFunction],
              "sendToDevice": [MockFunction],
              "sendTyping": [MockFunction],
              "setAccountData": [MockFunction],
              "setPowerLevel": [MockFunction],
              "setPushRuleActions": [MockFunction],
              "setPushRuleEnabled": [MockFunction],
              "setPusher": [MockFunction],
              "setRoomAccountData": [MockFunction],
              "setRoomReadMarkers": [MockFunction],
              "setRoomTopic": [MockFunction],
              "stopPeeking": [MockFunction],
              "store": Object {
                "getPendingEvents": [MockFunction] {
                  "calls": Array [
                    Array [
                      "r1",
                    ],
                  ],
                  "results": Array [
                    Object {
                      "type": "return",
                      "value": Promise {},
                    },
                  ],
                },
                "removeRoom": [MockFunction],
                "setPendingEvents": [MockFunction],
                "storeRoom": [MockFunction],
              },
              "supportsExperimentalThreads": [Function],
              "supportsVoip": [MockFunction],
              "uploadContent": [MockFunction],
            },
            "relations": Map {},
            "room": [Circular],
          },
          "room": [Circular],
          "thread": undefined,
          "threadListType": null,
          "timelineSupport": false,
          "timelines": Array [
            EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
          ],
          Symbol(kCapture): false,
        },
      ],
      "txnToEvent": Object {},
      "updateThreadRootEvent": [Function],
      "updateThreadRootEvents": [Function],
      "visibilityEvents": Map {},
      Symbol(kCapture): false,
    }
  }
>
  <div
    className="mx_RoomStatusBar mx_RoomStatusBar_unsentMessages"
    data-test-id="historical-import-detected-status-bar"
  >
    <div
      role="alert"
    >
      <div
        className="mx_RoomStatusBar_unsentBadge"
      >
        <img
          alt=""
          height="24"
          src="image-file-stub"
          width="24"
        />
      </div>
      <div>
        <div
          className="mx_RoomStatusBar_unsentTitle"
        >
          History import detected.
        </div>
        <div
          className="mx_RoomStatusBar_unsentDescription"
        >
          History was just imported somewhere in the room. In order to see the historical messages, refresh your timeline.
        </div>
        <hr />
        <div
          className="mx_RoomStatusBar_unsentDescription"
          data-test-id="historical-import-detected-error-content"
        >
          An error occurred while trying to refresh the timeline.
           
          <span>
            Please submit 
            <AccessibleButton
              element="div"
              kind="link"
              onClick={[Function]}
              role="button"
              tabIndex={0}
            >
              <div
                className="mx_AccessibleButton mx_AccessibleButton_hasKind mx_AccessibleButton_kind_link"
                onClick={[Function]}
                onKeyDown={[Function]}
                onKeyUp={[Function]}
                role="button"
                tabIndex={0}
              >
                debug logs
              </div>
            </AccessibleButton>
             to help us track down the problem.
          </span>
        </div>
      </div>
      <div
        className="mx_RoomStatusBar_unsentButtonBar"
      >
        <AccessibleButton
          className="mx_RoomStatusBar_refreshTimelineBtn"
          data-test-id="refresh-timeline-button"
          element="div"
          onClick={[Function]}
          role="button"
          tabIndex={0}
        >
          <div
            className="mx_AccessibleButton mx_RoomStatusBar_refreshTimelineBtn"
            data-test-id="refresh-timeline-button"
            onClick={[Function]}
            onKeyDown={[Function]}
            onKeyUp={[Function]}
            role="button"
            tabIndex={0}
          >
            Refresh timeline
          </div>
        </AccessibleButton>
      </div>
    </div>
  </div>
</RoomStatusBar>
`;

exports[`RoomStatusBar timeline needs refresh bar (history import) should show error state without submit debug logs option in timeline refresh bar when ConnectionError while refreshing 1`] = `
<RoomStatusBar
  room={
    Room {
      "_events": Object {
        "Room.historyImportedWithinTimeline": [Function],
      },
      "_eventsCount": 1,
      "_maxListeners": 100,
      "accountData": Object {},
      "applyRedaction": [Function],
      "blacklistUnverifiedDevices": undefined,
      "client": Object {
        "canSupport": Map {
          "Thread" => 0,
          "ThreadUnreadNotifications" => 0,
          "LoginTokenRequest" => 0,
        },
        "cancelPendingEvent": [MockFunction],
        "createRoom": [MockFunction],
        "credentials": Object {
          "userId": "@userId:matrix.org",
        },
        "crypto": Object {
          "deviceList": Object {
            "downloadKeys": [MockFunction],
          },
        },
        "decryptEventIfNeeded": [Function],
        "doesServerSupportUnstableFeature": [MockFunction],
        "downloadKeys": [MockFunction],
        "emit": [Function],
        "encryptAndSendToDevices": [MockFunction],
        "fetchRoomEvent": [MockFunction],
        "generateClientSecret": [Function],
        "getAccountData": [Function],
        "getCapabilities": [MockFunction],
        "getClientWellKnown": [MockFunction],
        "getDeviceId": [MockFunction],
        "getDevices": [MockFunction],
        "getDomain": [MockFunction],
        "getEventMapper": [Function],
        "getHomeserverUrl": [MockFunction],
        "getIdentityAccount": [MockFunction],
        "getIdentityServerUrl": [MockFunction],
        "getMediaHandler": [MockFunction],
        "getOpenIdToken": [MockFunction],
        "getProfileInfo": [MockFunction],
        "getPushActionsForEvent": [MockFunction],
        "getPushRules": [MockFunction],
        "getPushers": [MockFunction],
        "getRoom": [MockFunction],
        "getRoomDirectoryVisibility": [MockFunction],
        "getRoomHierarchy": [MockFunction],
        "getRoomIdForAlias": [MockFunction],
        "getRoomUpgradeHistory": [MockFunction],
        "getRooms": [MockFunction],
        "getSyncState": [Function],
        "getSyncStateData": [Function],
        "getTerms": [MockFunction],
        "getThirdpartyProtocols": [MockFunction],
        "getThirdpartyUser": [MockFunction],
        "getThreePids": [MockFunction],
        "getTurnServers": [MockFunction],
        "getTurnServersExpiry": [MockFunction],
        "getUser": [MockFunction],
        "getUserId": [MockFunction],
        "getVisibleRooms": [MockFunction],
        "hasLazyLoadMembersEnabled": [MockFunction],
        "isCryptoEnabled": [MockFunction],
        "isGuest": [MockFunction],
        "isInitialSyncComplete": [MockFunction],
        "isRoomEncrypted": [MockFunction],
        "isUserIgnored": [MockFunction],
        "isVersionSupported": [MockFunction],
        "loginFlows": [MockFunction],
        "makeTxnId": [MockFunction],
        "mxcUrlToHttp": [Function],
        "off": [Function],
        "on": [Function],
        "paginateEventTimeline": [MockFunction],
        "peekInRoom": [MockFunction],
        "pushRules": Object {},
        "queueToDevice": [MockFunction],
        "reEmitter": ReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "registerWithIdentityServer": [MockFunction],
        "relations": [MockFunction],
        "removeListener": [Function],
        "sendMessage": [MockFunction],
        "sendReadReceipt": [MockFunction],
        "sendStateEvent": [MockFunction],
        "sendToDevice": [MockFunction],
        "sendTyping": [MockFunction],
        "setAccountData": [MockFunction],
        "setPowerLevel": [MockFunction],
        "setPushRuleActions": [MockFunction],
        "setPushRuleEnabled": [MockFunction],
        "setPusher": [MockFunction],
        "setRoomAccountData": [MockFunction],
        "setRoomReadMarkers": [MockFunction],
        "setRoomTopic": [MockFunction],
        "stopPeeking": [MockFunction],
        "store": Object {
          "getPendingEvents": [MockFunction] {
            "calls": Array [
              Array [
                "r1",
              ],
            ],
            "results": Array [
              Object {
                "type": "return",
                "value": Promise {},
              },
            ],
          },
          "removeRoom": [MockFunction],
          "setPendingEvents": [MockFunction],
          "storeRoom": [MockFunction],
        },
        "supportsExperimentalThreads": [Function],
        "supportsVoip": [MockFunction],
        "uploadContent": [MockFunction],
      },
      "currentState": RoomState {
        "_events": Object {
          "Beacon.Destroy": [Function],
          "Beacon.LivenessChange": [Function],
          "Beacon.new": [Function],
          "Beacon.update": [Function],
          "RoomState.Marker": [Function],
          "RoomState.events": [Function],
          "RoomState.members": [Function],
          "RoomState.newMember": [Function],
          "RoomState.update": [Function],
        },
        "_eventsCount": 9,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "filteredTimelineSets": Object {},
      "getTypeWarning": false,
      "getVersionWarning": false,
      "lastThread": undefined,
      "membersPromise": Promise {},
      "myUserId": "@name:example.com",
      "name": "r1",
      "normalizedName": "r1",
      "notificationCounts": Object {},
      "oldState": RoomState {
        "_events": Object {},
        "_eventsCount": 0,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "opts": Object {
        "pendingEventOrdering": "detached",
      },
      "pendingEventList": Array [],
      "reEmitter": TypedReEmitter {
        "reEmitters": Map {
          EventTimelineSet {
            "_eventIdToTimeline": Map {},
            "_events": Object {
              "Room.timeline": [Function],
              "Room.timelineReset": [Function],
            },
            "_eventsCount": 2,
            "_maxListeners": undefined,
            "displayPendingEvents": true,
            "filter": undefined,
            "liveTimeline": EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
            "relations": RelationsContainer {
              "client": Object {
                "canSupport": Map {
                  "Thread" => 0,
                  "ThreadUnreadNotifications" => 0,
                  "LoginTokenRequest" => 0,
                },
                "cancelPendingEvent": [MockFunction],
                "createRoom": [MockFunction],
                "credentials": Object {
                  "userId": "@userId:matrix.org",
                },
                "crypto": Object {
                  "deviceList": Object {
                    "downloadKeys": [MockFunction],
                  },
                },
                "decryptEventIfNeeded": [Function],
                "doesServerSupportUnstableFeature": [MockFunction],
                "downloadKeys": [MockFunction],
                "emit": [Function],
                "encryptAndSendToDevices": [MockFunction],
                "fetchRoomEvent": [MockFunction],
                "generateClientSecret": [Function],
                "getAccountData": [Function],
                "getCapabilities": [MockFunction],
                "getClientWellKnown": [MockFunction],
                "getDeviceId": [MockFunction],
                "getDevices": [MockFunction],
                "getDomain": [MockFunction],
                "getEventMapper": [Function],
                "getHomeserverUrl": [MockFunction],
                "getIdentityAccount": [MockFunction],
                "getIdentityServerUrl": [MockFunction],
                "getMediaHandler": [MockFunction],
                "getOpenIdToken": [MockFunction],
                "getProfileInfo": [MockFunction],
                "getPushActionsForEvent": [MockFunction],
                "getPushRules": [MockFunction],
                "getPushers": [MockFunction],
                "getRoom": [MockFunction],
                "getRoomDirectoryVisibility": [MockFunction],
                "getRoomHierarchy": [MockFunction],
                "getRoomIdForAlias": [MockFunction],
                "getRoomUpgradeHistory": [MockFunction],
                "getRooms": [MockFunction],
                "getSyncState": [Function],
                "getSyncStateData": [Function],
                "getTerms": [MockFunction],
                "getThirdpartyProtocols": [MockFunction],
                "getThirdpartyUser": [MockFunction],
                "getThreePids": [MockFunction],
                "getTurnServers": [MockFunction],
                "getTurnServersExpiry": [MockFunction],
                "getUser": [MockFunction],
                "getUserId": [MockFunction],
                "getVisibleRooms": [MockFunction],
                "hasLazyLoadMembersEnabled": [MockFunction],
                "isCryptoEnabled": [MockFunction],
                "isGuest": [MockFunction],
                "isInitialSyncComplete": [MockFunction],
                "isRoomEncrypted": [MockFunction],
                "isUserIgnored": [MockFunction],
                "isVersionSupported": [MockFunction],
                "loginFlows": [MockFunction],
                "makeTxnId": [MockFunction],
                "mxcUrlToHttp": [Function],
                "off": [Function],
                "on": [Function],
                "paginateEventTimeline": [MockFunction],
                "peekInRoom": [MockFunction],
                "pushRules": Object {},
                "queueToDevice": [MockFunction],
                "reEmitter": ReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "registerWithIdentityServer": [MockFunction],
                "relations": [MockFunction],
                "removeListener": [Function],
                "sendMessage": [MockFunction],
                "sendReadReceipt": [MockFunction],
                "sendStateEvent": [MockFunction],
                "sendToDevice": [MockFunction],
                "sendTyping": [MockFunction],
                "setAccountData": [MockFunction],
                "setPowerLevel": [MockFunction],
                "setPushRuleActions": [MockFunction],
                "setPushRuleEnabled": [MockFunction],
                "setPusher": [MockFunction],
                "setRoomAccountData": [MockFunction],
                "setRoomReadMarkers": [MockFunction],
                "setRoomTopic": [MockFunction],
                "stopPeeking": [MockFunction],
                "store": Object {
                  "getPendingEvents": [MockFunction] {
                    "calls": Array [
                      Array [
                        "r1",
                      ],
                    ],
                    "results": Array [
                      Object {
                        "type": "return",
                        "value": Promise {},
                      },
                    ],
                  },
                  "removeRoom": [MockFunction],
                  "setPendingEvents": [MockFunction],
                  "storeRoom": [MockFunction],
                },
                "supportsExperimentalThreads": [Function],
                "supportsVoip": [MockFunction],
                "uploadContent": [MockFunction],
              },
              "relations": Map {},
              "room": [Circular],
            },
            "room": [Circular],
            "thread": undefined,
            "threadListType": null,
            "timelineSupport": false,
            "timelines": Array [
              EventTimeline {
                "baseIndex": 0,
                "endState": RoomState {
                  "_events": Object {
                    "Beacon.Destroy": [Function],
                    "Beacon.LivenessChange": [Function],
                    "Beacon.new": [Function],
                    "Beacon.update": [Function],
                    "RoomState.Marker": [Function],
                    "RoomState.events": [Function],
                    "RoomState.members": [Function],
                    "RoomState.newMember": [Function],
                    "RoomState.update": [Function],
                  },
                  "_eventsCount": 9,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
                "eventTimelineSet": [Circular],
                "events": Array [],
                "name": "r1:2021-11-23T14:35:14.240Z",
                "nextTimeline": null,
                "paginationRequests": Object {
                  "b": null,
                  "f": null,
                },
                "prevTimeline": null,
                "roomId": "r1",
                "startState": RoomState {
                  "_events": Object {},
                  "_eventsCount": 0,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
              },
            ],
            Symbol(kCapture): false,
          } => Map {
            "Room.timeline" => [Function],
            "Room.timelineReset" => [Function],
          },
          RoomState {
            "_events": Object {
              "Beacon.Destroy": [Function],
              "Beacon.LivenessChange": [Function],
              "Beacon.new": [Function],
              "Beacon.update": [Function],
              "RoomState.Marker": [Function],
              "RoomState.events": [Function],
              "RoomState.members": [Function],
              "RoomState.newMember": [Function],
              "RoomState.update": [Function],
            },
            "_eventsCount": 9,
            "_liveBeaconIds": Array [],
            "_maxListeners": undefined,
            "beacons": Map {},
            "displayNameToUserIds": Map {},
            "events": Map {},
            "invitedMemberCount": null,
            "joinedMemberCount": null,
            "members": Object {},
            "modified": 2345678901234,
            "oobMemberFlags": Object {
              "status": 0,
            },
            "paginationToken": null,
            "reEmitter": TypedReEmitter {
              "reEmitters": Map {},
              "target": [Circular],
            },
            "roomId": "r1",
            "sentinels": Object {},
            "summaryInvitedMemberCount": null,
            "summaryJoinedMemberCount": null,
            "tokenToInvite": Object {},
            "userIdsToDisplayNames": Object {},
            Symbol(kCapture): false,
          } => Map {
            "RoomState.events" => [Function],
            "RoomState.members" => [Function],
            "RoomState.newMember" => [Function],
            "RoomState.update" => [Function],
            "RoomState.Marker" => [Function],
            "Beacon.new" => [Function],
            "Beacon.update" => [Function],
            "Beacon.Destroy" => [Function],
            "Beacon.LivenessChange" => [Function],
          },
        },
        "target": [Circular],
      },
      "receiptCacheByEventId": Object {},
      "receipts": Object {},
      "relations": RelationsContainer {
        "client": Object {
          "canSupport": Map {
            "Thread" => 0,
            "ThreadUnreadNotifications" => 0,
            "LoginTokenRequest" => 0,
          },
          "cancelPendingEvent": [MockFunction],
          "createRoom": [MockFunction],
          "credentials": Object {
            "userId": "@userId:matrix.org",
          },
          "crypto": Object {
            "deviceList": Object {
              "downloadKeys": [MockFunction],
            },
          },
          "decryptEventIfNeeded": [Function],
          "doesServerSupportUnstableFeature": [MockFunction],
          "downloadKeys": [MockFunction],
          "emit": [Function],
          "encryptAndSendToDevices": [MockFunction],
          "fetchRoomEvent": [MockFunction],
          "generateClientSecret": [Function],
          "getAccountData": [Function],
          "getCapabilities": [MockFunction],
          "getClientWellKnown": [MockFunction],
          "getDeviceId": [MockFunction],
          "getDevices": [MockFunction],
          "getDomain": [MockFunction],
          "getEventMapper": [Function],
          "getHomeserverUrl": [MockFunction],
          "getIdentityAccount": [MockFunction],
          "getIdentityServerUrl": [MockFunction],
          "getMediaHandler": [MockFunction],
          "getOpenIdToken": [MockFunction],
          "getProfileInfo": [MockFunction],
          "getPushActionsForEvent": [MockFunction],
          "getPushRules": [MockFunction],
          "getPushers": [MockFunction],
          "getRoom": [MockFunction],
          "getRoomDirectoryVisibility": [MockFunction],
          "getRoomHierarchy": [MockFunction],
          "getRoomIdForAlias": [MockFunction],
          "getRoomUpgradeHistory": [MockFunction],
          "getRooms": [MockFunction],
          "getSyncState": [Function],
          "getSyncStateData": [Function],
          "getTerms": [MockFunction],
          "getThirdpartyProtocols": [MockFunction],
          "getThirdpartyUser": [MockFunction],
          "getThreePids": [MockFunction],
          "getTurnServers": [MockFunction],
          "getTurnServersExpiry": [MockFunction],
          "getUser": [MockFunction],
          "getUserId": [MockFunction],
          "getVisibleRooms": [MockFunction],
          "hasLazyLoadMembersEnabled": [MockFunction],
          "isCryptoEnabled": [MockFunction],
          "isGuest": [MockFunction],
          "isInitialSyncComplete": [MockFunction],
          "isRoomEncrypted": [MockFunction],
          "isUserIgnored": [MockFunction],
          "isVersionSupported": [MockFunction],
          "loginFlows": [MockFunction],
          "makeTxnId": [MockFunction],
          "mxcUrlToHttp": [Function],
          "off": [Function],
          "on": [Function],
          "paginateEventTimeline": [MockFunction],
          "peekInRoom": [MockFunction],
          "pushRules": Object {},
          "queueToDevice": [MockFunction],
          "reEmitter": ReEmitter {
            "reEmitters": Map {},
            "target": [Circular],
          },
          "registerWithIdentityServer": [MockFunction],
          "relations": [MockFunction],
          "removeListener": [Function],
          "sendMessage": [MockFunction],
          "sendReadReceipt": [MockFunction],
          "sendStateEvent": [MockFunction],
          "sendToDevice": [MockFunction],
          "sendTyping": [MockFunction],
          "setAccountData": [MockFunction],
          "setPowerLevel": [MockFunction],
          "setPushRuleActions": [MockFunction],
          "setPushRuleEnabled": [MockFunction],
          "setPusher": [MockFunction],
          "setRoomAccountData": [MockFunction],
          "setRoomReadMarkers": [MockFunction],
          "setRoomTopic": [MockFunction],
          "stopPeeking": [MockFunction],
          "store": Object {
            "getPendingEvents": [MockFunction] {
              "calls": Array [
                Array [
                  "r1",
                ],
              ],
              "results": Array [
                Object {
                  "type": "return",
                  "value": Promise {},
                },
              ],
            },
            "removeRoom": [MockFunction],
            "setPendingEvents": [MockFunction],
            "storeRoom": [MockFunction],
          },
          "supportsExperimentalThreads": [Function],
          "supportsVoip": [MockFunction],
          "uploadContent": [MockFunction],
        },
        "relations": Map {},
        "room": [Circular],
      },
      "roomId": "r1",
      "selfMembership": undefined,
      "summary": null,
      "summaryHeroes": null,
      "tags": Object {},
      "threadNotifications": Map {},
      "threadTimelineSetsPromise": null,
      "threads": Map {},
      "threadsReady": false,
      "threadsTimelineSets": Array [],
      "timeline": Array [],
      "timelineNeedsRefresh": true,
      "timelineSets": Array [
        EventTimelineSet {
          "_eventIdToTimeline": Map {},
          "_events": Object {
            "Room.timeline": [Function],
            "Room.timelineReset": [Function],
          },
          "_eventsCount": 2,
          "_maxListeners": undefined,
          "displayPendingEvents": true,
          "filter": undefined,
          "liveTimeline": EventTimeline {
            "baseIndex": 0,
            "endState": RoomState {
              "_events": Object {
                "Beacon.Destroy": [Function],
                "Beacon.LivenessChange": [Function],
                "Beacon.new": [Function],
                "Beacon.update": [Function],
                "RoomState.Marker": [Function],
                "RoomState.events": [Function],
                "RoomState.members": [Function],
                "RoomState.newMember": [Function],
                "RoomState.update": [Function],
              },
              "_eventsCount": 9,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
            "eventTimelineSet": [Circular],
            "events": Array [],
            "name": "r1:2021-11-23T14:35:14.240Z",
            "nextTimeline": null,
            "paginationRequests": Object {
              "b": null,
              "f": null,
            },
            "prevTimeline": null,
            "roomId": "r1",
            "startState": RoomState {
              "_events": Object {},
              "_eventsCount": 0,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
          },
          "relations": RelationsContainer {
            "client": Object {
              "canSupport": Map {
                "Thread" => 0,
                "ThreadUnreadNotifications" => 0,
                "LoginTokenRequest" => 0,
              },
              "cancelPendingEvent": [MockFunction],
              "createRoom": [MockFunction],
              "credentials": Object {
                "userId": "@userId:matrix.org",
              },
              "crypto": Object {
                "deviceList": Object {
                  "downloadKeys": [MockFunction],
                },
              },
              "decryptEventIfNeeded": [Function],
              "doesServerSupportUnstableFeature": [MockFunction],
              "downloadKeys": [MockFunction],
              "emit": [Function],
              "encryptAndSendToDevices": [MockFunction],
              "fetchRoomEvent": [MockFunction],
              "generateClientSecret": [Function],
              "getAccountData": [Function],
              "getCapabilities": [MockFunction],
              "getClientWellKnown": [MockFunction],
              "getDeviceId": [MockFunction],
              "getDevices": [MockFunction],
              "getDomain": [MockFunction],
              "getEventMapper": [Function],
              "getHomeserverUrl": [MockFunction],
              "getIdentityAccount": [MockFunction],
              "getIdentityServerUrl": [MockFunction],
              "getMediaHandler": [MockFunction],
              "getOpenIdToken": [MockFunction],
              "getProfileInfo": [MockFunction],
              "getPushActionsForEvent": [MockFunction],
              "getPushRules": [MockFunction],
              "getPushers": [MockFunction],
              "getRoom": [MockFunction],
              "getRoomDirectoryVisibility": [MockFunction],
              "getRoomHierarchy": [MockFunction],
              "getRoomIdForAlias": [MockFunction],
              "getRoomUpgradeHistory": [MockFunction],
              "getRooms": [MockFunction],
              "getSyncState": [Function],
              "getSyncStateData": [Function],
              "getTerms": [MockFunction],
              "getThirdpartyProtocols": [MockFunction],
              "getThirdpartyUser": [MockFunction],
              "getThreePids": [MockFunction],
              "getTurnServers": [MockFunction],
              "getTurnServersExpiry": [MockFunction],
              "getUser": [MockFunction],
              "getUserId": [MockFunction],
              "getVisibleRooms": [MockFunction],
              "hasLazyLoadMembersEnabled": [MockFunction],
              "isCryptoEnabled": [MockFunction],
              "isGuest": [MockFunction],
              "isInitialSyncComplete": [MockFunction],
              "isRoomEncrypted": [MockFunction],
              "isUserIgnored": [MockFunction],
              "isVersionSupported": [MockFunction],
              "loginFlows": [MockFunction],
              "makeTxnId": [MockFunction],
              "mxcUrlToHttp": [Function],
              "off": [Function],
              "on": [Function],
              "paginateEventTimeline": [MockFunction],
              "peekInRoom": [MockFunction],
              "pushRules": Object {},
              "queueToDevice": [MockFunction],
              "reEmitter": ReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "registerWithIdentityServer": [MockFunction],
              "relations": [MockFunction],
              "removeListener": [Function],
              "sendMessage": [MockFunction],
              "sendReadReceipt": [MockFunction],
              "sendStateEvent": [MockFunction],
              "sendToDevice": [MockFunction],
              "sendTyping": [MockFunction],
              "setAccountData": [MockFunction],
              "setPowerLevel": [MockFunction],
              "setPushRuleActions": [MockFunction],
              "setPushRuleEnabled": [MockFunction],
              "setPusher": [MockFunction],
              "setRoomAccountData": [MockFunction],
              "setRoomReadMarkers": [MockFunction],
              "setRoomTopic": [MockFunction],
              "stopPeeking": [MockFunction],
              "store": Object {
                "getPendingEvents": [MockFunction] {
                  "calls": Array [
                    Array [
                      "r1",
                    ],
                  ],
                  "results": Array [
                    Object {
                      "type": "return",
                      "value": Promise {},
                    },
                  ],
                },
                "removeRoom": [MockFunction],
                "setPendingEvents": [MockFunction],
                "storeRoom": [MockFunction],
              },
              "supportsExperimentalThreads": [Function],
              "supportsVoip": [MockFunction],
              "uploadContent": [MockFunction],
            },
            "relations": Map {},
            "room": [Circular],
          },
          "room": [Circular],
          "thread": undefined,
          "threadListType": null,
          "timelineSupport": false,
          "timelines": Array [
            EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
          ],
          Symbol(kCapture): false,
        },
      ],
      "txnToEvent": Object {},
      "updateThreadRootEvent": [Function],
      "updateThreadRootEvents": [Function],
      "visibilityEvents": Map {},
      Symbol(kCapture): false,
    }
  }
>
  <div
    className="mx_RoomStatusBar mx_RoomStatusBar_unsentMessages"
    data-test-id="historical-import-detected-status-bar"
  >
    <div
      role="alert"
    >
      <div
        className="mx_RoomStatusBar_unsentBadge"
      >
        <img
          alt=""
          height="24"
          src="image-file-stub"
          width="24"
        />
      </div>
      <div>
        <div
          className="mx_RoomStatusBar_unsentTitle"
        >
          History import detected.
        </div>
        <div
          className="mx_RoomStatusBar_unsentDescription"
        >
          History was just imported somewhere in the room. In order to see the historical messages, refresh your timeline.
        </div>
        <hr />
        <div
          className="mx_RoomStatusBar_unsentDescription"
          data-test-id="historical-import-detected-error-content"
        >
          A network error occurred while trying to refresh the timeline. Your homeserver might be down or was just a temporary problem with your internet connection.
           
        </div>
      </div>
      <div
        className="mx_RoomStatusBar_unsentButtonBar"
      >
        <AccessibleButton
          className="mx_RoomStatusBar_refreshTimelineBtn"
          data-test-id="refresh-timeline-button"
          element="div"
          onClick={[Function]}
          role="button"
          tabIndex={0}
        >
          <div
            className="mx_AccessibleButton mx_RoomStatusBar_refreshTimelineBtn"
            data-test-id="refresh-timeline-button"
            onClick={[Function]}
            onKeyDown={[Function]}
            onKeyUp={[Function]}
            role="button"
            tabIndex={0}
          >
            Refresh timeline
          </div>
        </AccessibleButton>
      </div>
    </div>
  </div>
</RoomStatusBar>
`;

exports[`RoomStatusBar timeline needs refresh bar (history import) should show timeline refresh bar when history import detected 1`] = `
<RoomStatusBar
  room={
    Room {
      "_events": Object {
        "Room.historyImportedWithinTimeline": [Function],
      },
      "_eventsCount": 1,
      "_maxListeners": 100,
      "accountData": Object {},
      "applyRedaction": [Function],
      "blacklistUnverifiedDevices": undefined,
      "client": Object {
        "canSupport": Map {
          "Thread" => 0,
          "ThreadUnreadNotifications" => 0,
          "LoginTokenRequest" => 0,
        },
        "cancelPendingEvent": [MockFunction],
        "createRoom": [MockFunction],
        "credentials": Object {
          "userId": "@userId:matrix.org",
        },
        "crypto": Object {
          "deviceList": Object {
            "downloadKeys": [MockFunction],
          },
        },
        "decryptEventIfNeeded": [Function],
        "doesServerSupportUnstableFeature": [MockFunction],
        "downloadKeys": [MockFunction],
        "emit": [Function],
        "encryptAndSendToDevices": [MockFunction],
        "fetchRoomEvent": [MockFunction],
        "generateClientSecret": [Function],
        "getAccountData": [Function],
        "getCapabilities": [MockFunction],
        "getClientWellKnown": [MockFunction],
        "getDeviceId": [MockFunction],
        "getDevices": [MockFunction],
        "getDomain": [MockFunction],
        "getEventMapper": [Function],
        "getHomeserverUrl": [MockFunction],
        "getIdentityAccount": [MockFunction],
        "getIdentityServerUrl": [MockFunction],
        "getMediaHandler": [MockFunction],
        "getOpenIdToken": [MockFunction],
        "getProfileInfo": [MockFunction],
        "getPushActionsForEvent": [MockFunction],
        "getPushRules": [MockFunction],
        "getPushers": [MockFunction],
        "getRoom": [MockFunction],
        "getRoomDirectoryVisibility": [MockFunction],
        "getRoomHierarchy": [MockFunction],
        "getRoomIdForAlias": [MockFunction],
        "getRoomUpgradeHistory": [MockFunction],
        "getRooms": [MockFunction],
        "getSyncState": [Function],
        "getSyncStateData": [Function],
        "getTerms": [MockFunction],
        "getThirdpartyProtocols": [MockFunction],
        "getThirdpartyUser": [MockFunction],
        "getThreePids": [MockFunction],
        "getTurnServers": [MockFunction],
        "getTurnServersExpiry": [MockFunction],
        "getUser": [MockFunction],
        "getUserId": [MockFunction],
        "getVisibleRooms": [MockFunction],
        "hasLazyLoadMembersEnabled": [MockFunction],
        "isCryptoEnabled": [MockFunction],
        "isGuest": [MockFunction],
        "isInitialSyncComplete": [MockFunction],
        "isRoomEncrypted": [MockFunction],
        "isUserIgnored": [MockFunction],
        "isVersionSupported": [MockFunction],
        "loginFlows": [MockFunction],
        "makeTxnId": [MockFunction],
        "mxcUrlToHttp": [Function],
        "off": [Function],
        "on": [Function],
        "paginateEventTimeline": [MockFunction],
        "peekInRoom": [MockFunction],
        "pushRules": Object {},
        "queueToDevice": [MockFunction],
        "reEmitter": ReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "registerWithIdentityServer": [MockFunction],
        "relations": [MockFunction],
        "removeListener": [Function],
        "sendMessage": [MockFunction],
        "sendReadReceipt": [MockFunction],
        "sendStateEvent": [MockFunction],
        "sendToDevice": [MockFunction],
        "sendTyping": [MockFunction],
        "setAccountData": [MockFunction],
        "setPowerLevel": [MockFunction],
        "setPushRuleActions": [MockFunction],
        "setPushRuleEnabled": [MockFunction],
        "setPusher": [MockFunction],
        "setRoomAccountData": [MockFunction],
        "setRoomReadMarkers": [MockFunction],
        "setRoomTopic": [MockFunction],
        "stopPeeking": [MockFunction],
        "store": Object {
          "getPendingEvents": [MockFunction] {
            "calls": Array [
              Array [
                "r1",
              ],
            ],
            "results": Array [
              Object {
                "type": "return",
                "value": Promise {},
              },
            ],
          },
          "removeRoom": [MockFunction],
          "setPendingEvents": [MockFunction],
          "storeRoom": [MockFunction],
        },
        "supportsExperimentalThreads": [Function],
        "supportsVoip": [MockFunction],
        "uploadContent": [MockFunction],
      },
      "currentState": RoomState {
        "_events": Object {
          "Beacon.Destroy": [Function],
          "Beacon.LivenessChange": [Function],
          "Beacon.new": [Function],
          "Beacon.update": [Function],
          "RoomState.Marker": [Function],
          "RoomState.events": [Function],
          "RoomState.members": [Function],
          "RoomState.newMember": [Function],
          "RoomState.update": [Function],
        },
        "_eventsCount": 9,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "filteredTimelineSets": Object {},
      "getTypeWarning": false,
      "getVersionWarning": false,
      "lastThread": undefined,
      "membersPromise": Promise {},
      "myUserId": "@name:example.com",
      "name": "r1",
      "normalizedName": "r1",
      "notificationCounts": Object {},
      "oldState": RoomState {
        "_events": Object {},
        "_eventsCount": 0,
        "_liveBeaconIds": Array [],
        "_maxListeners": undefined,
        "beacons": Map {},
        "displayNameToUserIds": Map {},
        "events": Map {},
        "invitedMemberCount": null,
        "joinedMemberCount": null,
        "members": Object {},
        "modified": 2345678901234,
        "oobMemberFlags": Object {
          "status": 0,
        },
        "paginationToken": null,
        "reEmitter": TypedReEmitter {
          "reEmitters": Map {},
          "target": [Circular],
        },
        "roomId": "r1",
        "sentinels": Object {},
        "summaryInvitedMemberCount": null,
        "summaryJoinedMemberCount": null,
        "tokenToInvite": Object {},
        "userIdsToDisplayNames": Object {},
        Symbol(kCapture): false,
      },
      "opts": Object {
        "pendingEventOrdering": "detached",
      },
      "pendingEventList": Array [],
      "reEmitter": TypedReEmitter {
        "reEmitters": Map {
          EventTimelineSet {
            "_eventIdToTimeline": Map {},
            "_events": Object {
              "Room.timeline": [Function],
              "Room.timelineReset": [Function],
            },
            "_eventsCount": 2,
            "_maxListeners": undefined,
            "displayPendingEvents": true,
            "filter": undefined,
            "liveTimeline": EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
            "relations": RelationsContainer {
              "client": Object {
                "canSupport": Map {
                  "Thread" => 0,
                  "ThreadUnreadNotifications" => 0,
                  "LoginTokenRequest" => 0,
                },
                "cancelPendingEvent": [MockFunction],
                "createRoom": [MockFunction],
                "credentials": Object {
                  "userId": "@userId:matrix.org",
                },
                "crypto": Object {
                  "deviceList": Object {
                    "downloadKeys": [MockFunction],
                  },
                },
                "decryptEventIfNeeded": [Function],
                "doesServerSupportUnstableFeature": [MockFunction],
                "downloadKeys": [MockFunction],
                "emit": [Function],
                "encryptAndSendToDevices": [MockFunction],
                "fetchRoomEvent": [MockFunction],
                "generateClientSecret": [Function],
                "getAccountData": [Function],
                "getCapabilities": [MockFunction],
                "getClientWellKnown": [MockFunction],
                "getDeviceId": [MockFunction],
                "getDevices": [MockFunction],
                "getDomain": [MockFunction],
                "getEventMapper": [Function],
                "getHomeserverUrl": [MockFunction],
                "getIdentityAccount": [MockFunction],
                "getIdentityServerUrl": [MockFunction],
                "getMediaHandler": [MockFunction],
                "getOpenIdToken": [MockFunction],
                "getProfileInfo": [MockFunction],
                "getPushActionsForEvent": [MockFunction],
                "getPushRules": [MockFunction],
                "getPushers": [MockFunction],
                "getRoom": [MockFunction],
                "getRoomDirectoryVisibility": [MockFunction],
                "getRoomHierarchy": [MockFunction],
                "getRoomIdForAlias": [MockFunction],
                "getRoomUpgradeHistory": [MockFunction],
                "getRooms": [MockFunction],
                "getSyncState": [Function],
                "getSyncStateData": [Function],
                "getTerms": [MockFunction],
                "getThirdpartyProtocols": [MockFunction],
                "getThirdpartyUser": [MockFunction],
                "getThreePids": [MockFunction],
                "getTurnServers": [MockFunction],
                "getTurnServersExpiry": [MockFunction],
                "getUser": [MockFunction],
                "getUserId": [MockFunction],
                "getVisibleRooms": [MockFunction],
                "hasLazyLoadMembersEnabled": [MockFunction],
                "isCryptoEnabled": [MockFunction],
                "isGuest": [MockFunction],
                "isInitialSyncComplete": [MockFunction],
                "isRoomEncrypted": [MockFunction],
                "isUserIgnored": [MockFunction],
                "isVersionSupported": [MockFunction],
                "loginFlows": [MockFunction],
                "makeTxnId": [MockFunction],
                "mxcUrlToHttp": [Function],
                "off": [Function],
                "on": [Function],
                "paginateEventTimeline": [MockFunction],
                "peekInRoom": [MockFunction],
                "pushRules": Object {},
                "queueToDevice": [MockFunction],
                "reEmitter": ReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "registerWithIdentityServer": [MockFunction],
                "relations": [MockFunction],
                "removeListener": [Function],
                "sendMessage": [MockFunction],
                "sendReadReceipt": [MockFunction],
                "sendStateEvent": [MockFunction],
                "sendToDevice": [MockFunction],
                "sendTyping": [MockFunction],
                "setAccountData": [MockFunction],
                "setPowerLevel": [MockFunction],
                "setPushRuleActions": [MockFunction],
                "setPushRuleEnabled": [MockFunction],
                "setPusher": [MockFunction],
                "setRoomAccountData": [MockFunction],
                "setRoomReadMarkers": [MockFunction],
                "setRoomTopic": [MockFunction],
                "stopPeeking": [MockFunction],
                "store": Object {
                  "getPendingEvents": [MockFunction] {
                    "calls": Array [
                      Array [
                        "r1",
                      ],
                    ],
                    "results": Array [
                      Object {
                        "type": "return",
                        "value": Promise {},
                      },
                    ],
                  },
                  "removeRoom": [MockFunction],
                  "setPendingEvents": [MockFunction],
                  "storeRoom": [MockFunction],
                },
                "supportsExperimentalThreads": [Function],
                "supportsVoip": [MockFunction],
                "uploadContent": [MockFunction],
              },
              "relations": Map {},
              "room": [Circular],
            },
            "room": [Circular],
            "thread": undefined,
            "threadListType": null,
            "timelineSupport": false,
            "timelines": Array [
              EventTimeline {
                "baseIndex": 0,
                "endState": RoomState {
                  "_events": Object {
                    "Beacon.Destroy": [Function],
                    "Beacon.LivenessChange": [Function],
                    "Beacon.new": [Function],
                    "Beacon.update": [Function],
                    "RoomState.Marker": [Function],
                    "RoomState.events": [Function],
                    "RoomState.members": [Function],
                    "RoomState.newMember": [Function],
                    "RoomState.update": [Function],
                  },
                  "_eventsCount": 9,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
                "eventTimelineSet": [Circular],
                "events": Array [],
                "name": "r1:2021-11-23T14:35:14.240Z",
                "nextTimeline": null,
                "paginationRequests": Object {
                  "b": null,
                  "f": null,
                },
                "prevTimeline": null,
                "roomId": "r1",
                "startState": RoomState {
                  "_events": Object {},
                  "_eventsCount": 0,
                  "_liveBeaconIds": Array [],
                  "_maxListeners": undefined,
                  "beacons": Map {},
                  "displayNameToUserIds": Map {},
                  "events": Map {},
                  "invitedMemberCount": null,
                  "joinedMemberCount": null,
                  "members": Object {},
                  "modified": 2345678901234,
                  "oobMemberFlags": Object {
                    "status": 0,
                  },
                  "paginationToken": null,
                  "reEmitter": TypedReEmitter {
                    "reEmitters": Map {},
                    "target": [Circular],
                  },
                  "roomId": "r1",
                  "sentinels": Object {},
                  "summaryInvitedMemberCount": null,
                  "summaryJoinedMemberCount": null,
                  "tokenToInvite": Object {},
                  "userIdsToDisplayNames": Object {},
                  Symbol(kCapture): false,
                },
              },
            ],
            Symbol(kCapture): false,
          } => Map {
            "Room.timeline" => [Function],
            "Room.timelineReset" => [Function],
          },
          RoomState {
            "_events": Object {
              "Beacon.Destroy": [Function],
              "Beacon.LivenessChange": [Function],
              "Beacon.new": [Function],
              "Beacon.update": [Function],
              "RoomState.Marker": [Function],
              "RoomState.events": [Function],
              "RoomState.members": [Function],
              "RoomState.newMember": [Function],
              "RoomState.update": [Function],
            },
            "_eventsCount": 9,
            "_liveBeaconIds": Array [],
            "_maxListeners": undefined,
            "beacons": Map {},
            "displayNameToUserIds": Map {},
            "events": Map {},
            "invitedMemberCount": null,
            "joinedMemberCount": null,
            "members": Object {},
            "modified": 2345678901234,
            "oobMemberFlags": Object {
              "status": 0,
            },
            "paginationToken": null,
            "reEmitter": TypedReEmitter {
              "reEmitters": Map {},
              "target": [Circular],
            },
            "roomId": "r1",
            "sentinels": Object {},
            "summaryInvitedMemberCount": null,
            "summaryJoinedMemberCount": null,
            "tokenToInvite": Object {},
            "userIdsToDisplayNames": Object {},
            Symbol(kCapture): false,
          } => Map {
            "RoomState.events" => [Function],
            "RoomState.members" => [Function],
            "RoomState.newMember" => [Function],
            "RoomState.update" => [Function],
            "RoomState.Marker" => [Function],
            "Beacon.new" => [Function],
            "Beacon.update" => [Function],
            "Beacon.Destroy" => [Function],
            "Beacon.LivenessChange" => [Function],
          },
        },
        "target": [Circular],
      },
      "receiptCacheByEventId": Object {},
      "receipts": Object {},
      "relations": RelationsContainer {
        "client": Object {
          "canSupport": Map {
            "Thread" => 0,
            "ThreadUnreadNotifications" => 0,
            "LoginTokenRequest" => 0,
          },
          "cancelPendingEvent": [MockFunction],
          "createRoom": [MockFunction],
          "credentials": Object {
            "userId": "@userId:matrix.org",
          },
          "crypto": Object {
            "deviceList": Object {
              "downloadKeys": [MockFunction],
            },
          },
          "decryptEventIfNeeded": [Function],
          "doesServerSupportUnstableFeature": [MockFunction],
          "downloadKeys": [MockFunction],
          "emit": [Function],
          "encryptAndSendToDevices": [MockFunction],
          "fetchRoomEvent": [MockFunction],
          "generateClientSecret": [Function],
          "getAccountData": [Function],
          "getCapabilities": [MockFunction],
          "getClientWellKnown": [MockFunction],
          "getDeviceId": [MockFunction],
          "getDevices": [MockFunction],
          "getDomain": [MockFunction],
          "getEventMapper": [Function],
          "getHomeserverUrl": [MockFunction],
          "getIdentityAccount": [MockFunction],
          "getIdentityServerUrl": [MockFunction],
          "getMediaHandler": [MockFunction],
          "getOpenIdToken": [MockFunction],
          "getProfileInfo": [MockFunction],
          "getPushActionsForEvent": [MockFunction],
          "getPushRules": [MockFunction],
          "getPushers": [MockFunction],
          "getRoom": [MockFunction],
          "getRoomDirectoryVisibility": [MockFunction],
          "getRoomHierarchy": [MockFunction],
          "getRoomIdForAlias": [MockFunction],
          "getRoomUpgradeHistory": [MockFunction],
          "getRooms": [MockFunction],
          "getSyncState": [Function],
          "getSyncStateData": [Function],
          "getTerms": [MockFunction],
          "getThirdpartyProtocols": [MockFunction],
          "getThirdpartyUser": [MockFunction],
          "getThreePids": [MockFunction],
          "getTurnServers": [MockFunction],
          "getTurnServersExpiry": [MockFunction],
          "getUser": [MockFunction],
          "getUserId": [MockFunction],
          "getVisibleRooms": [MockFunction],
          "hasLazyLoadMembersEnabled": [MockFunction],
          "isCryptoEnabled": [MockFunction],
          "isGuest": [MockFunction],
          "isInitialSyncComplete": [MockFunction],
          "isRoomEncrypted": [MockFunction],
          "isUserIgnored": [MockFunction],
          "isVersionSupported": [MockFunction],
          "loginFlows": [MockFunction],
          "makeTxnId": [MockFunction],
          "mxcUrlToHttp": [Function],
          "off": [Function],
          "on": [Function],
          "paginateEventTimeline": [MockFunction],
          "peekInRoom": [MockFunction],
          "pushRules": Object {},
          "queueToDevice": [MockFunction],
          "reEmitter": ReEmitter {
            "reEmitters": Map {},
            "target": [Circular],
          },
          "registerWithIdentityServer": [MockFunction],
          "relations": [MockFunction],
          "removeListener": [Function],
          "sendMessage": [MockFunction],
          "sendReadReceipt": [MockFunction],
          "sendStateEvent": [MockFunction],
          "sendToDevice": [MockFunction],
          "sendTyping": [MockFunction],
          "setAccountData": [MockFunction],
          "setPowerLevel": [MockFunction],
          "setPushRuleActions": [MockFunction],
          "setPushRuleEnabled": [MockFunction],
          "setPusher": [MockFunction],
          "setRoomAccountData": [MockFunction],
          "setRoomReadMarkers": [MockFunction],
          "setRoomTopic": [MockFunction],
          "stopPeeking": [MockFunction],
          "store": Object {
            "getPendingEvents": [MockFunction] {
              "calls": Array [
                Array [
                  "r1",
                ],
              ],
              "results": Array [
                Object {
                  "type": "return",
                  "value": Promise {},
                },
              ],
            },
            "removeRoom": [MockFunction],
            "setPendingEvents": [MockFunction],
            "storeRoom": [MockFunction],
          },
          "supportsExperimentalThreads": [Function],
          "supportsVoip": [MockFunction],
          "uploadContent": [MockFunction],
        },
        "relations": Map {},
        "room": [Circular],
      },
      "roomId": "r1",
      "selfMembership": undefined,
      "summary": null,
      "summaryHeroes": null,
      "tags": Object {},
      "threadNotifications": Map {},
      "threadTimelineSetsPromise": null,
      "threads": Map {},
      "threadsReady": false,
      "threadsTimelineSets": Array [],
      "timeline": Array [],
      "timelineNeedsRefresh": true,
      "timelineSets": Array [
        EventTimelineSet {
          "_eventIdToTimeline": Map {},
          "_events": Object {
            "Room.timeline": [Function],
            "Room.timelineReset": [Function],
          },
          "_eventsCount": 2,
          "_maxListeners": undefined,
          "displayPendingEvents": true,
          "filter": undefined,
          "liveTimeline": EventTimeline {
            "baseIndex": 0,
            "endState": RoomState {
              "_events": Object {
                "Beacon.Destroy": [Function],
                "Beacon.LivenessChange": [Function],
                "Beacon.new": [Function],
                "Beacon.update": [Function],
                "RoomState.Marker": [Function],
                "RoomState.events": [Function],
                "RoomState.members": [Function],
                "RoomState.newMember": [Function],
                "RoomState.update": [Function],
              },
              "_eventsCount": 9,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
            "eventTimelineSet": [Circular],
            "events": Array [],
            "name": "r1:2021-11-23T14:35:14.240Z",
            "nextTimeline": null,
            "paginationRequests": Object {
              "b": null,
              "f": null,
            },
            "prevTimeline": null,
            "roomId": "r1",
            "startState": RoomState {
              "_events": Object {},
              "_eventsCount": 0,
              "_liveBeaconIds": Array [],
              "_maxListeners": undefined,
              "beacons": Map {},
              "displayNameToUserIds": Map {},
              "events": Map {},
              "invitedMemberCount": null,
              "joinedMemberCount": null,
              "members": Object {},
              "modified": 2345678901234,
              "oobMemberFlags": Object {
                "status": 0,
              },
              "paginationToken": null,
              "reEmitter": TypedReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "roomId": "r1",
              "sentinels": Object {},
              "summaryInvitedMemberCount": null,
              "summaryJoinedMemberCount": null,
              "tokenToInvite": Object {},
              "userIdsToDisplayNames": Object {},
              Symbol(kCapture): false,
            },
          },
          "relations": RelationsContainer {
            "client": Object {
              "canSupport": Map {
                "Thread" => 0,
                "ThreadUnreadNotifications" => 0,
                "LoginTokenRequest" => 0,
              },
              "cancelPendingEvent": [MockFunction],
              "createRoom": [MockFunction],
              "credentials": Object {
                "userId": "@userId:matrix.org",
              },
              "crypto": Object {
                "deviceList": Object {
                  "downloadKeys": [MockFunction],
                },
              },
              "decryptEventIfNeeded": [Function],
              "doesServerSupportUnstableFeature": [MockFunction],
              "downloadKeys": [MockFunction],
              "emit": [Function],
              "encryptAndSendToDevices": [MockFunction],
              "fetchRoomEvent": [MockFunction],
              "generateClientSecret": [Function],
              "getAccountData": [Function],
              "getCapabilities": [MockFunction],
              "getClientWellKnown": [MockFunction],
              "getDeviceId": [MockFunction],
              "getDevices": [MockFunction],
              "getDomain": [MockFunction],
              "getEventMapper": [Function],
              "getHomeserverUrl": [MockFunction],
              "getIdentityAccount": [MockFunction],
              "getIdentityServerUrl": [MockFunction],
              "getMediaHandler": [MockFunction],
              "getOpenIdToken": [MockFunction],
              "getProfileInfo": [MockFunction],
              "getPushActionsForEvent": [MockFunction],
              "getPushRules": [MockFunction],
              "getPushers": [MockFunction],
              "getRoom": [MockFunction],
              "getRoomDirectoryVisibility": [MockFunction],
              "getRoomHierarchy": [MockFunction],
              "getRoomIdForAlias": [MockFunction],
              "getRoomUpgradeHistory": [MockFunction],
              "getRooms": [MockFunction],
              "getSyncState": [Function],
              "getSyncStateData": [Function],
              "getTerms": [MockFunction],
              "getThirdpartyProtocols": [MockFunction],
              "getThirdpartyUser": [MockFunction],
              "getThreePids": [MockFunction],
              "getTurnServers": [MockFunction],
              "getTurnServersExpiry": [MockFunction],
              "getUser": [MockFunction],
              "getUserId": [MockFunction],
              "getVisibleRooms": [MockFunction],
              "hasLazyLoadMembersEnabled": [MockFunction],
              "isCryptoEnabled": [MockFunction],
              "isGuest": [MockFunction],
              "isInitialSyncComplete": [MockFunction],
              "isRoomEncrypted": [MockFunction],
              "isUserIgnored": [MockFunction],
              "isVersionSupported": [MockFunction],
              "loginFlows": [MockFunction],
              "makeTxnId": [MockFunction],
              "mxcUrlToHttp": [Function],
              "off": [Function],
              "on": [Function],
              "paginateEventTimeline": [MockFunction],
              "peekInRoom": [MockFunction],
              "pushRules": Object {},
              "queueToDevice": [MockFunction],
              "reEmitter": ReEmitter {
                "reEmitters": Map {},
                "target": [Circular],
              },
              "registerWithIdentityServer": [MockFunction],
              "relations": [MockFunction],
              "removeListener": [Function],
              "sendMessage": [MockFunction],
              "sendReadReceipt": [MockFunction],
              "sendStateEvent": [MockFunction],
              "sendToDevice": [MockFunction],
              "sendTyping": [MockFunction],
              "setAccountData": [MockFunction],
              "setPowerLevel": [MockFunction],
              "setPushRuleActions": [MockFunction],
              "setPushRuleEnabled": [MockFunction],
              "setPusher": [MockFunction],
              "setRoomAccountData": [MockFunction],
              "setRoomReadMarkers": [MockFunction],
              "setRoomTopic": [MockFunction],
              "stopPeeking": [MockFunction],
              "store": Object {
                "getPendingEvents": [MockFunction] {
                  "calls": Array [
                    Array [
                      "r1",
                    ],
                  ],
                  "results": Array [
                    Object {
                      "type": "return",
                      "value": Promise {},
                    },
                  ],
                },
                "removeRoom": [MockFunction],
                "setPendingEvents": [MockFunction],
                "storeRoom": [MockFunction],
              },
              "supportsExperimentalThreads": [Function],
              "supportsVoip": [MockFunction],
              "uploadContent": [MockFunction],
            },
            "relations": Map {},
            "room": [Circular],
          },
          "room": [Circular],
          "thread": undefined,
          "threadListType": null,
          "timelineSupport": false,
          "timelines": Array [
            EventTimeline {
              "baseIndex": 0,
              "endState": RoomState {
                "_events": Object {
                  "Beacon.Destroy": [Function],
                  "Beacon.LivenessChange": [Function],
                  "Beacon.new": [Function],
                  "Beacon.update": [Function],
                  "RoomState.Marker": [Function],
                  "RoomState.events": [Function],
                  "RoomState.members": [Function],
                  "RoomState.newMember": [Function],
                  "RoomState.update": [Function],
                },
                "_eventsCount": 9,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
              "eventTimelineSet": [Circular],
              "events": Array [],
              "name": "r1:2021-11-23T14:35:14.240Z",
              "nextTimeline": null,
              "paginationRequests": Object {
                "b": null,
                "f": null,
              },
              "prevTimeline": null,
              "roomId": "r1",
              "startState": RoomState {
                "_events": Object {},
                "_eventsCount": 0,
                "_liveBeaconIds": Array [],
                "_maxListeners": undefined,
                "beacons": Map {},
                "displayNameToUserIds": Map {},
                "events": Map {},
                "invitedMemberCount": null,
                "joinedMemberCount": null,
                "members": Object {},
                "modified": 2345678901234,
                "oobMemberFlags": Object {
                  "status": 0,
                },
                "paginationToken": null,
                "reEmitter": TypedReEmitter {
                  "reEmitters": Map {},
                  "target": [Circular],
                },
                "roomId": "r1",
                "sentinels": Object {},
                "summaryInvitedMemberCount": null,
                "summaryJoinedMemberCount": null,
                "tokenToInvite": Object {},
                "userIdsToDisplayNames": Object {},
                Symbol(kCapture): false,
              },
            },
          ],
          Symbol(kCapture): false,
        },
      ],
      "txnToEvent": Object {},
      "updateThreadRootEvent": [Function],
      "updateThreadRootEvents": [Function],
      "visibilityEvents": Map {},
      Symbol(kCapture): false,
    }
  }
>
  <div
    className="mx_RoomStatusBar mx_RoomStatusBar_unsentMessages"
    data-test-id="historical-import-detected-status-bar"
  >
    <div
      role="alert"
    >
      <div
        className="mx_RoomStatusBar_unsentBadge"
      >
        <img
          alt=""
          height="24"
          src="image-file-stub"
          width="24"
        />
      </div>
      <div>
        <div
          className="mx_RoomStatusBar_unsentTitle"
        >
          History import detected.
        </div>
        <div
          className="mx_RoomStatusBar_unsentDescription"
        >
          History was just imported somewhere in the room. In order to see the historical messages, refresh your timeline.
        </div>
      </div>
      <div
        className="mx_RoomStatusBar_unsentButtonBar"
      >
        <AccessibleButton
          className="mx_RoomStatusBar_refreshTimelineBtn"
          data-test-id="refresh-timeline-button"
          element="div"
          onClick={[Function]}
          role="button"
          tabIndex={0}
        >
          <div
            className="mx_AccessibleButton mx_RoomStatusBar_refreshTimelineBtn"
            data-test-id="refresh-timeline-button"
            onClick={[Function]}
            onKeyDown={[Function]}
            onKeyUp={[Function]}
            role="button"
            tabIndex={0}
          >
            Refresh timeline
          </div>
        </AccessibleButton>
      </div>
    </div>
  </div>
</RoomStatusBar>
`;

parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"zdbk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LZString=void 0;var o=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",n={};function t(o,r){if(!n[o]){n[o]={};for(var e=0;e<o.length;e++)n[o][o.charAt(e)]=e}return n[o][r]}var s={compressToBase64:function(o){if(null==o)return"";var e=s._compress(o,6,function(o){return r.charAt(o)});switch(e.length%4){default:case 0:return e;case 1:return e+"===";case 2:return e+"==";case 3:return e+"="}},decompressFromBase64:function(o){return null==o?"":""==o?null:s._decompress(o.length,32,function(e){return t(r,o.charAt(e))})},compressToUTF16:function(r){return null==r?"":s._compress(r,15,function(r){return o(r+32)})+" "},decompressFromUTF16:function(o){return null==o?"":""==o?null:s._decompress(o.length,16384,function(r){return o.charCodeAt(r)-32})},compressToUint8Array:function(o){for(var r=s.compress(o),e=new Uint8Array(2*r.length),n=0,t=r.length;n<t;n++){var i=r.charCodeAt(n);e[2*n]=i>>>8,e[2*n+1]=i%256}return e},decompressFromUint8Array:function(r){if(null==r)return s.decompress(r);for(var e=new Array(r.length/2),n=0,t=e.length;n<t;n++)e[n]=256*r[2*n]+r[2*n+1];var i=[];return e.forEach(function(r){i.push(o(r))}),s.decompress(i.join(""))},compressToEncodedURIComponent:function(o){return null==o?"":s._compress(o,6,function(o){return e.charAt(o)})},decompressFromEncodedURIComponent:function(o){return null==o?"":""==o?null:(o=o.replace(/ /g,"+"),s._decompress(o.length,32,function(r){return t(e,o.charAt(r))}))},compress:function(r){return s._compress(r,16,function(r){return o(r)})},_compress:function(o,r,e){if(null==o)return"";var n,t,s,i={},p={},c="",a="",u="",l=2,f=3,h=2,d=[],m=0,v=0;for(s=0;s<o.length;s+=1)if(c=o.charAt(s),Object.prototype.hasOwnProperty.call(i,c)||(i[c]=f++,p[c]=!0),a=u+c,Object.prototype.hasOwnProperty.call(i,a))u=a;else{if(Object.prototype.hasOwnProperty.call(p,u)){if(u.charCodeAt(0)<256){for(n=0;n<h;n++)m<<=1,v==r-1?(v=0,d.push(e(m)),m=0):v++;for(t=u.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t>>=1}else{for(t=1,n=0;n<h;n++)m=m<<1|t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t=0;for(t=u.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[u]}else for(t=i[u],n=0;n<h;n++)m=m<<1|1&t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++),i[a]=f++,u=String(c)}if(""!==u){if(Object.prototype.hasOwnProperty.call(p,u)){if(u.charCodeAt(0)<256){for(n=0;n<h;n++)m<<=1,v==r-1?(v=0,d.push(e(m)),m=0):v++;for(t=u.charCodeAt(0),n=0;n<8;n++)m=m<<1|1&t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t>>=1}else{for(t=1,n=0;n<h;n++)m=m<<1|t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t=0;for(t=u.charCodeAt(0),n=0;n<16;n++)m=m<<1|1&t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t>>=1}0==--l&&(l=Math.pow(2,h),h++),delete p[u]}else for(t=i[u],n=0;n<h;n++)m=m<<1|1&t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(t=2,n=0;n<h;n++)m=m<<1|1&t,v==r-1?(v=0,d.push(e(m)),m=0):v++,t>>=1;for(;;){if(m<<=1,v==r-1){d.push(e(m));break}v++}return d.join("")},decompress:function(o){return null==o?"":""==o?null:s._decompress(o.length,32768,function(r){return o.charCodeAt(r)})},_decompress:function(r,e,n){var t,s,i,p,c,a,u,l=[],f=4,h=4,d=3,m="",v=[],w={val:n(0),position:e,index:1};for(t=0;t<3;t+=1)l[t]=t;for(i=0,c=Math.pow(2,2),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=e,w.val=n(w.index++)),i|=(p>0?1:0)*a,a<<=1;switch(i){case 0:for(i=0,c=Math.pow(2,8),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=e,w.val=n(w.index++)),i|=(p>0?1:0)*a,a<<=1;u=o(i);break;case 1:for(i=0,c=Math.pow(2,16),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=e,w.val=n(w.index++)),i|=(p>0?1:0)*a,a<<=1;u=o(i);break;case 2:return""}for(l[3]=u,s=u,v.push(u);;){if(w.index>r)return"";for(i=0,c=Math.pow(2,d),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=e,w.val=n(w.index++)),i|=(p>0?1:0)*a,a<<=1;switch(u=i){case 0:for(i=0,c=Math.pow(2,8),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=e,w.val=n(w.index++)),i|=(p>0?1:0)*a,a<<=1;l[h++]=o(i),u=h-1,f--;break;case 1:for(i=0,c=Math.pow(2,16),a=1;a!=c;)p=w.val&w.position,w.position>>=1,0==w.position&&(w.position=e,w.val=n(w.index++)),i|=(p>0?1:0)*a,a<<=1;l[h++]=o(i),u=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[u])m=l[u];else{if(u!==h)return null;m=s+s.charAt(0)}v.push(m),l[h++]=s+m.charAt(0),s=m,0==--f&&(f=Math.pow(2,d),d++)}}};exports.LZString=s;
},{}],"EHrm":[function(require,module,exports) {
module.exports={name:"posthog-js",version:"1.12.2",description:"Posthog-js allows you to automatically capture usage and send events to PostHog.",repository:"https://github.com/PostHog/posthog-js",author:"hey@posthog.com",license:"MIT",scripts:{start:"parcel watch src/loader-globals.js --out-file dist/array.js",serve:"parcel serve src/loader-globals.js --port 3001 --out-file dist/array.js",build:"yarn build-array && yarn build-module && yarn build-es-module && yarn process-types && yarn build-react","build-array":"parcel build src/loader-globals.js --out-file dist/array.js --no-source-maps","build-module":"rollup -i src/loader-module.js -f cjs -o dist/module.js -c rollup.config.js","build-es-module":"rollup -i src/loader-module.js -f es -o dist/es.js -c rollup.config.js","build-react":"cd react; yarn; yarn build;","process-types":"mkdir -p dist; eslint src --ext .ts -c .eslintrc.ts.js --fix && tsc && cp -f src/*.d.ts dist/",lint:"eslint src --fix",prepublishOnly:"yarn lint && yarn test && yarn build && yarn test-react",test:"jest src","test-react":"cd react; yarn test","test-watch":"jest --watch src",cypress:"cypress open"},main:"dist/module.js",module:"dist/es.js",files:["dist/*","react/dist/*"],devDependencies:{"@babel/core":"7.12.10","@babel/preset-env":"7.12.11","@rollup/plugin-babel":"^5.2.1","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^8.1.0","@sentry/types":"^6.2.2","@typescript-eslint/eslint-plugin":"^3.5.0","@typescript-eslint/parser":"^3.5.0","babel-eslint":"10.1.0","babel-jest":"^26.6.3",cypress:"^6.1.0",eslint:"7.3.1","eslint-plugin-prettier":"^3.1.4","eslint-plugin-react":"^7.21.5","eslint-plugin-react-hooks":"^4.2.0",given2:"^2.1.7",husky:"^4.2.5",jest:"^26.1.0",jsdom:"16.2.2","jsdom-global":"3.0.2","lint-staged":"^10.2.11",localStorage:"1.0.4","node-fetch":"^2.6.1",parcel:"^1.12.4","posthog-js":"link:.",prettier:"^2.0.5",rollup:"^2.18.2",rrweb:"^0.9.9",sinon:"9.0.2",testcafe:"^1.10.1","testcafe-browser-provider-browserstack":"^1.13.2-alpha.1",typescript:"^3.9.6"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,tsx,js,json}":"prettier --write","*.{ts,tsx}":["eslint -c .eslintrc.ts.js --fix","tsc --noEmit --esModuleInterop --jsx react"]},jest:{testPathIgnorePatterns:["/node_modules/","/cypress/","/react/"],moduleFileExtensions:["js","json"],setupFilesAfterEnv:["given2/setup"],clearMocks:!0},dependencies:{fflate:"^0.4.1"}};
},{}],"itQ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../package.json"),r={DEBUG:!1,LIB_VERSION:e.version},t=r;exports.default=t;
},{"../package.json":"EHrm"}],"FOZT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.COPY_IN_PROGRESS_ATTRIBUTE=exports.document=exports.console=exports.userAgent=exports._=exports.window=void 0;var e=n(require("./config"));function n(e){return e&&e.__esModule?e:{default:e}}var r=Array.prototype,o=Function.prototype,t=Object.prototype,i=r.slice,c=t.toString,a=t.hasOwnProperty,s="undefined"!=typeof window?window:{},u=s.navigator||{userAgent:""},d=s.document||{},l=u.userAgent;exports.userAgent=l,exports.document=d,exports.window=s;var f=o.bind,p=r.forEach,h=r.indexOf,w=Array.isArray,g={},v={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}};exports._=v;var b={log:function(){if(e.default.DEBUG&&!v.isUndefined(window.console)&&window.console)try{window.console.log.apply(window.console,arguments)}catch(n){v.each(arguments,function(e){window.console.log(e)})}},error:function(){if(e.default.DEBUG&&!v.isUndefined(window.console)&&window.console){var n=["PostHog error:"].concat(Array.prototype.slice.call(arguments));try{window.console.error.apply(window.console,n)}catch(r){v.each(n,function(e){window.console.error(e)})}}},critical:function(){if(!v.isUndefined(window.console)&&window.console){var e=["PostHog error:"].concat(Array.prototype.slice.call(arguments));try{window.console.error.apply(window.console,e)}catch(n){v.each(e,function(e){window.console.error(e)})}}}};exports.console=b,v.bind=function(e,n){var r,o;if(f&&e.bind===f)return f.apply(e,i.call(arguments,1));if(!v.isFunction(e))throw new TypeError;return r=i.call(arguments,2),o=function(){if(!(this instanceof o))return e.apply(n,r.concat(i.call(arguments)));var t={};t.prototype=e.prototype;var c=new t;t.prototype=null;var a=e.apply(c,r.concat(i.call(arguments)));return Object(a)===a?a:c}},v.bind_instance_methods=function(e){for(var n in e)"function"==typeof e[n]&&(e[n]=v.bind(e[n],e))},v.each=function(e,n,r){if(null!=e)if(p&&e.forEach===p)e.forEach(n,r);else if(e.length===+e.length){for(var o=0,t=e.length;o<t;o++)if(o in e&&n.call(r,e[o],o,e)===g)return}else for(var i in e)if(a.call(e,i)&&n.call(r,e[i],i,e)===g)return},v.extend=function(e){return v.each(i.call(arguments,1),function(n){for(var r in n)void 0!==n[r]&&(e[r]=n[r])}),e},v.isArray=w||function(e){return"[object Array]"===c.call(e)},v.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch(n){return!1}},v.include=function(e,n){var r=!1;return null===e?r:h&&e.indexOf===h?-1!=e.indexOf(n):(v.each(e,function(e){if(r||(r=e===n))return g}),r)},v.includes=function(e,n){return-1!==e.indexOf(n)},v.isObject=function(e){return e===Object(e)&&!v.isArray(e)},v.isEmptyObject=function(e){if(v.isObject(e)){for(var n in e)if(a.call(e,n))return!1;return!0}return!1},v.isUndefined=function(e){return void 0===e},v.isString=function(e){return"[object String]"==c.call(e)},v.isDate=function(e){return"[object Date]"==c.call(e)},v.isNumber=function(e){return"[object Number]"==c.call(e)},v.encodeDates=function(e){return v.each(e,function(n,r){v.isDate(n)?e[r]=v.formatDate(n):v.isObject(n)&&(e[r]=v.encodeDates(n))}),e},v.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},v.formatDate=function(e){function n(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())},v.safewrap=function(n){return function(){try{return n.apply(this,arguments)}catch(r){b.critical("Implementation error. Please turn on debug and contact support@posthog.com."),e.default.DEBUG&&b.critical(r)}}},v.safewrap_class=function(e,n){for(var r=0;r<n.length;r++)e.prototype[n[r]]=v.safewrap(e.prototype[n[r]])},v.safewrap_instance_methods=function(e){for(var n in e)"function"==typeof e[n]&&(e[n]=v.safewrap(e[n]))},v.strip_empty_properties=function(e){var n={};return v.each(e,function(e,r){v.isString(e)&&e.length>0&&(n[r]=e)}),n};var y="undefined"!=typeof Symbol?Symbol("__deepCircularCopyInProgress__"):"__deepCircularCopyInProgress__";function m(e,n){return e!==Object(e)?n?n(e):e:e[y]?void 0:(e[y]=!0,v.isArray(e)?(r=[],v.each(e,function(e){r.push(m(e,n))})):(r={},v.each(e,function(e,o){o!==y&&(r[o]=m(e,n))})),delete e[y],r);var r}exports.COPY_IN_PROGRESS_ATTRIBUTE=y,v.copyAndTruncateStrings=function(e,n){return m(e,function(e){return"string"==typeof e&&null!==n&&(e=e.slice(0,n)),e},{})},v.base64Encode=function(e){var n,r,o,t,i,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,s=0,u="",d=[];if(!e)return e;e=v.utf8Encode(e);do{n=(i=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,r=i>>12&63,o=i>>6&63,t=63&i,d[s++]=c.charAt(n)+c.charAt(r)+c.charAt(o)+c.charAt(t)}while(a<e.length);switch(u=d.join(""),e.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u},v.utf8Encode=function(e){var n,r,o,t,i="";for(n=r=0,o=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,t=0;t<o;t++){var c=e.charCodeAt(t),a=null;c<128?r++:a=c>127&&c<2048?String.fromCharCode(c>>6|192,63&c|128):String.fromCharCode(c>>12|224,c>>6&63|128,63&c|128),null!==a&&(r>n&&(i+=e.substring(n,r)),i+=a,n=r=t+1)}return r>n&&(i+=e.substring(n,e.length)),i},v.UUID=function(){var e=function(){for(var e=1*new Date,n=0;e==1*new Date;)n++;return e.toString(16)+n.toString(16)};return function(){var n=(window.screen.height*window.screen.width).toString(16);return e()+"-"+Math.random().toString(16).replace(".","")+"-"+function(){var e,n,r=l,o=[],t=0;function i(e,n){var r,t=0;for(r=0;r<n.length;r++)t|=o[r]<<8*r;return e^t}for(e=0;e<r.length;e++)n=r.charCodeAt(e),o.unshift(255&n),o.length>=4&&(t=i(t,o),o=[]);return o.length>0&&(t=i(t,o)),t.toString(16)}()+"-"+n+"-"+e()}}(),v.isBlockedUA=function(e){return!!/(google web preview|baiduspider|yandexbot|bingbot|googlebot|yahoo! slurp)/i.test(e)},v.HTTPBuildQuery=function(e,n){var r,o,t=[];return v.isUndefined(n)&&(n="&"),v.each(e,function(e,n){r=encodeURIComponent(e.toString()),o=encodeURIComponent(n),t[t.length]=o+"="+r}),t.join(n)},v.getQueryParam=function(e,n){n=n.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+n+"=([^&#]*)").exec(e);if(null===r||r&&"string"!=typeof r[1]&&r[1].length)return"";var o=r[1];try{o=decodeURIComponent(o)}catch(t){b.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")},v.getHashParam=function(e,n){var r=e.match(new RegExp(n+"=([^&]*)"));return r?r[1]:null},v.register_event=function(){function e(n){return n&&(n.preventDefault=e.preventDefault,n.stopPropagation=e.stopPropagation),n}return e.preventDefault=function(){this.returnValue=!1},e.stopPropagation=function(){this.cancelBubble=!0},function(n,r,o,t,i){if(n)if(n.addEventListener&&!t)n.addEventListener(r,o,!!i);else{var c="on"+r,a=n[c];n[c]=function(n,r,o){return function(t){if(t=t||e(window.event)){var i,c,a=!0;return v.isFunction(o)&&(i=o(t)),c=r.call(n,t),!1!==i&&!1!==c||(a=!1),a}}}(n,o,a)}else b.error("No valid element provided to register_event")}}(),v.info={campaignParams:function(){var e="utm_source utm_medium utm_campaign utm_content utm_term".split(" "),n="",r={};return v.each(e,function(e){(n=v.getQueryParam(d.URL,e)).length&&(r[e]=n)}),r},searchEngine:function(e){return 0===e.search("https?://(.*)google.([^/?]*)")?"google":0===e.search("https?://(.*)bing.com")?"bing":0===e.search("https?://(.*)yahoo.com")?"yahoo":0===e.search("https?://(.*)duckduckgo.com")?"duckduckgo":null},searchInfo:function(e){var n=v.info.searchEngine(e),r="yahoo"!=n?"q":"p",o={};if(null!==n){o.$search_engine=n;var t=v.getQueryParam(e,r);t.length&&(o.ph_keyword=t)}return o},browser:function(e,n,r){return n=n||"",r||v.includes(e," OPR/")?v.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":v.includes(e,"IEMobile")||v.includes(e,"WPDesktop")?"Internet Explorer Mobile":v.includes(e,"SamsungBrowser/")?"Samsung Internet":v.includes(e,"Edge")||v.includes(e,"Edg/")?"Microsoft Edge":v.includes(e,"FBIOS")?"Facebook Mobile":v.includes(e,"Chrome")?"Chrome":v.includes(e,"CriOS")?"Chrome iOS":v.includes(e,"UCWEB")||v.includes(e,"UCBrowser")?"UC Browser":v.includes(e,"FxiOS")?"Firefox iOS":v.includes(n,"Apple")?v.includes(e,"Mobile")?"Mobile Safari":"Safari":v.includes(e,"Android")?"Android Mobile":v.includes(e,"Konqueror")?"Konqueror":v.includes(e,"Firefox")?"Firefox":v.includes(e,"MSIE")||v.includes(e,"Trident/")?"Internet Explorer":v.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,n,r){var o={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/}[v.info.browser(e,n,r)];if(void 0===o)return null;var t=e.match(o);return t?parseFloat(t[t.length-2]):null},os:function(){var e=l;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)&&!/Mobile/.test(e)?"Android Tablet":/Android/.test(e)?"Android":""},deviceType:function(e){var n=this.device(e);return"iPad"===n||"Android Tablet"===n?"Tablet":n?"Mobile":"Desktop"},referringDomain:function(e){var n=e.split("/");return n.length>=3?n[2]:""},properties:function(){return v.extend(v.strip_empty_properties({$os:v.info.os(),$browser:v.info.browser(l,u.vendor,window.opera),$device:v.info.device(l),$device_type:v.info.deviceType(l)}),{$current_url:window.location.href,$host:window.location.host,$pathname:window.location.pathname,$browser_version:v.info.browserVersion(l,u.vendor,window.opera),$screen_height:window.screen.height,$screen_width:window.screen.width,$viewport_height:window.innerHeight,$viewport_width:window.innerWidth,$lib:"web",$lib_version:e.default.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:v.timestamp()/1e3})},people_properties:function(){return v.extend(v.strip_empty_properties({$os:v.info.os(),$browser:v.info.browser(l,u.vendor,window.opera)}),{$browser_version:v.info.browserVersion(l,u.vendor,window.opera)})}},v.isObject=v.isObject,v.isBlockedUA=v.isBlockedUA,v.isEmptyObject=v.isEmptyObject,v.info=v.info,v.info.device=v.info.device,v.info.browser=v.info.browser,v.info.browserVersion=v.info.browserVersion,v.info.properties=v.info.properties;
},{"./config":"itQ5"}],"RYfg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getClassName=r,exports.getSafeText=n,exports.isElementNode=o,exports.isTag=s,exports.isTextNode=i,exports.shouldCaptureDomEvent=c,exports.shouldCaptureElement=u,exports.isSensitiveElement=p,exports.shouldCaptureValue=l,exports.loadScript=d,exports.usefulElements=void 0;var e=require("./utils");function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e){switch(t(e.className)){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}}function n(t){var r="";return u(t)&&!p(t)&&t.childNodes&&t.childNodes.length&&e._.each(t.childNodes,function(t){i(t)&&t.textContent&&(r+=e._.trim(t.textContent).split(/(\s+)/).filter(l).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),e._.trim(r)}function o(e){return e&&1===e.nodeType}function s(e,t){return e&&e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function i(e){return e&&3===e.nodeType}var a=["a","button","form","input","select","textarea","label"];function c(e,t){if(!e||s(e,"html")||!o(e))return!1;for(var r=!1,n=[e],i=!0,c=e;c.parentNode&&!s(c,"body");)if(11!==c.parentNode.nodeType){if(!(i=c.parentNode))break;if(a.indexOf(i.tagName.toLowerCase())>-1)r=!0;else{var u=window.getComputedStyle(i);u&&"pointer"===u.getPropertyValue("cursor")&&(r=!0)}n.push(i),c=i}else n.push(c.parentNode.host),c=c.parentNode.host;var p=window.getComputedStyle(e);if(p&&"pointer"===p.getPropertyValue("cursor")&&"click"===t.type)return!0;var l=e.tagName.toLowerCase();switch(l){case"html":return!1;case"form":return"submit"===t.type;case"input":return"change"===t.type||"click"===t.type;case"select":case"textarea":return"change"===t.type||"click"===t.type;default:return r?"click"===t.type:"click"===t.type&&(a.indexOf(l)>-1||"true"===e.getAttribute("contenteditable"))}}function u(t){for(var n=t;n.parentNode&&!s(n,"body");n=n.parentNode){var o=r(n).split(" ");if(e._.includes(o,"ph-sensitive")||e._.includes(o,"ph-no-capture"))return!1}if(e._.includes(r(t).split(" "),"ph-include"))return!0;var i=t.type||"";if("string"==typeof i)switch(i.toLowerCase()){case"hidden":case"password":return!1}var a=t.name||t.id||"";if("string"==typeof a){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(a.replace(/[^a-zA-Z0-9]/g,"")))return!1}return!0}function p(e){return!!(s(e,"input")&&"button"!=e.type||s(e,"select")||s(e,"textarea")||"true"===e.getAttribute("contenteditable"))}function l(t){if(null===t||e._.isUndefined(t))return!1;if("string"==typeof t){t=e._.trim(t);if(/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[- ]/g,"")))return!1;if(/(^\d{3}-?\d{2}-?\d{4}$)/.test(t))return!1}return!0}function d(e,t){var r=document.createElement("script");r.type="text/javascript",r.src=e,r.onload=t;var n=document.getElementsByTagName("script");n.length>0?n[0].parentNode.insertBefore(r,n[0]):document.body.appendChild(r)}exports.usefulElements=a;
},{"./utils":"FOZT"}],"Oszc":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=30,c=1e3,a=3,s=function(){function t(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.get_config("rageclick");e(this,t),this.clicks=[],this.instance=i,this.enabled=n}return i(t,[{key:"click",value:function(e,t,i){if(this.enabled){var s=this.clicks[this.clicks.length-1];s&&Math.abs(e-s.x)+Math.abs(t-s.y)<n&&i-s.timestamp<c?(this.clicks.push({x:e,y:t,timestamp:i}),this.clicks.length===a&&this.instance.capture("$rageclick")):this.clicks=[{x:e,y:t,timestamp:i}]}}}]),t}();exports.default=s;
},{}],"gR3r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.autocapture=void 0;var e=require("./utils"),t=require("./autocapture-utils"),n=r(require("./extensions/rageclick"));function r(e){return e&&e.__esModule?e:{default:e}}var i={_initializedTokens:[],_previousElementSibling:function(e){if(e.previousElementSibling)return e.previousElementSibling;do{e=e.previousSibling}while(e&&!(0,t.isElementNode)(e));return e},_getPropertiesFromElement:function(n,r,i){var o=n.tagName.toLowerCase(),a={tag_name:o};t.usefulElements.indexOf(o)>-1&&!i&&(a.$el_text=(0,t.getSafeText)(n));var s=(0,t.getClassName)(n);s.length>0&&(a.classes=s.split(" ").filter(function(e){return""!==e})),e._.each(n.attributes,function(e){(0,t.isSensitiveElement)(n)&&-1===["name","id","class"].indexOf(e.name)||!r&&(0,t.shouldCaptureValue)(e.value)&&(a["attr__"+e.name]=e.value)});for(var u=1,c=1,l=n;l=this._previousElementSibling(l);)u++,l.tagName===n.tagName&&c++;return a.nth_child=u,a.nth_of_type=c,a},_getDefaultProperties:function(e){return{$event_type:e,$ce_version:1}},_extractCustomPropertyValue:function(n){var r=[];return e._.each(document.querySelectorAll(n.css_selector),function(e){var n;["input","select"].indexOf(e.tagName.toLowerCase())>-1?n=e.value:e.textContent&&(n=e.textContent),(0,t.shouldCaptureValue)(n)&&r.push(n)}),r.join(", ")},_getCustomProperties:function(n){var r={};return e._.each(this._customProperties,function(i){e._.each(i.event_selectors,function(o){var a=document.querySelectorAll(o);e._.each(a,function(o){e._.includes(n,o)&&(0,t.shouldCaptureElement)(o)&&(r[i.name]=this._extractCustomPropertyValue(i))},this)},this)},this),r},_getEventTarget:function(e){return void 0===e.target?e.srcElement:e.target.shadowRoot?e.composedPath()[0]:e.target},_captureEvent:function(n,r){var i=this._getEventTarget(n);if((0,t.isTextNode)(i)&&(i=i.parentNode),"click"===n.type&&this.rageclicks.click(n.clientX,n.clientY,(new Date).getTime()),(0,t.shouldCaptureDomEvent)(i,n)){for(var o=[i],a=i;a.parentNode&&!(0,t.isTag)(a,"body");)11!==a.parentNode.nodeType?(o.push(a.parentNode),a=a.parentNode):(o.push(a.parentNode.host),a=a.parentNode.host);var s,u=[],c=!1;if(e._.each(o,function(n){var i=(0,t.shouldCaptureElement)(n);"a"===n.tagName.toLowerCase()&&(s=n.getAttribute("href"),s=i&&(0,t.shouldCaptureValue)(s)&&s);var o=(0,t.getClassName)(n).split(" ");e._.includes(o,"ph-no-capture")&&(c=!0),u.push(this._getPropertiesFromElement(n,r.get_config("mask_all_element_attributes"),r.get_config("mask_all_text")))},this),r.get_config("mask_all_text")||(u[0].$el_text=(0,t.getSafeText)(i)),s&&(u[0].attr__href=s),c)return!1;var l=e._.extend(this._getDefaultProperties(n.type),{$elements:u},this._getCustomProperties(o));return r.capture("$autocapture",l),!0}},_navigate:function(e){window.location.href=e},_addDomEventHandlers:function(t){var n=e._.bind(function(e){e=e||window.event,this._captureEvent(e,t)},this);e._.register_event(document,"submit",n,!1,!0),e._.register_event(document,"change",n,!1,!0),e._.register_event(document,"click",n,!1,!0)},_customProperties:{},init:function(e){e.toolbar.maybeLoadEditor(),this.rageclicks=new n.default(e)},afterDecideResponse:function(e,t){var n=t.get_config("token");this._initializedTokens.indexOf(n)>-1?console.log('autocapture already initialized for token "'+n+'"'):(this._initializedTokens.push(n),e&&e.config&&!0===e.config.enable_collect_everything&&t.get_config("autocapture")?(e.custom_properties&&(this._customProperties=e.custom_properties),this._addDomEventHandlers(t)):t.__autocapture_enabled=!1)},enabledForProject:function(t,n,r){n=e._.isUndefined(n)?10:n,r=e._.isUndefined(r)?10:r;for(var i=0,o=0;o<t.length;o++)i+=t.charCodeAt(o);return i%n<r},isBrowserSupported:function(){return e._.isFunction(document.querySelectorAll)}};exports.autocapture=i,e._.bind_instance_methods(i),e._.safewrap_instance_methods(i);
},{"./utils":"FOZT","./autocapture-utils":"RYfg","./extensions/rageclick":"Oszc"}],"KZ7Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.memoryStore=exports.localStore=exports.cookieStore=void 0;var r=require("./utils"),e=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,t={get:function(r){try{for(var e=r+"=",t=document.cookie.split(";"),o=0;o<t.length;o++){for(var n=t[o];" "==n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return decodeURIComponent(n.substring(e.length,n.length))}}catch(c){}return null},parse:function(r){var e;try{e=JSON.parse(t.get(r))||{}}catch(o){}return e},set:function(r,t,o,n,c){try{var a="",u="",i="";if(n){var l=document.location.hostname.match(e),s=l?l[0]:"";a=s?"; domain=."+s:""}if(o){var p=new Date;p.setTime(p.getTime()+24*o*60*60*1e3),u="; expires="+p.toGMTString()}c&&(i="; secure");var m=r+"="+encodeURIComponent(t)+u+"; path=/"+a+i;return document.cookie=m,m}catch(f){return}},remove:function(r,e){try{t.set(r,"",-1,e)}catch(o){return}}};exports.cookieStore=t;var o=null,n={is_supported:function(){if(null!==o)return o;var e=!0;try{var t="__mplssupport__";n.set(t,"xyz"),"xyz"!==n.get(t)&&(e=!1),n.remove(t)}catch(c){e=!1}return e||r.console.error("localStorage unsupported; falling back to cookie store"),o=e,e},error:function(e){r.console.error("localStorage error: "+e)},get:function(r){try{return window.localStorage.getItem(r)}catch(e){n.error(e)}return null},parse:function(r){try{return JSON.parse(n.get(r))||{}}catch(e){}return null},set:function(r,e){try{window.localStorage.setItem(r,e)}catch(t){n.error(t)}},remove:function(r){try{window.localStorage.removeItem(r)}catch(e){n.error(e)}}};exports.localStore=n;var c={},a={is_supported:function(){return!0},error:function(e){r.console.error("memoryStorage error: "+e)},parse:function(r){return c[r]||null},set:function(r,e){c[r]=e},remove:function(r){delete c[r]}};exports.memoryStore=a;
},{"./utils":"FOZT"}],"rxSh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.optIn=n,exports.optOut=r,exports.hasOptedIn=i,exports.hasOptedOut=c,exports.addOptOutCheckPostHogLib=u,exports.addOptOutCheckPostHogPeople=s,exports.clearOptInOut=p;var t=require("./utils"),e=require("./storage"),o="__ph_opt_in_out_";function n(t,e){d(!0,t,e)}function r(t,e){d(!1,t,e)}function i(t,e){return"1"===f(t,e)}function c(t,e){return!!_(e)||"0"===f(t,e)}function u(t,e){return h(t,function(t){return this.get_config(t)},e)}function s(t,e){return h(t,function(t){return this._get_config(t)},e)}function p(t,e){a(e=e||{}).remove(l(t,e),!!e.crossSubdomainCookie,e.cookieDomain)}function a(t){return"localStorage"===(t=t||{}).persistenceType?e.localStore:e.cookieStore}function l(t,e){return((e=e||{}).persistencePrefix||o)+t}function f(t,e){return a(e).get(l(t,e))}function _(e){if(e&&e.respectDnt){var o=e&&e.window||t.window,n=o.navigator||{},r=!1;return t._.each([n.doNotTrack,n.msDoNotTrack,o.doNotTrack],function(e){t._.includes([!0,1,"1","yes"],e)&&(r=!0)}),r}return!1}function d(e,o,n){t._.isString(o)&&o.length?(a(n=n||{}).set(l(o,n),e?1:0,t._.isNumber(n.cookieExpiration)?n.cookieExpiration:null,!!n.crossSubdomainCookie,!!n.secureCookie,!!n.crossSiteCookie,n.cookieDomain),n.capture&&e&&n.capture(n.captureEventName||"$opt_in",n.captureProperties,{send_immediately:!0})):console.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token")}function h(t,e,o){return function(){var n=!1;try{var r=e.call(this,"token"),i=e.call(this,"respect_dnt"),u=e.call(this,"opt_out_capturing_persistence_type"),s=e.call(this,"opt_out_capturing_cookie_prefix"),p=e.call(this,"window");r&&(n=c(r,{respectDnt:i,persistenceType:u,persistencePrefix:s,window:p}))}catch(l){o||console.error("Unexpected error when checking capturing opt-out status: "+l)}if(!n)return t.apply(this,arguments);var a=arguments[arguments.length-1];"function"==typeof a&&a(0)}}
},{"./utils":"FOZT","./storage":"KZ7Y"}],"os8r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.apiActions=exports.SET_ACTION=void 0;var e=require("./utils"),t="$set";exports.SET_ACTION=t;var r="$set_once",s={set_action:function(r,s){var i={},o={};return e._.isObject(r)?e._.each(r,function(e,t){this._is_reserved_property(t)||(o[t]=e)},this):o[r]=s,i[t]=o,i},set_once_action:function(t,s){var i={},o={};return e._.isObject(t)?e._.each(t,function(e,t){this._is_reserved_property(t)||(o[t]=e)},this):o[t]=s,i[r]=o,i}};exports.apiActions=s;
},{"./utils":"FOZT"}],"ecEG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostHogPeople=void 0;var t=require("./gdpr-utils"),e=require("./api-actions"),o=require("./utils"),i=function(){};exports.PostHogPeople=i,o._.extend(i.prototype,e.apiActions),i.prototype._init=function(t){this._posthog=t},i.prototype.set=(0,t.addOptOutCheckPostHogPeople)(function(t,i,r){var s=this.set_action(t,i);return o._.isObject(t)&&(r=i),this._get_config("save_referrer")&&this._posthog.persistence.update_referrer_info(document.referrer),s[e.SET_ACTION]=o._.extend({},o._.info.people_properties(),this._posthog.persistence.get_referrer_info(),s[e.SET_ACTION]),this._send_request(s,r)}),i.prototype.set_once=(0,t.addOptOutCheckPostHogPeople)(function(t,e,i){var r=this.set_once_action(t,e);return o._.isObject(t)&&(i=e),this._send_request(r,i)}),i.prototype.toString=function(){return this._posthog.toString()+".people"},i.prototype._send_request=function(t,e){t.$token=this._get_config("token"),t.$distinct_id=this._posthog.get_distinct_id();var i=this._posthog.get_property("$device_id"),r=this._posthog.get_property("$user_id"),s=this._posthog.get_property("$had_persisted_distinct_id");i&&(t.$device_id=i),r&&(t.$user_id=r),s&&(t.$had_persisted_distinct_id=s);var _=o._.encodeDates(t),p=o._.copyAndTruncateStrings(_,this._get_config("properties_string_max_length")),n=JSON.stringify(_),d=o._.base64Encode(n);return this._posthog._send_request(this._get_config("api_host")+"/engage/",{data:d},{},this._posthog._prepare_callback(e,p)),p},i.prototype._get_config=function(t){return this._posthog.get_config(t)},i.prototype._is_reserved_property=function(t){return"$distinct_id"===t||"$token"===t||"$device_id"===t||"$user_id"===t||"$had_persisted_distinct_id"===t},i.prototype.set=i.prototype.set,i.prototype.set_once=i.prototype.set_once,i.prototype.toString=i.prototype.toString;
},{"./gdpr-utils":"rxSh","./api-actions":"os8r","./utils":"FOZT"}],"aVqC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PostHogFeatureFlags=void 0;var e=require("./utils");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var i=function(){function r(e){t(this,r),this.instance=e,this._override_warning=!1,this.flagCallReported={}}return n(r,[{key:"getFlags",value:function(){return this.instance.get_property("$override_feature_flags")?(this._override_warning||console.warn("[PostHog] Overriding feature flags! Feature flags from server were: "+JSON.stringify(this.instance.get_property("$active_feature_flags"))),this._override_warning=!0,this.instance.get_property("$override_feature_flags")):this.instance.get_property("$active_feature_flags")}},{key:"reloadFeatureFlags",value:function(){var t=this,r=this.instance.get_config("token"),n=JSON.stringify({token:r,distinct_id:this.instance.get_distinct_id()}),i=e._.base64Encode(n);this.instance._send_request(this.instance.get_config("api_host")+"/decide/",{data:i},{method:"POST"},this.instance._prepare_callback(function(e){e.featureFlags?t.instance.persistence&&t.instance.persistence.register({$active_feature_flags:e.featureFlags}):t.instance.persistence&&t.instance.persistence.unregister("$active_feature_flags")}))}},{key:"isFeatureEnabled",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.getFlags())return console.warn('isFeatureEnabled for key "'+e+"\" failed. Feature flags didn't load in time."),!1;var r=this.getFlags().indexOf(e)>-1;return!t.send_event&&"send_event"in t||this.flagCallReported[e]||(this.flagCallReported[e]=!0,this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:r})),r}},{key:"override",value:function(e){if(!1===e)return this.instance.persistence.unregister("$override_feature_flags");this.instance.persistence.register("$override_feature_flags",e)}}]),r}();exports.PostHogFeatureFlags=i;
},{"./utils":"FOZT"}],"MAdm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SESSION_ID=exports.SESSION_RECORDING_ENABLED=exports.EVENT_TIMERS_KEY=exports.CAMPAIGN_IDS_KEY=exports.ALIAS_ID_KEY=exports.PEOPLE_DISTINCT_ID_KEY=exports.SET_ONCE_QUEUE_KEY=exports.SET_QUEUE_KEY=exports.PostHogPersistence=void 0;var e=require("./utils"),t=require("./storage"),r="__mps";exports.SET_QUEUE_KEY=r;var s="__mpso";exports.SET_ONCE_QUEUE_KEY=s;var i="__mpus",o="__mpa",a="__mpap",p="__mpr",n="__mpu",_="$people_distinct_id";exports.PEOPLE_DISTINCT_ID_KEY=_;var c="__alias";exports.ALIAS_ID_KEY=c;var h="__cmpns";exports.CAMPAIGN_IDS_KEY=h;var u="__timers";exports.EVENT_TIMERS_KEY=u;var d="$session_recording_enabled";exports.SESSION_RECORDING_ENABLED=d;var f="$sesid";exports.SESSION_ID=f;var l=[r,s,i,o,a,p,n,_,c,h,u,d,f],m=function(r){var s="";r.token&&(s=r.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.featureFlagEventHandlers=[],r.persistence_name?this.name="ph_"+r.persistence_name:this.name="ph_"+s+"_posthog";var i=r.persistence;"cookie"!==i&&"localStorage"!==i&&"memory"!==i&&(e.console.critical("Unknown persistence type "+i+"; falling back to cookie"),i=r.persistence="cookie"),"localStorage"===i&&t.localStore.is_supported()?this.storage=t.localStore:this.storage="memory"===i?t.memoryStore:t.cookieStore,this.load(),this.update_config(r),this.save()};exports.PostHogPersistence=m,m.prototype.addFeatureFlagsHandler=function(e){return this.featureFlagEventHandlers.push(e),!0},m.prototype.receivedFeatureFlags=function(e){this.featureFlagEventHandlers.forEach(function(t){return t(e)})},m.prototype.properties=function(){var t={};return e._.each(this.props,function(r,s){e._.include(l,s)||(t[s]=r)}),t},m.prototype.load=function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=e._.extend({},t))}},m.prototype.save=function(){this.disabled||this.storage.set(this.name,JSON.stringify(this.props),this.expire_days,this.cross_subdomain,this.secure)},m.prototype.remove=function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)},m.prototype.clear=function(){this.remove(),this.props={}},m.prototype.register_once=function(t,r,s){return!!e._.isObject(t)&&(void 0===r&&(r="None"),this.expire_days=void 0===s?this.default_expiry:s,t&&t.$active_feature_flags&&this.receivedFeatureFlags(t.$active_feature_flags),e._.each(t,function(e,t){this.props.hasOwnProperty(t)&&this.props[t]!==r||(this.props[t]=e)},this),this.save(),!0)},m.prototype.register=function(t,r){return!!e._.isObject(t)&&(this.expire_days=void 0===r?this.default_expiry:r,t&&t.$active_feature_flags&&this.receivedFeatureFlags(t.$active_feature_flags),e._.extend(this.props,t),this.save(),!0)},m.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save(),"$active_feature_flags"===e&&this.receivedFeatureFlags([]))},m.prototype.update_campaign_params=function(){this.campaign_params_saved||(this.register_once(e._.info.campaignParams()),this.campaign_params_saved=!0)},m.prototype.update_search_keyword=function(t){this.register(e._.info.searchInfo(t))},m.prototype.update_referrer_info=function(t){this.register_once({$initial_referrer:t||"$direct",$initial_referring_domain:e._.info.referringDomain(t)||"$direct"},""),this.register({$referrer:t||this.props.$referrer||"$direct",$referring_domain:e._.info.referringDomain(t)||this.props.$referring_domain||"$direct"})},m.prototype.get_referrer_info=function(){return e._.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},m.prototype.safe_merge=function(t){return e._.each(this.props,function(e,r){r in t||(t[r]=e)}),t},m.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)},m.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()},m.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())},m.prototype.get_cross_subdomain=function(){return this.cross_subdomain},m.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())},m.prototype.set_event_timer=function(e,t){var r=this.props[u]||{};r[e]=t,this.props[u]=r,this.save()},m.prototype.remove_event_timer=function(t){var r=(this.props[u]||{})[t];return e._.isUndefined(r)||(delete this.props[u][t],this.save()),r};
},{"./utils":"FOZT","./storage":"KZ7Y"}],"vjIe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=require("../posthog-persistence"),e=require("../utils");function t(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function n(r,e){return l(r)||u(r,e)||i(r,e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(r,e){if(r){if("string"==typeof r)return a(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(r,e):void 0}}function a(r,e){(null==e||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function u(r,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(r)){var t=[],n=!0,o=!1,i=void 0;try{for(var a,u=r[Symbol.iterator]();!(n=(a=u.next()).done)&&(t.push(a.value),!e||t.length!==e);n=!0);}catch(l){o=!0,i=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw i}}return t}}function l(r){if(Array.isArray(r))return r}var c=18e5,f=function(o,i){var a=n(o.props[r.SESSION_ID]||[0,null],2),u=a[0],l=a[1];return Math.abs(i-u)>c&&(l=e._.UUID()),o.register(t({},r.SESSION_ID,[i,l])),l};exports.default=f;
},{"../posthog-persistence":"MAdm","../utils":"FOZT"}],"Z2N4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionRecording=void 0;var t=require("../autocapture-utils"),e=require("../utils"),r=require("../posthog-persistence"),n=s(require("./sessionid")),i=s(require("../config"));function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?o(Object(r),!0).forEach(function(e){h(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function c(t,e){return f(t)||d(t,e)||p(t,e)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(t,e){if(t){if("string"==typeof t)return l(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(t,e):void 0}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function d(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(c){i=!0,s=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}}function f(t){if(Array.isArray(t))return t}function h(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function y(t,e,r){return e&&g(t.prototype,e),r&&g(t,r),t}var _="/e/",v=function(){function s(t){b(this,s),this.instance=t,this.captureStarted=!1,this.snapshots=[],this.emit=!1,this.endpoint=_,this.stopRrweb=null}return y(s,[{key:"startRecordingIfEnabled",value:function(){this.instance.get_property(r.SESSION_RECORDING_ENABLED)&&!this.instance.get_config("disable_session_recording")&&this._startCapture()}},{key:"started",value:function(){return this.captureStarted}},{key:"stopRecording",value:function(){this.captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=null,this.captureStarted=!1)}},{key:"afterDecideResponse",value:function(t){var e=!this.instance.get_config("disable_session_recording")&&!!t.sessionRecording;this.instance.persistence&&this.instance.persistence.register(h({},r.SESSION_RECORDING_ENABLED,e)),e&&(t.sessionRecording.endpoint&&(this.endpoint=t.sessionRecording.endpoint),this.submitRecordings())}},{key:"submitRecordings",value:function(){var t=this;this.emit=!0,this._startCapture(),this.snapshots.forEach(function(e){return t._captureSnapshot(e)})}},{key:"_startCapture",value:function(){void 0!==Object.assign&&(this.captureStarted||this.instance.get_config("disable_session_recording")||(this.captureStarted=!0,(0,t.loadScript)(this.instance.get_config("api_host")+"/static/recorder.js?v="+i.default.LIB_VERSION,e._.bind(this._onScriptLoaded,this))))}},{key:"_onScriptLoaded",value:function(){for(var t=this,e={blockClass:"ph-no-capture",blockSelector:null,ignoreClass:"ph-ignore-input",maskAllInputs:!1,maskInputOptions:{},maskInputFn:null,slimDOMOptions:{},collectFonts:!1},r=this.instance.get_config("session_recording"),i=0,s=Object.entries(r||{});i<s.length;i++){var o=c(s[i],2),u=o[0],p=o[1];u in e&&(e[u]=p)}this.stopRrweb=window.rrweb.record(a({emit:function(e){var r={$snapshot_data:e,$session_id:(0,n.default)(t.instance.persistence,e.timestamp)};t.instance._captureMetrics.incr("rrweb-record"),t.instance._captureMetrics.incr("rrweb-record-".concat(e.type)),t.emit?t._captureSnapshot(r):t.snapshots.push(r)}},e)),this.instance._addCaptureHook(function(t){"$pageview"===t&&window.rrweb.record.addCustomEvent("$pageview",{href:window.location.href})})}},{key:"_captureSnapshot",value:function(t){this.instance.capture("$snapshot",t,{transport:"XHR",method:"POST",endpoint:this.endpoint,_forceCompression:!0,_noTruncate:!0,_batchKey:"sessionRecording",_metrics:{rrweb_full_snapshot:2===t.$snapshot_data.type}})}}]),s}();exports.SessionRecording=v;
},{"../autocapture-utils":"RYfg","../utils":"FOZT","../posthog-persistence":"MAdm","./sessionid":"vjIe","../config":"itQ5"}],"auG7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Decide=void 0;var e=require("./autocapture"),t=require("./utils");function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,s=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw s}}}}function r(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=function(){function r(e){o(this,r),this.instance=e}return a(r,[{key:"call",value:function(){var e=this,n=JSON.stringify({token:this.instance.get_config("token"),distinct_id:this.instance.get_distinct_id()}),r=t._.base64Encode(n);this.instance._send_request(this.instance.get_config("api_host")+"/decide/",{data:r},{method:"POST"},function(t){return e.parseDecideResponse(t)})}},{key:"parseDecideResponse",value:function(t){var r=this;if(!document||!document.body)return console.log("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){r.parseDecideResponse(t)},500);if(this.instance.toolbar.afterDecideResponse(t),this.instance.sessionRecording.afterDecideResponse(t),e.autocapture.afterDecideResponse(t,this.instance),t.featureFlags?this.instance.persistence&&this.instance.persistence.register({$active_feature_flags:t.featureFlags}):this.instance.persistence&&this.instance.persistence.unregister("$active_feature_flags"),t.supportedCompression){var i,o={},s=n(t.supportedCompression);try{for(s.s();!(i=s.n()).done;){o[i.value]=!0}}catch(a){s.e(a)}finally{s.f()}this.instance.compression=o}else this.instance.compression={}}}]),r}();exports.Decide=c;
},{"./autocapture":"gR3r","./utils":"FOZT"}],"ZEpJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Toolbar=void 0;var e=require("../autocapture-utils"),t=require("../utils");function o(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,r)}return o}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function n(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,o){return t&&a(e.prototype,t),o&&a(e,o),e}var c=function(){function o(e){i(this,o),this.instance=e}return s(o,[{key:"afterDecideResponse",value:function(e){var t=e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&t.toolbarVersion&&0===t.toolbarVersion.indexOf("toolbar")&&(this._loadEditor(r(r({},t),{},{apiURL:this.instance.get_config("api_host")})),this.instance.set_config({debug:!0}))}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.localStorage,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.history;try{var n,i=t._.getHashParam(e.hash,"__posthog")||t._.getHashParam(e.hash,"state"),a=i?JSON.parse(decodeURIComponent(i)):null;return a&&("mpeditor"===a.action||"ph_authorize"===a.action)?(n=a)&&Object.keys(n).length>0&&(o.setItem("_postHogEditorParams",JSON.stringify(n)),a.desiredHash?e.hash=a.desiredHash:r?r.replaceState("",document.title,e.pathname+e.search):e.hash=""):delete(n=JSON.parse(o.getItem("_postHogEditorParams")||"{}")).userIntent,n.apiURL=this.instance.get_config("api_host"),!(!n.token||this.instance.get_config("token")!==n.token)&&(this._loadEditor(n),!0)}catch(s){return!1}}},{key:"_loadEditor",value:function(o){var r=this;if(!window._postHogToolbarLoaded){window._postHogToolbarLoaded=!0;var n=o.jsURL||o.apiURL||this.instance.get_config("api_host"),i=n+(n.endsWith("/")?"":"/")+"static/toolbar.js?_ts="+(new Date).getTime();return(0,e.loadScript)(i,function(){window.ph_load_editor(o)}),t._.register_event(window,"turbolinks:load",function(){window._postHogToolbarLoaded=!1,r._loadEditor(o)}),!0}return!1}}]),o}();exports.Toolbar=c;
},{"../autocapture-utils":"RYfg","../utils":"FOZT"}],"ae0g":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var u=t[n];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function n(e,n,u){return n&&t(e.prototype,n),u&&t(e,u),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestQueueScaffold=void 0;var u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e(this,t),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=function(){},this._pollInterval=n}return n(t,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"enqueue",value:function(){}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return(new Date).getTime()}}]),t}();exports.RequestQueueScaffold=u;
},{}],"Je4H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RequestQueue=void 0;var e=require("./base-request-queue"),t=require("./utils");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=b();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return p(this,r)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(r){l(u,e.RequestQueueScaffold);var n=f(u);function u(e,t){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;return i(this,u),(r=n.call(this,o)).handlePollRequest=t,r.captureMetrics=e,r}return a(u,[{key:"enqueue",value:function(e,t,r){this.captureMetrics.incr("batch-enqueue"),this._event_queue.push({url:e,data:t,options:r}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var e=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(e._event_queue.length>0){var r=e.formatQueue(),n=function(n){var o=r[n],u=o.url,i=o.data,c=o.options;t._.each(i,function(t,r){i[r].offset=Math.abs(i[r].timestamp-e.getTime()),delete i[r].timestamp}),e.handlePollRequest(u,i,c),e.captureMetrics.incr("batch-requests"),e.captureMetrics.incr("batch-requests-".concat(u.slice(u.length-2))),e.captureMetrics.incr("batch-handle",i.length),e.captureMetrics.incr("batch-handle-".concat(u.slice(u.length-2)),i.length)};for(var o in r)n(o);e._event_queue.length=0,e._empty_queue_count=0}else e._empty_queue_count++;e._empty_queue_count>4&&(e.isPolling=!1,e._empty_queue_count=0),e.isPolling&&e.poll()},this._pollInterval)}},{key:"updateUnloadMetrics",value:function(){var e=this.formatQueue();for(var t in e){var r=e[t],n=r.url,o=r.data;this.captureMetrics.incr("batch-unload-requests"),this.captureMetrics.incr("batch-unload-requests-".concat(n.slice(n.length-2))),this.captureMetrics.incr("batch-unload",o.length),this.captureMetrics.incr("batch-unload-".concat(n.slice(n.length-2)),o.length)}}},{key:"unload",value:function(){clearTimeout(this._poller);var e=this._event_queue.length>0?this.formatQueue():{};for(var t in this._event_queue.length=0,e){var r=e[t],n=r.url,u=r.data,i=r.options;this.handlePollRequest(n,u,o(o({},i),{},{transport:"sendbeacon"}))}}},{key:"formatQueue",value:function(){var e={};return t._.each(this._event_queue,function(t){var r=t.url,n=t.data,o=t.options,u=(o?o._batchKey:null)||r;void 0===e[u]&&(e[u]={data:[],url:r,options:o}),o&&e[u].options&&e[u].options._metrics&&!e[u].options._metrics.rrweb_full_snapshot&&(e[u].options._metrics.rrweb_full_snapshot=o._metrics.rrweb_full_snapshot),e[u].data.push(n)}),e}}]),u}();exports.RequestQueue=_;
},{"./base-request-queue":"ae0g","./utils":"FOZT"}],"TeHW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CaptureMetrics=void 0;var e=require("./utils");function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){return c(e)||s(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){i=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(i)throw o}}return r}}function c(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}var b=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return(new Date).getTime()};l(this,t),this.enabled=e,this.capture=r,this.getTime=n,this.metrics={},this.requests={}}return h(t,[{key:"incr",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.enabled&&(e="phjs-".concat(e),this.metrics[e]=(this.metrics[e]||0)+t)}},{key:"decr",value:function(e){this.enabled&&(e="phjs-".concat(e),this.metrics[e]=(this.metrics[e]||0)-1)}},{key:"startRequest",value:function(t){if(this.enabled){var r=e._.UUID();return this.requests[r]=[this.getTime(),t],r}}},{key:"finishRequest",value:function(e){if(this.enabled&&this.requests[e]){var t=i(this.requests[e],2),r=t[0],n=t[1];return n.duration=this.getTime()-r,delete this.requests[e],n}}},{key:"markRequestFailed",value:function(e){this.enabled&&this.capture("$capture_failed_request",e)}},{key:"captureInProgressRequests",value:function(){var e=this;this.enabled&&Object.keys(this.requests).forEach(function(t){var n=e.finishRequest(t);e.markRequestFailed(r(r({},n),{},{type:"inflight_at_unload"}))})}}]),t}();exports.CaptureMetrics=b;
},{"./utils":"FOZT"}],"UJm1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.deflate=xt,exports.deflateSync=bt,exports.inflate=Mt,exports.inflateSync=kt,exports.compress=exports.gzip=Dt,exports.compressSync=exports.gzipSync=Ot,exports.gunzip=It,exports.gunzipSync=Zt,exports.zlib=Tt,exports.zlibSync=jt,exports.unzlib=_t,exports.unzlibSync=Bt,exports.decompress=Wt,exports.decompressSync=Yt,exports.strToU8=Jt,exports.strFromU8=Kt,exports.zip=tn,exports.zipSync=nn,exports.unzip=rn,exports.unzipSync=en,exports.AsyncDecompress=exports.Decompress=exports.AsyncUnzlib=exports.Unzlib=exports.AsyncZlib=exports.Zlib=exports.AsyncGunzip=exports.Gunzip=exports.AsyncCompress=exports.AsyncGzip=exports.Compress=exports.Gzip=exports.AsyncInflate=exports.Inflate=exports.AsyncDeflate=exports.Deflate=void 0;var t={},n=function(n,r,e,i,o){var a=t[r]||(t[r]=URL.createObjectURL(new Blob([n],{type:"text/javascript"}))),f=new Worker(a);return f.onerror=function(t){return o(t.error,null)},f.onmessage=function(t){return o(null,t.data)},f.postMessage(e,i),f},r=Uint8Array,e=Uint16Array,i=Uint32Array,o=new r([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new r([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),f=new r([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,n){for(var r=new e(31),o=0;o<31;++o)r[o]=n+=1<<t[o-1];var a=new i(r[30]);for(o=1;o<30;++o)for(var f=r[o];f<r[o+1];++f)a[f]=f-r[o]<<5|o;return[r,a]},u=s(o,2),l=u[0],c=u[1];l[28]=258,c[258]=28;for(var h=s(a,0),p=h[0],v=h[1],d=new e(32768),g=0;g<32768;++g){var w=(43690&g)>>>1|(21845&g)<<1;w=(61680&(w=(52428&w)>>>2|(13107&w)<<2))>>>4|(3855&w)<<4,d[g]=((65280&w)>>>8|(255&w)<<8)>>>1}var y=function(t,n,r){for(var i=t.length,o=0,a=new e(n);o<i;++o)++a[t[o]-1];var f,s=new e(n);for(o=0;o<n;++o)s[o]=s[o-1]+a[o-1]<<1;if(r){f=new e(1<<n);var u=15-n;for(o=0;o<i;++o)if(t[o])for(var l=o<<4|t[o],c=n-t[o],h=s[t[o]-1]++<<c,p=h|(1<<c)-1;h<=p;++h)f[d[h]>>>u]=l}else for(f=new e(i),o=0;o<i;++o)f[o]=d[s[t[o]-1]++]>>>15-t[o];return f},m=new r(288);for(g=0;g<144;++g)m[g]=8;for(g=144;g<256;++g)m[g]=9;for(g=256;g<280;++g)m[g]=7;for(g=280;g<288;++g)m[g]=8;var x=new r(32);for(g=0;g<32;++g)x[g]=5;var b=y(m,9,0),z=y(m,9,1),A=y(x,5,0),M=y(x,5,1),k=function(t){for(var n=t[0],r=1;r<t.length;++r)t[r]>n&&(n=t[r]);return n},S=function(t,n,r){var e=n/8>>0;return(t[e]|t[e+1]<<8)>>>(7&n)&r},C=function(t,n){var r=n/8>>0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>>(7&n)},D=function(t){return(t/8>>0)+(7&t&&1)},O=function(t,n,o){(null==n||n<0)&&(n=0),(null==o||o>t.length)&&(o=t.length);var a=new(t instanceof e?e:t instanceof i?i:r)(o-n);return a.set(t.subarray(n,o)),a},G=function(t,n,e){var i=t.length,s=!n||e,u=!e||e.i;e||(e={}),n||(n=new r(3*i));var c=function(t){var e=n.length;if(t>e){var i=new r(Math.max(2*e,t));i.set(n),n=i}},h=e.f||0,v=e.p||0,d=e.b||0,g=e.l,w=e.d,m=e.m,x=e.n,b=8*i;do{if(!g){e.f=h=S(t,v,1);var A=S(t,v+1,3);if(v+=3,!A){var G=t[(B=D(v)+4)-4]|t[B-3]<<8,U=B+G;if(U>i){if(u)throw"unexpected EOF";break}s&&c(d+G),n.set(t.subarray(B,U),d),e.b=d+=G,e.p=v=8*U;continue}if(1==A)g=z,w=M,m=9,x=5;else{if(2!=A)throw"invalid block type";var I=S(t,v,31)+257,Z=S(t,v+10,15)+4,E=I+S(t,v+5,31)+1;v+=14;for(var F=new r(E),T=new r(19),j=0;j<Z;++j)T[f[j]]=S(t,v+3*j,7);v+=3*Z;var L=k(T),R=(1<<L)-1;if(!u&&v+E*(L+7)>b)break;var _=y(T,L,1);for(j=0;j<E;){var B,H=_[S(t,v,R)];if(v+=15&H,(B=H>>>4)<16)F[j++]=B;else{var P=0,W=0;for(16==B?(W=3+S(t,v,3),v+=2,P=F[j-1]):17==B?(W=3+S(t,v,7),v+=3):18==B&&(W=11+S(t,v,127),v+=7);W--;)F[j++]=P}}var Y=F.subarray(0,I),q=F.subarray(I);m=k(Y),x=k(q),g=y(Y,m,1),w=y(q,x,1)}if(v>b)throw"unexpected EOF"}s&&c(d+131072);for(var J=(1<<m)-1,K=(1<<x)-1,N=m+x+18;u||v+N<b;){var Q=(P=g[C(t,v)&J])>>>4;if((v+=15&P)>b)throw"unexpected EOF";if(!P)throw"invalid length/literal";if(Q<256)n[d++]=Q;else{if(256==Q){g=null;break}var V=Q-254;if(Q>264){var X=o[j=Q-257];V=S(t,v,(1<<X)-1)+l[j],v+=X}var $=w[C(t,v)&K],tt=$>>>4;if(!$)throw"invalid distance";v+=15&$;q=p[tt];if(tt>3){X=a[tt];q+=C(t,v)&(1<<X)-1,v+=X}if(v>b)throw"unexpected EOF";s&&c(d+131072);for(var nt=d+V;d<nt;d+=4)n[d]=n[d-q],n[d+1]=n[d+1-q],n[d+2]=n[d+2-q],n[d+3]=n[d+3-q];d=nt}}e.l=g,e.p=v,e.b=d,g&&(h=1,e.m=m,e.d=w,e.n=x)}while(!h);return d==n.length?n:O(n,0,d)},U=function(t,n,r){r<<=7&n;var e=n/8>>0;t[e]|=r,t[e+1]|=r>>>8},I=function(t,n,r){r<<=7&n;var e=n/8>>0;t[e]|=r,t[e+1]|=r>>>8,t[e+2]|=r>>>16},Z=function(t,n){for(var i=[],o=0;o<t.length;++o)t[o]&&i.push({s:o,f:t[o]});var a=i.length,f=i.slice();if(!a)return[new r(0),0];if(1==a){var s=new r(i[0].s+1);return s[i[0].s]=1,[s,1]}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var u=i[0],l=i[1],c=0,h=1,p=2;for(i[0]={s:-1,f:u.f+l.f,l:u,r:l};h!=a-1;)u=i[i[c].f<i[p].f?c++:p++],l=i[c!=h&&i[c].f<i[p].f?c++:p++],i[h++]={s:-1,f:u.f+l.f,l:u,r:l};var v=f[0].s;for(o=1;o<a;++o)f[o].s>v&&(v=f[o].s);var d=new e(v+1),g=E(i[h-1],d,0);if(g>n){o=0;var w=0,y=g-n,m=1<<y;for(f.sort(function(t,n){return d[n.s]-d[t.s]||t.f-n.f});o<a;++o){var x=f[o].s;if(!(d[x]>n))break;w+=m-(1<<g-d[x]),d[x]=n}for(w>>>=y;w>0;){var b=f[o].s;d[b]<n?w-=1<<n-d[b]++-1:++o}for(;o>=0&&w;--o){var z=f[o].s;d[z]==n&&(--d[z],++w)}g=n}return[new r(d),g]},E=function(t,n,r){return-1==t.s?Math.max(E(t.l,n,r+1),E(t.r,n,r+1)):n[t.s]=r},F=function(t){for(var n=t.length;n&&!t[--n];);for(var r=new e(++n),i=0,o=t[0],a=1,f=function(t){r[i++]=t},s=1;s<=n;++s)if(t[s]==o&&s!=n)++a;else{if(!o&&a>2){for(;a>138;a-=138)f(32754);a>2&&(f(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(f(o),--a;a>6;a-=6)f(8304);a>2&&(f(a-3<<5|8208),a=0)}for(;a--;)f(o);a=1,o=t[s]}return[r.subarray(0,i),n]},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},j=function(t,n,r){var e=r.length,i=D(n+2);t[i]=255&e,t[i+1]=e>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<e;++o)t[i+o+4]=r[o];return 8*(i+4+e)},L=function(t,n,r,i,s,u,l,c,h,p,v){U(n,v++,r),++s[256];for(var d=Z(s,15),g=d[0],w=d[1],z=Z(u,15),M=z[0],k=z[1],S=F(g),C=S[0],D=S[1],O=F(M),G=O[0],E=O[1],L=new e(19),R=0;R<C.length;++R)L[31&C[R]]++;for(R=0;R<G.length;++R)L[31&G[R]]++;for(var _=Z(L,7),B=_[0],H=_[1],P=19;P>4&&!B[f[P-1]];--P);var W,Y,q,J,K=p+5<<3,N=T(s,m)+T(u,x)+l,Q=T(s,g)+T(u,M)+l+14+3*P+T(L,B)+(2*L[16]+3*L[17]+7*L[18]);if(K<=N&&K<=Q)return j(n,v,t.subarray(h,h+p));if(U(n,v,1+(Q<N)),v+=2,Q<N){W=y(g,w,0),Y=g,q=y(M,k,0),J=M;var V=y(B,H,0);U(n,v,D-257),U(n,v+5,E-1),U(n,v+10,P-4),v+=14;for(R=0;R<P;++R)U(n,v+3*R,B[f[R]]);v+=3*P;for(var X=[C,G],$=0;$<2;++$){var tt=X[$];for(R=0;R<tt.length;++R){var nt=31&tt[R];U(n,v,V[nt]),v+=B[nt],nt>15&&(U(n,v,tt[R]>>>5&127),v+=tt[R]>>>12)}}}else W=b,Y=m,q=A,J=x;for(R=0;R<c;++R)if(i[R]>255){nt=i[R]>>>18&31;I(n,v,W[nt+257]),v+=Y[nt+257],nt>7&&(U(n,v,i[R]>>>23&31),v+=o[nt]);var rt=31&i[R];I(n,v,q[rt]),v+=J[rt],rt>3&&(I(n,v,i[R]>>>5&8191),v+=a[rt])}else I(n,v,W[i[R]]),v+=Y[i[R]];return I(n,v,W[256]),v+Y[256]},R=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_=new r(0),B=function(t,n,f,s,u,l){var h=t.length,p=new r(s+h+5*(1+Math.floor(h/7e3))+u),d=p.subarray(s,p.length-u),g=0;if(!n||h<8)for(var w=0;w<=h;w+=65535){var y=w+65535;y<h?g=j(d,g,t.subarray(w,y)):(d[w]=l,g=j(d,g,t.subarray(w,h)))}else{for(var m=R[n-1],x=m>>>13,b=8191&m,z=(1<<f)-1,A=new e(32768),M=new e(z+1),k=Math.ceil(f/3),S=2*k,C=function(n){return(t[n]^t[n+1]<<k^t[n+2]<<S)&z},G=new i(25e3),U=new e(288),I=new e(32),Z=0,E=0,F=(w=0,0),T=0,B=0;w<h;++w){var H=C(w),P=32767&w,W=M[H];if(A[P]=W,M[H]=P,T<=w){var Y=h-w;if((Z>7e3||F>24576)&&Y>423){g=L(t,d,0,G,U,I,E,F,B,w-B,g),F=Z=E=0,B=w;for(var q=0;q<286;++q)U[q]=0;for(q=0;q<30;++q)I[q]=0}var J=2,K=0,N=b,Q=P-W&32767;if(Y>2&&H==C(w-Q))for(var V=Math.min(x,Y)-1,X=Math.min(32767,w),$=Math.min(258,Y);Q<=X&&--N&&P!=W;){if(t[w+J]==t[w+J-Q]){for(var tt=0;tt<$&&t[w+tt]==t[w+tt-Q];++tt);if(tt>J){if(J=tt,K=Q,tt>V)break;var nt=Math.min(Q,tt-2),rt=0;for(q=0;q<nt;++q){var et=w-Q+q+32768&32767,it=et-A[et]+32768&32767;it>rt&&(rt=it,W=et)}}}Q+=(P=W)-(W=A[P])+32768&32767}if(K){G[F++]=268435456|c[J]<<18|v[K];var ot=31&c[J],at=31&v[K];E+=o[ot]+a[at],++U[257+ot],++I[at],T=w+J,++Z}else G[F++]=t[w],++U[t[w]]}}g=L(t,d,l,G,U,I,E,F,B,w-B,g),l||(g=j(d,g,_))}return O(p,0,s+D(g)+u)},H=function(){for(var t=new i(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&3988292384)^r>>>1;t[n]=r}return t}(),P=function(){var t=4294967295;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=H[255&r^n[e]]^r>>>8;t=r},d:function(){return 4294967295^t}}},W=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,o=r.length,a=0;a!=o;){for(var f=Math.min(a+5552,o);a<f;++a)i+=e+=r[a];e%=65521,i%=65521}t=e,n=i},d:function(){return(t>>>8<<16|(255&n)<<8|n>>>8)+2*((255&t)<<23)}}},Y=function(t,n,r,e,i){return B(t,null==n.level?6:n.level,null==n.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+n.mem,r,e,!i)},q=function(t,n){var r={};for(var e in t)r[e]=t[e];for(var e in n)r[e]=n[e];return r},J=function(t,n,r){for(var e=t(),i=t.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/ /g,"").split(","),a=0;a<e.length;++a){var f=e[a],s=o[a];if("function"==typeof f){n+=";"+s+"=";var u=f.toString();if(f.prototype)if(-1!=u.indexOf("[native code]")){var l=u.indexOf(" ",8)+1;n+=u.slice(l,u.indexOf("(",l))}else for(var c in n+=u,f.prototype)n+=";"+s+".prototype."+c+"="+f.prototype[c].toString();else n+=u}else r[s]=f}return[n,r]},K=[],N=function(t){var n=[];for(var o in t)(t[o]instanceof r||t[o]instanceof e||t[o]instanceof i)&&n.push((t[o]=new t[o].constructor(t[o])).buffer);return n},Q=function(t,r,e,i){var o;if(!K[e]){for(var a="",f={},s=t.length-1,u=0;u<s;++u)a=(o=J(t[u],a,f))[0],f=o[1];K[e]=J(t[s],a,f)}var l=q({},K[e][1]);return n(K[e][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+r.toString()+"}",e,l,N(l),i)},V=function(){return[r,e,i,o,a,f,l,p,z,M,d,y,k,S,C,D,O,G,kt,et,it]},X=function(){return[r,e,i,o,a,f,c,v,b,m,A,x,d,R,_,y,U,I,Z,E,F,T,j,L,D,O,B,Y,bt,et]},$=function(){return[ct,vt,lt,P,H]},tt=function(){return[ht,pt]},nt=function(){return[dt,lt,W]},rt=function(){return[gt]},et=function(t){return postMessage(t,[t.buffer])},it=function(t){return t&&t.size&&new r(t.size)},ot=function(t,n,e,i,o,a){var f=Q(e,i,o,function(t,n){f.terminate(),a(t,n)});return n.consume||(t=new r(t)),f.postMessage([t,n],[t.buffer]),function(){f.terminate()}},at=function(t){return t.ondata=function(t,n){return postMessage([t,n],[t.buffer])},function(n){return t.push(n.data[0],n.data[1])}},ft=function(t,n,r,e,i){var o,a=Q(t,e,i,function(t,r){t?(a.terminate(),n.ondata.call(n,t)):(r[1]&&a.terminate(),n.ondata.call(n,t,r[0],r[1]))});a.postMessage(r),n.push=function(t,r){if(o)throw"stream finished";if(!n.ondata)throw"no stream handler";a.postMessage([t,o=r],[t.buffer])},n.terminate=function(){a.terminate()}},st=function(t,n){return t[n]|t[n+1]<<8},ut=function(t,n){return(t[n]|t[n+1]<<8|t[n+2]<<16)+2*(t[n+3]<<23)},lt=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},ct=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&lt(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},ht=function(t){if(31!=t[0]||139!=t[1]||8!=t[2])throw"invalid gzip data";var n=t[3],r=10;4&n&&(r+=t[10]|2+(t[11]<<8));for(var e=(n>>3&1)+(n>>4&1);e>0;e-=!t[r++]);return r+(2&n)},pt=function(t){var n=t.length;return(t[n-4]|t[n-3]<<8|t[n-2]<<16)+2*(t[n-1]<<23)},vt=function(t){return 10+(t.filename&&t.filename.length+1||0)},dt=function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;t[0]=120,t[1]=e<<6|(e?32-2*e:1)},gt=function(t){if(8!=(15&t[0])||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(32&t[1])throw"invalid zlib data: preset dictionaries not supported"};function wt(t,n){return n||"function"!=typeof t||(n=t,t={}),this.ondata=n,t}var yt=function(){function t(t,n){n||"function"!=typeof t||(n=t,t={}),this.ondata=n,this.o=t||{}}return t.prototype.p=function(t,n){this.ondata(Y(t,this.o,0,0,!n),n)},t.prototype.push=function(t,n){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=n,this.p(t,n||!1)},t}();exports.Deflate=yt;var mt=function(){return function(t,n){ft([X,function(){return[at,yt]}],this,wt.call(this,t,n),function(t){var n=new yt(t.data);onmessage=at(n)},6)}}();function xt(t,n,r){if(r||(r=n,n={}),"function"!=typeof r)throw"no callback";return ot(t,n,[X],function(t){return et(bt(t.data[0],t.data[1]))},0,r)}function bt(t,n){return void 0===n&&(n={}),Y(t,n,0,0)}exports.AsyncDeflate=mt;var zt=function(){function t(t){this.s={},this.p=new r(0),this.ondata=t}return t.prototype.e=function(t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var n=this.p.length,e=new r(n+t.length);e.set(this.p),e.set(t,n),this.p=e},t.prototype.c=function(t){this.d=this.s.i=t||!1;var n=this.s.b,r=G(this.p,this.o,this.s);this.ondata(O(r,n,this.s.b),this.d),this.o=O(r,this.s.b-32768),this.s.b=this.o.length,this.p=O(this.p,this.s.p/8>>0),this.s.p&=7},t.prototype.push=function(t,n){this.e(t),this.c(n)},t}();exports.Inflate=zt;var At=function(){return function(t){this.ondata=t,ft([V,function(){return[at,zt]}],this,0,function(){var t=new zt;onmessage=at(t)},7)}}();function Mt(t,n,r){if(r||(r=n,n={}),"function"!=typeof r)throw"no callback";return ot(t,n,[V],function(t){return et(kt(t.data[0],it(t.data[1])))},1,r)}function kt(t,n){return G(t,n)}exports.AsyncInflate=At;var St=function(){function t(t,n){this.c=P(),this.l=0,this.v=1,yt.call(this,t,n)}return t.prototype.push=function(t,n){yt.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){this.c.p(t),this.l+=t.length;var r=Y(t,this.o,this.v&&vt(this.o),n&&8,!n);this.v&&(ct(r,this.o),this.v=0),n&&(lt(r,r.length-8,this.c.d()),lt(r,r.length-4,this.l)),this.ondata(r,n)},t}();exports.Compress=exports.Gzip=St;var Ct=function(){return function(t,n){ft([X,$,function(){return[at,yt,St]}],this,wt.call(this,t,n),function(t){var n=new St(t.data);onmessage=at(n)},8)}}();function Dt(t,n,r){if(r||(r=n,n={}),"function"!=typeof r)throw"no callback";return ot(t,n,[X,$,function(){return[Ot]}],function(t){return et(Ot(t.data[0],t.data[1]))},2,r)}function Ot(t,n){void 0===n&&(n={});var r=P(),e=t.length;r.p(t);var i=Y(t,n,vt(n),8),o=i.length;return ct(i,n),lt(i,o-8,r.d()),lt(i,o-4,e),i}exports.AsyncCompress=exports.AsyncGzip=Ct;var Gt=function(){function t(t){this.v=1,zt.call(this,t)}return t.prototype.push=function(t,n){if(zt.prototype.e.call(this,t),this.v){var r=ht(this.p);if(r>=this.p.length&&!n)return;this.p=this.p.subarray(r),this.v=0}if(n){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}zt.prototype.c.call(this,n)},t}();exports.Gunzip=Gt;var Ut=function(){return function(t){this.ondata=t,ft([V,tt,function(){return[at,zt,Gt]}],this,0,function(){var t=new Gt;onmessage=at(t)},9)}}();function It(t,n,r){if(r||(r=n,n={}),"function"!=typeof r)throw"no callback";return ot(t,n,[V,tt,function(){return[Zt]}],function(t){return et(Zt(t.data[0]))},3,r)}function Zt(t,n){return G(t.subarray(ht(t),-8),n||new r(pt(t)))}exports.AsyncGunzip=Ut;var Et=function(){function t(t,n){this.c=W(),this.v=1,yt.call(this,t,n)}return t.prototype.push=function(t,n){yt.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){this.c.p(t);var r=Y(t,this.o,this.v&&2,n&&4,!n);this.v&&(dt(r,this.o),this.v=0),n&&lt(r,r.length-4,this.c.d()),this.ondata(r,n)},t}();exports.Zlib=Et;var Ft=function(){return function(t,n){ft([X,nt,function(){return[at,yt,Et]}],this,wt.call(this,t,n),function(t){var n=new Et(t.data);onmessage=at(n)},10)}}();function Tt(t,n,r){if(r||(r=n,n={}),"function"!=typeof r)throw"no callback";return ot(t,n,[X,nt,function(){return[jt]}],function(t){return et(jt(t.data[0],t.data[1]))},4,r)}function jt(t,n){void 0===n&&(n={});var r=W();r.p(t);var e=Y(t,n,2,4);return dt(e,n),lt(e,e.length-4,r.d()),e}exports.AsyncZlib=Ft;var Lt=function(){function t(t){this.v=1,zt.call(this,t)}return t.prototype.push=function(t,n){if(zt.prototype.e.call(this,t),this.v){if(this.p.length<2&&!n)return;this.p=this.p.subarray(2),this.v=0}if(n){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}zt.prototype.c.call(this,n)},t}();exports.Unzlib=Lt;var Rt=function(){return function(t){this.ondata=t,ft([V,rt,function(){return[at,zt,Lt]}],this,0,function(){var t=new Lt;onmessage=at(t)},11)}}();function _t(t,n,r){if(r||(r=n,n={}),"function"!=typeof r)throw"no callback";return ot(t,n,[V,rt,function(){return[Bt]}],function(t){return et(Bt(t.data[0],it(t.data[1])))},5,r)}function Bt(t,n){return G((gt(t),t.subarray(2,-4)),n)}exports.AsyncUnzlib=Rt;var Ht=function(){function t(t){this.G=Gt,this.I=zt,this.Z=Lt,this.ondata=t}return t.prototype.push=function(t,n){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(t,n);else{if(this.p&&this.p.length){var e=new r(this.p.length+t.length);e.set(this.p),e.set(t,this.p.length)}else this.p=t;if(this.p.length>2){var i=this,o=function(){i.ondata.apply(i,arguments)};this.s=31==this.p[0]&&139==this.p[1]&&8==this.p[2]?new this.G(o):8!=(15&this.p[0])||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(o):new this.Z(o),this.s.push(this.p,n),this.p=null}}},t}();exports.Decompress=Ht;var Pt=function(){function t(t){this.G=Ut,this.I=At,this.Z=Rt,this.ondata=t}return t.prototype.push=function(t,n){Ht.prototype.push.call(this,t,n)},t}();function Wt(t,n,r){if(r||(r=n,n={}),"function"!=typeof r)throw"no callback";return 31==t[0]&&139==t[1]&&8==t[2]?It(t,n,r):8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31?Mt(t,n,r):_t(t,n,r)}function Yt(t,n){return 31==t[0]&&139==t[1]&&8==t[2]?Zt(t,n):8!=(15&t[0])||t[0]>>4>7||(t[0]<<8|t[1])%31?kt(t,n):Bt(t,n)}exports.AsyncDecompress=Pt;var qt=function(t,n,e,i){for(var o in t){var a=t[o],f=n+o;a instanceof r?e[f]=[a,i]:Array.isArray(a)?e[f]=[a[0],q(i,a[1])]:qt(a,f+"/",e,i)}};function Jt(t,n){var e=t.length;if(!n&&"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var i=new r(t.length+(t.length>>>1)),o=0,a=function(t){i[o++]=t},f=0;f<e;++f){if(o+5>i.length){var s=new r(o+8+(e-f<<1));s.set(i),i=s}var u=t.charCodeAt(f);u<128||n?a(u):u<2048?(a(192|u>>>6),a(128|63&u)):u>55295&&u<57344?(a(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++f))>>>18),a(128|u>>>12&63),a(128|u>>>6&63),a(128|63&u)):(a(224|u>>>12),a(128|u>>>6&63),a(128|63&u))}return O(i,0,o)}function Kt(t,n){var r="";if(!n&&"undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e=0;e<t.length;){var i=t[e++];i<128||n?r+=String.fromCharCode(i):i<224?r+=String.fromCharCode((31&i)<<6|63&t[e++]):i<240?r+=String.fromCharCode((15&i)<<12|(63&t[e++])<<6|63&t[e++]):(i=((15&i)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,r+=String.fromCharCode(55296|i>>10,56320|1023&i))}return r}var Nt=function(t,n){return n+30+st(t,n+26)+st(t,n+28)},Qt=function(t,n,r){var e=st(t,n+28),i=Kt(t.subarray(n+46,n+46+e),!(2048&st(t,n+8))),o=n+46+e,a=r?Vt(t,o):[ut(t,n+20),ut(t,n+24),ut(t,n+42)],f=a[0],s=a[1],u=a[2];return[st(t,n+10),f,s,i,o+st(t,n+30)+st(t,n+32),u]},Vt=function(t,n){for(;1!=st(t,n);n+=4+st(t,n+2));return[ut(t,n+12),ut(t,n+4),ut(t,n+20)]},Xt=function(t,n,r,e,i,o,a,f,s,u){var l=o.length,c=e.length;lt(t,n,null!=s?33639248:67324752),n+=4,null!=s&&(t[n]=20,n+=2),t[n]=20,n+=2,t[n++]=8==u&&(1==f.level?6:f.level<6?4:9==f.level?2:0),t[n++]=a&&8,t[n]=u,n+=2;var h=new Date(f.mtime||Date.now()),p=h.getFullYear()-1980;if(p<0||p>119)throw"date not in range 1980-2099";lt(t,n,2*(p<<24)|h.getMonth()+1<<21|h.getDate()<<16|h.getHours()<<11|h.getMinutes()<<5|h.getSeconds()>>>1),lt(t,n+=4,r),lt(t,n+4,c),lt(t,n+8,i),lt(t,n+12,l),n+=16,null!=s&&(lt(t,n+=10,s),n+=4),t.set(o,n),n+=l,null==s&&t.set(e,n)},$t=function(t,n,r,e,i){lt(t,n,101010256),lt(t,n+8,r),lt(t,n+10,r),lt(t,n+12,e),lt(t,n+16,i)};function tn(t,n,e){if(e||(e=n,n={}),"function"!=typeof e)throw"no callback";var i={};qt(t,"",i,n);var o=Object.keys(i),a=o.length,f=0,s=0,u=a,l=new Array(a),c=[],h=function(){for(var t=0;t<c.length;++t)c[t]()},p=function(){var t=new r(s+22),n=f,i=s-f;s=0;for(var o=0;o<u;++o){var a=l[o];try{Xt(t,s,a.c,a.d,a.m,a.n,a.u,a.p,null,a.t),Xt(t,f,a.c,a.d,a.m,a.n,a.u,a.p,s,a.t),f+=46+a.n.length,s+=30+a.n.length+a.d.length}catch(c){return e(c,null)}}$t(t,f,l.length,i,n),e(null,t)};a||p();for(var v=function(t){var n=o[t],r=i[n],u=r[0],v=r[1],d=P(),g=u.length;d.p(u);var w=Jt(n),y=w.length,m=0==v.level?0:8,x=function(r,i){if(r)h(),e(r,null);else{var o=i.length;l[t]={t:m,d:i,m:g,c:d.d(),u:n.length!=o,n:w,p:v},f+=30+y+o,s+=76+2*y+o,--a||p()}};if(w.length>65535&&x("filename too long",null),m)if(g<16e4)try{x(null,bt(u,v))}catch(b){x(b,null)}else c.push(xt(u,v,x));else x(null,u)},d=0;d<u;++d)v(d);return h}function nn(t,n){void 0===n&&(n={});var e={},i=[];qt(t,"",e,n);var o=0,a=0;for(var f in e){var s=e[f],u=s[0],l=s[1],c=0==l.level?0:8,h=Jt(f),p=h.length;if(h.length>65535)throw"filename too long";var v=c?bt(u,l):u,d=v.length,g=P();g.p(u),i.push({t:c,d:v,m:u.length,c:g.d(),u:f.length!=p,n:h,o:o,p:l}),o+=30+p+d,a+=76+2*p+d}for(var w=new r(a+22),y=o,m=a-o,x=0;x<i.length;++x){var b=i[x];Xt(w,b.o,b.c,b.d,b.m,b.n,b.u,b.p,null,b.t),Xt(w,o,b.c,b.d,b.m,b.n,b.u,b.p,b.o,b.t),o+=46+b.n.length}return $t(w,o,i.length,m,y),w}function rn(t,n){if("function"!=typeof n)throw"no callback";for(var e=[],i=function(){for(var t=0;t<e.length;++t)e[t]()},o={},a=t.length-22;101010256!=ut(t,a);--a)if(!a||t.length-a>65558)return void n("invalid zip file",null);var f=st(t,a+8);f||n(null,{});var s=f,u=ut(t,a+16),l=4294967295==u;if(l){if(a=ut(t,a-12),101075792!=ut(t,a))throw"invalid zip file";s=f=ut(t,a+32),u=ut(t,a+48)}for(var c=function(s){var c=Qt(t,u,l),h=c[0],p=c[1],v=c[2],d=c[3],g=c[4],w=c[5],y=Nt(t,w);u=g;var m=function(t,r){t?(i(),n(t,null)):(o[d]=r,--f||n(null,o))};if(h)if(8==h){var x=t.subarray(y,y+p);if(p<32e4)try{m(null,kt(x,new r(v)))}catch(a){m(a,null)}else e.push(Mt(x,{size:v},m))}else m("unknown compression type "+h,null);else m(null,O(t,y,y+p))},h=0;h<s;++h)c();return i}function en(t){for(var n={},e=t.length-22;101010256!=ut(t,e);--e)if(!e||t.length-e>65558)throw"invalid zip file";var i=st(t,e+8);if(!i)return{};var o=ut(t,e+16),a=4294967295==o;if(a){if(e=ut(t,e-12),101075792!=ut(t,e))throw"invalid zip file";i=ut(t,e+32),o=ut(t,e+48)}for(var f=0;f<i;++f){var s=Qt(t,o,a),u=s[0],l=s[1],c=s[2],h=s[3],p=s[4],v=s[5],d=Nt(t,v);if(o=p,u){if(8!=u)throw"unknown compression type "+u;n[h]=kt(t.subarray(d,d+l),new r(c))}else n[h]=O(t,d,d+l)}return n}
},{}],"Ie9M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.decideCompression=s,exports.compressData=c;var e=require("./lz-string"),r=require("fflate"),t=require("./utils");function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?n(Object(t),!0).forEach(function(r){i(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function i(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e){return e["gzip-js"]?"gzip-js":e.lz64?"lz64":"base64"}function c(n,i,s){return"lz64"===n?[{data:e.LZString.compressToBase64(i),compression:"lz64"},s]:"gzip-js"===n?[(0,r.gzipSync)((0,r.strToU8)(i),{mtime:0}),o(o({},s),{},{blob:!0,urlQueryArgs:{compression:"gzip-js"}})]:[{data:t._.base64Encode(i)},s]}
},{"./lz-string":"zdbk","fflate":"UJm1","./utils":"FOZT"}],"tOu2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.xhr=exports.encodePostData=void 0;var e=require("./utils");function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?t(Object(o),!0).forEach(function(t){n(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=function e(t,r){if(r.blob)return new Blob([t.buffer],{type:"text/plain"});if(r.sendBeacon){var n=e(t,{method:"POST"});return new Blob([n],{type:"application/x-www-form-urlencoded"})}return"POST"!==r.method?null:(o=Array.isArray(t)?"data="+encodeURIComponent(t):"data="+encodeURIComponent(t.data),t.compression&&(o+="&compression="+t.compression),o);var o};exports.encodePostData=o;var s=function(t){var n=t.url,s=t.data,a=t.headers,i=t.options,c=t.captureMetrics,u=t.callback,p=t.retriesPerformedSoFar,d=t.retryQueue,l=new XMLHttpRequest;l.open(i.method,n,!0);var f=o(s,i);c.incr("_send_request"),c.incr("_send_request_inflight");var b=c.startRequest(r({data_size:e._.isString(s)?s.length:f.length,endpoint:n.slice(n.length-2)},i._metrics));e._.each(a,function(e,t){l.setRequestHeader(t,e)}),"POST"!==i.method||i.blob||l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.withCredentials=!0,l.onreadystatechange=function(){if(4===l.readyState){c.incr("xhr-response"),c.incr("xhr-response-".concat(l.status)),c.decr("_send_request_inflight");var t=c.finishRequest(b);if(200===l.status){if(u){var o;try{o=JSON.parse(l.responseText)}catch(h){return void e.console.error(h)}u(o)}}else{var f="Bad HTTP status: "+l.status+" "+l.statusText;e.console.error(f),[401,403,404].indexOf(l.status)<0&&d.enqueue({url:n,data:s,options:i,headers:a,retriesPerformedSoFar:(p||0)+1,callback:u}),c.markRequestFailed(r(r({},t),{},{type:"non_200",status:l.status,statusText:l.statusText})),u&&(i.verbose?u({status:0,error:f}):u(0))}}},l.send(f)};exports.xhr=s;
},{"./utils":"FOZT"}],"ennf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RetryQueue=void 0;var e=require("./base-request-queue"),t=require("./send-request");function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){u(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=a(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,i=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,u=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw u}}}}function a(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t&&f(e.prototype,t),r&&f(e,r),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=d();return function(){var r,n=w(e);if(t){var o=w(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return b(this,r)}}function b(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(r){y(u,e.RequestQueueScaffold);var n=h(u);function u(e){var t;return l(this,u),(t=n.call(this)).captureMetrics=e,t.isPolling=!1,t.queue=[],t.areWeOnline=!0,"onLine"in window.navigator&&(t.areWeOnline=window.navigator.onLine,window.addEventListener("online",function(){t._handleWeAreNowOnline()}),window.addEventListener("offline",function(){t.areWeOnline=!1})),t}return s(u,[{key:"enqueue",value:function(e){var t=e.retriesPerformedSoFar||0;if(!(t>=10)){var r=3e3*Math.pow(2,t),n=new Date(Date.now()+r);console.warn("Enqueued failed request for retry in ".concat(r)),this.queue.push({retryAt:n,requestData:e}),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var e=this;clearTimeout(this._poller),this._poller=setTimeout(function(){e.areWeOnline&&e.queue.length>0&&e.flush(),e.poll()},this._pollInterval)}},{key:"flush",value:function(){var e=new Date(Date.now()),t=this.queue.filter(function(t){return t.retryAt<e});if(t.length>0){this.queue=this.queue.filter(function(t){return t.retryAt>=e});var r,n=i(t);try{for(n.s();!(r=n.n()).done;){var o=r.value.requestData;this._executeXhrRequest(o)}}catch(u){n.e(u)}finally{n.f()}}}},{key:"unload",value:function(){clearTimeout(this._poller);var e,r=i(this.queue);try{for(r.s();!(e=r.n()).done;){var n=e.value.requestData,u=n.url,a=n.data,c=n.options;window.navigator.sendBeacon(u,(0,t.encodePostData)(a,o(o({},c),{},{sendBeacon:!0})))}}catch(l){r.e(l)}finally{r.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(e){var r=e.url,n=e.data,o=e.options,u=e.headers,i=e.callback,a=e.retriesPerformedSoFar;(0,t.xhr)({url:r,data:n||{},options:o||{},headers:u||{},retriesPerformedSoFar:a||0,callback:i,captureMetrics:this.captureMetrics,retryQueue:this})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),u}();exports.RetryQueue=O;
},{"./base-request-queue":"ae0g","./send-request":"tOu2"}],"ok3T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.init_from_snippet=Q,exports.init_as_module=N,exports.PostHogLib=void 0;var e,t,o=require("./lz-string"),i=m(require("./config")),r=require("./utils"),n=require("./autocapture"),s=require("./posthog-people"),p=require("./posthog-featureflags"),c=require("./posthog-persistence"),a=require("./extensions/sessionrecording"),_=require("./decide"),u=require("./extensions/toolbar"),d=require("./gdpr-utils"),g=require("./storage"),l=require("./request-queue"),h=require("./capture-metrics"),f=require("./compression"),y=require("./send-request"),b=require("./retry-queue");function m(e){return e&&e.__esModule?e:{default:e}}function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,i)}return o}function w(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach(function(t){k(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}function k(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function q(e,t){return E(e)||x(e,t)||P(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){if(e){if("string"==typeof e)return O(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,i=new Array(t);o<t;o++)i[o]=e[o];return i}function x(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var o=[],i=!0,r=!1,n=void 0;try{for(var s,p=e[Symbol.iterator]();!(i=(s=p.next()).done)&&(o.push(s.value),!t||o.length!==t);i=!0);}catch(c){r=!0,n=c}finally{try{i||null==p.return||p.return()}finally{if(r)throw n}}return o}}function E(e){if(Array.isArray(e))return e}var F=0,j=1,H=function(){},I={},A="posthog",$=r.window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,R=!$&&-1===r.userAgent.indexOf("MSIE")&&-1===r.userAgent.indexOf("Mozilla"),D=function(){return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",autocapture:!0,rageclick:!1,cross_subdomain_cookie:-1===r.document.location.hostname.indexOf("herokuapp.com"),persistence:"cookie",persistence_name:"",cookie_name:"",loaded:function(){},store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,capture_pageview:!0,debug:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:"https:"===r.window.location.protocol,ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,property_blacklist:[],sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{blockClass:"ph-no-capture",blockSelector:null,ignoreClass:"ph-ignore-input",maskAllInputs:!1,maskInputOptions:{},maskInputFn:null,slimDOMOptions:{},collectFonts:!1},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,_onCapture:function(){},_capture_metrics:!1}},M=function(){};exports.PostHogLib=M;var L=function(o,c,d){var g,l=d===A?t:t[d];if(l&&e===F)g=l;else{if(l&&!r._.isArray(l))return void r.console.error("You have already initialized "+d);g=new M}if(g._init(o,c,d),g.people=new s.PostHogPeople,g.people._init(g),g.featureFlags=new p.PostHogFeatureFlags(g),g.feature_flags=g.featureFlags,g.toolbar=new u.Toolbar(g),g.sessionRecording=new a.SessionRecording(g),g.sessionRecording.startRecordingIfEnabled(),g.__autocapture_enabled=g.get_config("autocapture"),g.get_config("autocapture")){n.autocapture.enabledForProject(g.get_config("token"),100,100)?n.autocapture.isBrowserSupported()?n.autocapture.init(g):(g.__autocapture_enabled=!1,r.console.log("Disabling Automatic Event Collection because this browser is not supported")):(g.__autocapture_enabled=!1,r.console.log("Not in active bucket: disabling Automatic Event Collection."))}return g.get_config("advanced_disable_decide")||new _.Decide(g).call(),i.default.DEBUG=i.default.DEBUG||g.get_config("debug"),!r._.isUndefined(l)&&r._.isArray(l)&&(g._execute_array.call(g.people,l.people),g._execute_array(l)),g};M.prototype.init=function(e,o,i){if(r._.isUndefined(i))r.console.error("You must name your new library: init(token, config, name)");else{if(i!==A){var n=L(e,o,i);return t[i]=n,n._loaded(),n}r.console.error("You must initialize the main posthog object right after you include the PostHog js snippet")}},M.prototype._init=function(e,t,o){this.__loaded=!0,this.config={},this._triggered_notifs=[],this.compression={},this.set_config(r._.extend({},D(),t,{name:o,token:e,callback_fn:(o===A?o:A+"."+o)+"._jsc"})),this._jsc=function(){},this._captureMetrics=new h.CaptureMetrics(this.get_config("_capture_metrics"),r._.bind(this.capture,this)),this._requestQueue=new l.RequestQueue(this._captureMetrics,r._.bind(this._handle_queued_event,this)),this._retryQueue=new b.RetryQueue(this._captureMetrics),this.__captureHooks=[],this.__request_queue=[],this.persistence=new c.PostHogPersistence(this.config),this._gdpr_init();var i=r._.UUID();this.get_distinct_id()||this.register_once({distinct_id:i,$device_id:i},""),r.window.addEventListener&&r.window.addEventListener("unload",this._handle_unload.bind(this))},M.prototype._loaded=function(){this.get_config("loaded")(this),this._start_queue_if_opted_in(),this.get_config("capture_pageview")&&this.capture_pageview()},M.prototype._start_queue_if_opted_in=function(){this.has_opted_out_capturing()||this.get_config("request_batching")&&this._requestQueue.poll()},M.prototype._dom_loaded=function(){this.has_opted_out_capturing()||r._.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__request_queue,this._start_queue_if_opted_in()},M.prototype._prepare_callback=function(e,t){if(r._.isUndefined(e))return null;if($){return function(o){e(o,t)}}var o=this._jsc,i=""+Math.floor(1e8*Math.random()),n=this.get_config("callback_fn")+"["+i+"]";return o[i]=function(r){delete o[i],e(r,t)},n},M.prototype._handle_unload=function(){this.get_config("request_batching")?(this.get_config("capture_pageview")&&this.capture("$pageleave"),this.get_config("_capture_metrics")&&(this._requestQueue.updateUnloadMetrics(),this.capture("$capture_metrics",this._captureMetrics.metrics),this._captureMetrics.captureInProgressRequests()),this._requestQueue.unload(),this._retryQueue.unload()):this.get_config("capture_pageview")&&this.capture("$pageleave",null,{transport:"sendbeacon"})},M.prototype._handle_queued_event=function(e,t,o){var i=JSON.stringify(t);this.__compress_and_send_json_request(e,i,o||I,H)},M.prototype.__compress_and_send_json_request=function(e,t,o,i){var r=q((0,f.compressData)((0,f.decideCompression)(this.compression),t,o),2),n=r[0],s=r[1];this._send_request(e,n,s,i)},M.prototype._send_request=function(e,t,o,i){if(R)this.__request_queue.push(arguments);else{var n={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")};o=r._.extend(n,o||{}),$||(o.method="GET");var s=r.window.navigator.sendBeacon&&"sendbeacon"===o.transport.toLowerCase(),p=o.urlQueryArgs||{};if(p.ip=this.get_config("ip")?1:0,p._=(new Date).getTime().toString(),e+="?"+r._.HTTPBuildQuery(p),r._.isObject(t)&&this.get_config("img")){var c=r.document.createElement("img");c.src=e,r.document.body.appendChild(c)}else if(s)r.window.navigator.sendBeacon(e,(0,y.encodePostData)(t,w(w({},o),{},{sendBeacon:!0})));else if($)try{(0,y.xhr)({url:e,data:t,headers:this.get_config("xhr_headers"),options:o,captureMetrics:this._captureMetrics,callback:i,retriesPerformedSoFar:0,retryQueue:this._retryQueue})}catch(u){r.console.error(u)}else{var a=r.document.createElement("script");a.type="text/javascript",a.async=!0,a.defer=!0,a.src=e;var _=r.document.getElementsByTagName("script")[0];_.parentNode.insertBefore(a,_)}}},M.prototype._execute_array=function(e){var t,o=[],i=[],n=[];r._.each(e,function(e){e&&(t=e[0],r._.isArray(t)?n.push(e):"function"==typeof e?e.call(this):r._.isArray(e)&&"alias"===t?o.push(e):r._.isArray(e)&&-1!==t.indexOf("capture")&&"function"==typeof this[t]?n.push(e):i.push(e))},this);var s=function(e,t){r._.each(e,function(e){if(r._.isArray(e[0])){var o=t;r._.each(e,function(e){o=o[e[0]].apply(o,e.slice(1))})}else this[e[0]].apply(this,e.slice(1))},t)};s(o,this),s(i,this),s(n,this)},M.prototype.push=function(e){this._execute_array([e])},M.prototype.capture=(0,d.addOptOutCheckPostHogLib)(function(e,t,o){this._captureMetrics.incr("capture"),"$snapshot"===e&&this._captureMetrics.incr("snapshot");var i=(o=o||I).transport;if(i&&(o.transport=i),r._.isUndefined(e)||"string"!=typeof e)r.console.error("No event name provided to posthog.capture");else if(!r._.isBlockedUA(r.userAgent)){var n=this.persistence.remove_event_timer(e);this.persistence.update_search_keyword(r.document.referrer),this.get_config("store_google")&&this.persistence.update_campaign_params(),this.get_config("save_referrer")&&this.persistence.update_referrer_info(r.document.referrer);var s={event:e,properties:this._calculate_event_properties(e,t,n)};"$identify"===e&&o.$set&&(s.$set=o.$set),s=r._.copyAndTruncateStrings(s,o._noTruncate?null:this.get_config("properties_string_max_length")),this.get_config("debug")&&r.console.log("PostHog.js send",s);var p=JSON.stringify(s),c=this.get_config("api_host")+(o.endpoint||"/e/"),a=o!==I;return!this.get_config("request_batching")||a&&!o._batchKey?this.__compress_and_send_json_request(c,p,o):(s.timestamp=new Date,this._requestQueue.enqueue(c,s,o)),this._invokeCaptureHooks(e),s}}),M.prototype._addCaptureHook=function(e){this.__captureHooks.push(e)},M.prototype._invokeCaptureHooks=function(e){this.config._onCapture(e),r._.each(this.__captureHooks,function(t){return t(e)})},M.prototype._calculate_event_properties=function(e,t,o){var i=t||{};if(i.token=this.get_config("token"),"$snapshot"===e){var n=this.persistence.properties();return i.distinct_id=n.distinct_id,i}if(!r._.isUndefined(o)){var s=(new Date).getTime()-o;i.$duration=parseFloat((s/1e3).toFixed(3))}i=r._.extend({},r._.info.properties(),this.persistence.properties(),i);var p=this.get_config("property_blacklist");r._.isArray(p)?r._.each(p,function(e){delete i[e]}):r.console.error("Invalid value for property_blacklist config: "+p);var c=this.get_config("sanitize_properties");return c&&(i=c(i,e)),i},M.prototype.capture_pageview=function(e){r._.isUndefined(e)&&(e=r.document.location.href),this.capture("$pageview")},M.prototype.register=function(e,t){this.persistence.register(e,t)},M.prototype.register_once=function(e,t,o){this.persistence.register_once(e,t,o)},M.prototype.unregister=function(e){this.persistence.unregister(e)},M.prototype._register_single=function(e,t){var o={};o[e]=t,this.register(o)},M.prototype.isFeatureEnabled=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.featureFlags.isFeatureEnabled(e,t)},M.prototype.reloadFeatureFlags=function(){return this.feature_flags.reloadFeatureFlags()},M.prototype.onFeatureFlags=function(e){this.persistence.addFeatureFlagsHandler(e);var t=this.feature_flags.getFlags();t&&e(t)},M.prototype.identify=function(e,t,o){if(e){this._captureMetrics.incr("identify");var i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var n=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:n},"")}e!==i&&e!==this.get_property(c.ALIAS_ID_KEY)&&(this.unregister(c.ALIAS_ID_KEY),this.register({distinct_id:e})),e===i||this.get_property("$device_id")&&i!==this.get_property("$device_id")?(t&&this.people.set(t),o&&this.people.set_once(o)):this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:t||{}},{$set_once:o||{}}),this.reloadFeatureFlags()}else r.console.error("Unique user id has not been set in posthog.identify")},M.prototype.reset=function(e){var t=this.get_property("$device_id");this.persistence.clear();var o=r._.UUID();this.register_once({distinct_id:o,$device_id:e?o:t},"")},M.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},M.prototype.alias=function(e,t){if(e===this.get_property(c.PEOPLE_DISTINCT_ID_KEY))return r.console.critical("Attempting to create alias for existing People user - aborting."),-2;var o=this;return r._.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(c.ALIAS_ID_KEY,e),this.capture("$create_alias",{alias:e,distinct_id:t},function(){o.identify(e)})):(r.console.error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)},M.prototype.set_config=function(e){var t=w({},this.config);r._.isObject(e)&&(r._.extend(this.config,e),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),g.localStore.is_supported()&&"true"===g.localStore.get("ph_debug")&&(this.config.debug=!0),i.default.DEBUG=i.default.DEBUG||this.get_config("debug"),this.sessionRecording&&void 0!==e.disable_session_recording&&t.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))},M.prototype.startSessionRecording=function(){this.set_config({disable_session_recording:!1})},M.prototype.stopSessionRecording=function(){this.set_config({disable_session_recording:!0})},M.prototype.sessionRecordingStarted=function(){return this.sessionRecording.started()},M.prototype.get_config=function(e){return this.config[e]},M.prototype.get_property=function(e){return this.persistence.props[e]},M.prototype.toString=function(){var e=this.get_config("name");return e!==A&&(e=A+"."+e),e},M.prototype._gdpr_init=function(){"localStorage"===this.get_config("opt_out_capturing_persistence_type")&&g.localStore.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.get_config("opt_out_capturing_by_default")&&!g.cookieStore.get("ph_optout")||(g.cookieStore.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},M.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else{if(!e||!e.enable_persistence)return;t=!1}this.get_config("disable_persistence")||this.persistence.disabled===t||this.persistence.set_disabled(t)},M.prototype._gdpr_call_func=function(e,t){return t=r._.extend({capture:r._.bind(this.capture,this),persistence_type:this.get_config("opt_out_capturing_persistence_type"),cookie_prefix:this.get_config("opt_out_capturing_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),secure_cookie:this.get_config("secure_cookie")},t),g.localStore.is_supported()||"localStorage"!==t.persistence_type||(t.persistence_type="cookie"),e(this.get_config("token"),{capture:t.capture,captureEventName:t.capture_event_name,captureProperties:t.capture_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieExpiration:t.cookie_expiration,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie})},M.prototype.opt_in_capturing=function(e){e=r._.extend({enable_persistence:!0},e),this._gdpr_call_func(d.optIn,e),this._gdpr_update_persistence(e)},M.prototype.opt_out_capturing=function(e){e=r._.extend({clear_persistence:!0},e),this._gdpr_call_func(d.optOut,e),this._gdpr_update_persistence(e)},M.prototype.has_opted_in_capturing=function(e){return this._gdpr_call_func(d.hasOptedIn,e)},M.prototype.has_opted_out_capturing=function(e){return this._gdpr_call_func(d.hasOptedOut,e)},M.prototype.clear_opt_in_out_capturing=function(e){e=r._.extend({enable_persistence:!0},e),this._gdpr_call_func(d.clearOptInOut,e),this._gdpr_update_persistence(e)},M.prototype.sentry_integration=function(e,t,o,i){this.name="posthog-js",this.setupOnce=function(r){r(function(r){if("error"!==r.level||!e.__loaded)return r;r.tags||(r.tags={}),r.tags["PostHog URL"]=e.config.api_host+"/person/"+e.get_distinct_id();var n={$sentry_event_id:r.event_id,$sentry_exception:r.exception};return t&&o&&(n.$sentry_url=(i||"https://sentry.io/organizations/")+t+"/issues/?project="+o+"&query="+r.event_id),e.capture("$exception",n),r})}},M.prototype.debug=function(e){!1===e?(r.window.console.log("You've disabled debug mode."),localStorage&&localStorage.setItem("ph_debug",void 0),this.set_config({debug:!1})):(r.window.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))},M.prototype.decodeLZ64=o.LZString.decompressFromBase64,M.prototype.init=M.prototype.init,M.prototype.reset=M.prototype.reset,M.prototype.capture=M.prototype.capture,M.prototype.capture_pageview=M.prototype.capture_pageview,M.prototype.register=M.prototype.register,M.prototype.register_once=M.prototype.register_once,M.prototype.unregister=M.prototype.unregister,M.prototype.identify=M.prototype.identify,M.prototype.alias=M.prototype.alias,M.prototype.set_config=M.prototype.set_config,M.prototype.get_config=M.prototype.get_config,M.prototype.get_property=M.prototype.get_property,M.prototype.get_distinct_id=M.prototype.get_distinct_id,M.prototype.toString=M.prototype.toString,M.prototype.opt_out_captureing=M.prototype.opt_out_captureing,M.prototype.opt_in_captureing=M.prototype.opt_in_captureing,M.prototype.has_opted_out_captureing=M.prototype.has_opted_out_captureing,M.prototype.has_opted_in_captureing=M.prototype.has_opted_in_captureing,M.prototype.clear_opt_in_out_captureing=M.prototype.clear_opt_in_out_captureing,M.prototype.opt_out_capturing=M.prototype.opt_out_capturing,M.prototype.opt_in_capturing=M.prototype.opt_in_capturing,M.prototype.has_opted_out_capturing=M.prototype.has_opted_out_capturing,M.prototype.has_opted_in_capturing=M.prototype.has_opted_in_capturing,M.prototype.clear_opt_in_out_capturing=M.prototype.clear_opt_in_out_capturing,M.prototype.isFeatureEnabled=M.prototype.isFeatureEnabled,M.prototype.reloadFeatureFlags=M.prototype.reloadFeatureFlags,M.prototype.onFeatureFlags=M.prototype.onFeatureFlags,M.prototype.decodeLZ64=M.prototype.decodeLZ64,M.prototype.SentryIntegration=M.prototype.sentry_integration,M.prototype.debug=M.prototype.debug,M.prototype.LIB_VERSION=i.default.LIB_VERSION,M.prototype.startSessionRecording=M.prototype.startSessionRecording,M.prototype.stopSessionRecording=M.prototype.stopSessionRecording,M.prototype.sessionRecordingStarted=M.prototype.sessionRecordingStarted,c.PostHogPersistence.prototype.properties=c.PostHogPersistence.prototype.properties,c.PostHogPersistence.prototype.update_search_keyword=c.PostHogPersistence.prototype.update_search_keyword,c.PostHogPersistence.prototype.update_referrer_info=c.PostHogPersistence.prototype.update_referrer_info,c.PostHogPersistence.prototype.get_cross_subdomain=c.PostHogPersistence.prototype.get_cross_subdomain,c.PostHogPersistence.prototype.clear=c.PostHogPersistence.prototype.clear,r._.safewrap_class(M,["identify"]);var U={},C=function(){r._.each(U,function(e,o){o!==A&&(t[o]=e)}),t._=r._},B=function(){t.init=function(o,i,n){if(n)return t[n]||(t[n]=U[n]=L(o,i,n),t[n]._loaded()),t[n];var s=t;U[A]?s=U[A]:o&&((s=L(o,i,A))._loaded(),U[A]=s),t=s,e===j&&(r.window[A]=t),C()}},T=function(){function e(){e.done||(e.done=!0,R=!1,r._.each(U,function(e){e._dom_loaded()}))}if(r.document.addEventListener)"complete"===r.document.readyState?e():r.document.addEventListener("DOMContentLoaded",e,!1);else if(r.document.attachEvent){r.document.attachEvent("onreadystatechange",e);var t=!1;try{t=null===r.window.frameElement}catch(o){}r.document.documentElement.doScroll&&t&&function t(){try{r.document.documentElement.doScroll("left")}catch(o){return void setTimeout(t,1)}e()}()}r._.register_event(r.window,"load",e,!0)};function Q(){e=j,r._.isUndefined(r.window.posthog)&&(r.window.posthog=[]),(t=r.window.posthog).__loaded||t.config&&t.persistence?r.console.error("PostHog library has already been downloaded at least once."):(r._.each(t._i,function(e){e&&r._.isArray(e)&&(U[e[e.length-1]]=L.apply(this,e))}),B(),t.init(),r._.each(U,function(e){e._loaded()}),T())}function N(){return e=F,t=new M,B(),t.init(),T(),t}
},{"./lz-string":"zdbk","./config":"itQ5","./utils":"FOZT","./autocapture":"gR3r","./posthog-people":"ecEG","./posthog-featureflags":"aVqC","./posthog-persistence":"MAdm","./extensions/sessionrecording":"Z2N4","./decide":"auG7","./extensions/toolbar":"ZEpJ","./gdpr-utils":"rxSh","./storage":"KZ7Y","./request-queue":"Je4H","./capture-metrics":"TeHW","./compression":"Ie9M","./send-request":"tOu2","./retry-queue":"ennf"}],"e2xX":[function(require,module,exports) {
"use strict";var r=require("./posthog-core");(0,r.init_from_snippet)();
},{"./posthog-core":"ok3T"}]},{},["e2xX"], null)